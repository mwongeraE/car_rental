CREATE DATABASE  IF NOT EXISTS `247_car_rental` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `247_car_rental`;
-- MySQL dump 10.13  Distrib 5.7.17, for macos10.12 (x86_64)
--
-- Host: 89.184.67.74    Database: 247_car_rental
-- ------------------------------------------------------
-- Server version	5.6.24-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `attr`
--

DROP TABLE IF EXISTS `attr`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `attr` (
  `name` varchar(32) NOT NULL,
  UNIQUE KEY `idx_unique_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `attr`
--

LOCK TABLES `attr` WRITE;
/*!40000 ALTER TABLE `attr` DISABLE KEYS */;
INSERT INTO `attr` VALUES ('about'),('title'),('value');
/*!40000 ALTER TABLE `attr` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `attr_part`
--

DROP TABLE IF EXISTS `attr_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `attr_part` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `object_id` int(11) NOT NULL,
  `object_name` varchar(64) NOT NULL,
  `name` varchar(32) NOT NULL,
  `value` varchar(128) DEFAULT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_object_id` (`object_id`),
  KEY `idx_object_name` (`object_name`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`)
) ENGINE=InnoDB AUTO_INCREMENT=217 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `attr_part`
--

LOCK TABLES `attr_part` WRITE;
/*!40000 ALTER TABLE `attr_part` DISABLE KEYS */;
INSERT INTO `attr_part` VALUES (37,1,'product_type','title','Fixed Transportation','ENGLISH','2017-10-17 09:25:42'),(38,2,'product_type','title','Transportation from A to B point','ENGLISH','2017-10-17 09:25:42'),(39,3,'product_type','title','Сar rental with driver','ENGLISH','2017-10-17 09:25:42'),(40,1,'product_type','title','Фиксированный проезд','RUSSIAN','2017-10-17 09:25:42'),(41,2,'product_type','title','Проезд от пукта А к пункту В','RUSSIAN','2017-10-17 09:25:42'),(42,3,'product_type','title','Аренда автомобиля с водителем','RUSSIAN','2017-10-17 09:25:42'),(43,1,'product_type','title','Фіксований проїзд','UKRAINIAN','2017-10-17 09:25:42'),(44,2,'product_type','title','Проїзд з пункта А до пункта В','UKRAINIAN','2017-10-17 09:25:42'),(45,3,'product_type','title','Аренда автомобіля з водієм','UKRAINIAN','2017-10-17 09:25:42'),(46,1,'product_type','about','Transportation at a fixed price','ENGLISH','2017-10-17 09:25:42'),(47,2,'product_type','about','Transportation with payment per km','ENGLISH','2017-10-17 09:25:42'),(48,3,'product_type','about','Rent with payment by hour','ENGLISH','2017-10-17 09:25:42'),(49,1,'product_type','about','Проезд с фиксированной оплатой','RUSSIAN','2017-10-17 09:25:42'),(50,2,'product_type','about','Проезд с покилометровой оплатой','RUSSIAN','2017-10-17 09:25:42'),(51,3,'product_type','about','Аренда с почасовой оплатой','RUSSIAN','2017-10-17 09:25:42'),(52,1,'product_type','about','Проїзд з фіксованою оплатою','UKRAINIAN','2017-10-17 09:25:42'),(53,2,'product_type','about','Проїзд з покілометровою оплатою','UKRAINIAN','2017-10-17 09:25:42'),(54,3,'product_type','about','Аренда з погодинною оплатою','UKRAINIAN','2017-10-17 09:25:42'),(94,1,'order_status','title','Accepted','ENGLISH','2017-10-17 09:25:42'),(95,2,'order_status','title','Processed','ENGLISH','2017-10-17 09:25:42'),(96,3,'order_status','title','Landing','ENGLISH','2017-10-17 09:25:42'),(97,4,'order_status','title','Delivering','ENGLISH','2017-10-17 09:25:42'),(98,5,'order_status','title','Completed','ENGLISH','2017-10-17 09:25:42'),(99,-1,'order_status','title','Cancellation','ENGLISH','2017-10-17 09:25:42'),(100,-2,'order_status','title','Canceled','ENGLISH','2017-10-17 09:25:42'),(101,1,'order_status','title','Принят','RUSSIAN','2017-10-17 09:25:42'),(102,2,'order_status','title','Обработан','RUSSIAN','2017-10-17 09:25:42'),(103,3,'order_status','title','Посадка','RUSSIAN','2017-10-17 09:25:42'),(104,4,'order_status','title','Доставка','RUSSIAN','2017-10-17 09:25:42'),(105,5,'order_status','title','Выполнено','RUSSIAN','2017-10-17 09:25:42'),(106,-1,'order_status','title','Отмена заказа','RUSSIAN','2017-10-17 09:25:42'),(107,-2,'order_status','title','Отменен','RUSSIAN','2017-10-17 09:25:42'),(108,1,'order_status','title','Прийнято','UKRAINIAN','2017-10-17 09:25:42'),(109,2,'order_status','title','Оброблено','UKRAINIAN','2017-10-17 09:25:42'),(110,3,'order_status','title','Посадка','UKRAINIAN','2017-10-17 09:25:42'),(111,4,'order_status','title','Доставка','UKRAINIAN','2017-10-17 09:25:42'),(112,5,'order_status','title','Виконано','UKRAINIAN','2017-10-17 09:25:42'),(113,-1,'order_status','title','Скасування замовлення','UKRAINIAN','2017-10-17 09:25:42'),(114,-2,'order_status','title','Скасовано','UKRAINIAN','2017-10-17 09:25:42'),(115,1,'discount','title','For old customer','ENGLISH','2017-10-17 09:25:42'),(116,1,'discount','title','Для постоянных покупателей','RUSSIAN','2017-10-17 09:25:42'),(117,1,'discount','title','Для постійних покупців','UKRAINIAN','2017-10-17 09:25:42'),(118,2,'discount','title','Landing','ENGLISH','2017-10-17 09:25:42'),(119,2,'discount','title','Посадка','RUSSIAN','2017-10-17 09:25:42'),(120,2,'discount','title','Посадка','UKRAINIAN','2017-10-17 09:25:42'),(121,3,'discount','title','Landing','ENGLISH','2017-10-17 09:25:42'),(122,3,'discount','title','Посадка','RUSSIAN','2017-10-17 09:25:42'),(123,3,'discount','title','Посадка','UKRAINIAN','2017-10-17 09:25:42'),(124,4,'discount','title','Landing','ENGLISH','2017-10-17 09:25:42'),(125,4,'discount','title','Посадка','RUSSIAN','2017-10-17 09:25:42'),(126,4,'discount','title','Посадка','UKRAINIAN','2017-10-17 09:25:42'),(127,1,'discount','about','More then 10 purchases','ENGLISH','2017-10-17 09:25:42'),(128,1,'discount','about','Больше чем 10 покупок','RUSSIAN','2017-10-17 09:25:42'),(129,1,'discount','about','Більш ніж 10 покупок','UKRAINIAN','2017-10-17 09:25:42'),(130,2,'discount','about','Landing in the car','ENGLISH','2017-10-17 09:25:42'),(131,2,'discount','about','Подача автомобиля','RUSSIAN','2017-10-17 09:25:42'),(132,2,'discount','about','Подача автомобіля','UKRAINIAN','2017-10-17 09:25:42'),(133,3,'discount','about','Landing in the car','ENGLISH','2017-10-17 09:25:42'),(134,3,'discount','about','Подача автомобиля','RUSSIAN','2017-10-17 09:25:42'),(135,3,'discount','about','Подача автомобіля','UKRAINIAN','2017-10-17 09:25:42'),(136,4,'discount','about','Landing in the car','ENGLISH','2017-10-17 09:25:42'),(137,4,'discount','about','Подача автомобиля','RUSSIAN','2017-10-17 09:25:42'),(138,4,'discount','about','Подача автомобіля','UKRAINIAN','2017-10-17 09:25:42'),(139,1,'currency','title','USD','ENGLISH','2017-10-17 09:25:42'),(140,2,'currency','title','EUR','ENGLISH','2017-10-17 09:25:42'),(141,3,'currency','title','UAH','ENGLISH','2017-10-17 09:25:42'),(142,1,'currency','title','дол.','RUSSIAN','2017-10-17 09:25:42'),(143,2,'currency','title','евро','RUSSIAN','2017-10-17 09:25:42'),(144,3,'currency','title','грн.','RUSSIAN','2017-10-17 09:25:42'),(145,1,'currency','title','дол.','UKRAINIAN','2017-10-17 09:25:42'),(146,2,'currency','title','євро','UKRAINIAN','2017-10-17 09:25:42'),(147,3,'currency','title','грн.','UKRAINIAN','2017-10-17 09:25:42'),(148,1,'currency','about','US dollar','ENGLISH','2017-10-17 09:25:42'),(149,2,'currency','about','Euro','ENGLISH','2017-10-17 09:25:42'),(150,3,'currency','about','Gryvna','ENGLISH','2017-10-17 09:25:42'),(151,1,'currency','about','Доллар США','RUSSIAN','2017-10-17 09:25:42'),(152,2,'currency','about','Евро','RUSSIAN','2017-10-17 09:25:42'),(153,3,'currency','about','Гривна','RUSSIAN','2017-10-17 09:25:42'),(154,1,'currency','about','Долар США','UKRAINIAN','2017-10-17 09:25:42'),(155,2,'currency','about','Євро','UKRAINIAN','2017-10-17 09:25:42'),(156,3,'currency','about','Гривня','UKRAINIAN','2017-10-17 09:25:42'),(157,1,'tax','title','VAT','ENGLISH','2017-10-17 09:25:42'),(158,2,'tax','title','Single tax','ENGLISH','2017-10-17 09:25:42'),(159,1,'tax','title','НДС','RUSSIAN','2017-10-17 09:25:42'),(160,2,'tax','title','единый налог','RUSSIAN','2017-10-17 09:25:42'),(161,1,'tax','title','ПДВ','UKRAINIAN','2017-10-17 09:25:42'),(162,2,'tax','title','єдиний податок','UKRAINIAN','2017-10-17 09:25:42');
/*!40000 ALTER TABLE `attr_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `audit`
--

DROP TABLE IF EXISTS `audit`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `audit` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(48) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `username` varchar(64) NOT NULL,
  `message` varchar(256) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_description` (`description`),
  KEY `idx_username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=282 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `audit`
--

LOCK TABLES `audit` WRITE;
/*!40000 ALTER TABLE `audit` DISABLE KEYS */;
INSERT INTO `audit` VALUES (1,'add_product_type','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 13:14:18','2018-01-13 11:14:18'),(2,'add_product_type','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 13:14:46','2018-01-13 11:14:46'),(3,'add_product_type','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 13:15:13','2018-01-13 11:15:13'),(4,'add_product_type','success: code=0 username=car_rental@gmail.com id=7','car_rental@gmail.com',NULL,'2018-01-13 13:15:47','2018-01-13 11:15:47'),(5,'add_product_type','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 13:16:10','2018-01-13 11:16:10'),(6,'add_product_type','success: code=0 username=car_rental@gmail.com id=9','car_rental@gmail.com',NULL,'2018-01-13 13:16:36','2018-01-13 11:16:36'),(7,'add_product_type','success: code=0 username=car_rental@gmail.com id=10','car_rental@gmail.com',NULL,'2018-01-13 13:16:56','2018-01-13 11:16:56'),(8,'add_product_type','success: code=0 username=car_rental@gmail.com id=11','car_rental@gmail.com',NULL,'2018-01-13 13:17:30','2018-01-13 11:17:30'),(9,'add_product_param','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 13:25:48','2018-01-13 11:25:48'),(10,'add_product_param','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 13:26:26','2018-01-13 11:26:26'),(11,'add_product_param','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 13:26:41','2018-01-13 11:26:41'),(12,'add_product_param','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 13:27:06','2018-01-13 11:27:06'),(13,'add_product_param','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 13:27:23','2018-01-13 11:27:23'),(14,'add_product_param','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 13:27:38','2018-01-13 11:27:38'),(15,'add_product_param','success: code=0 username=car_rental@gmail.com id=7','car_rental@gmail.com',NULL,'2018-01-13 13:27:53','2018-01-13 11:27:53'),(16,'add_product_param','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 13:28:41','2018-01-13 11:28:41'),(17,'update_product_param','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 13:28:54','2018-01-13 11:28:54'),(18,'add_product_param','success: code=0 username=car_rental@gmail.com id=9','car_rental@gmail.com',NULL,'2018-01-13 13:29:27','2018-01-13 11:29:27'),(19,'add_product_param','success: code=0 username=car_rental@gmail.com id=10','car_rental@gmail.com',NULL,'2018-01-13 13:29:50','2018-01-13 11:29:50'),(20,'add_product_param','success: code=0 username=car_rental@gmail.com id=11','car_rental@gmail.com',NULL,'2018-01-13 13:30:03','2018-01-13 11:30:03'),(21,'add_product_param','success: code=0 username=car_rental@gmail.com id=12','car_rental@gmail.com',NULL,'2018-01-13 13:30:31','2018-01-13 11:30:31'),(22,'add_product_param','success: code=0 username=car_rental@gmail.com id=13','car_rental@gmail.com',NULL,'2018-01-13 13:30:51','2018-01-13 11:30:51'),(23,'add_product_param','success: code=0 username=car_rental@gmail.com id=14','car_rental@gmail.com',NULL,'2018-01-13 13:31:04','2018-01-13 11:31:04'),(24,'add_product_param','success: code=0 username=car_rental@gmail.com id=15','car_rental@gmail.com',NULL,'2018-01-13 13:31:18','2018-01-13 11:31:18'),(25,'update_transport_type','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 13:53:04','2018-01-13 11:53:04'),(26,'update_transport_type','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 13:53:19','2018-01-13 11:53:19'),(27,'update_transport_type','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 13:53:32','2018-01-13 11:53:32'),(28,'add_transport_type','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 13:53:51','2018-01-13 11:53:51'),(29,'add_transport_type','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 13:54:19','2018-01-13 11:54:19'),(30,'add_transport_type','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 13:54:38','2018-01-13 11:54:38'),(31,'add_transport_type','success: code=0 username=car_rental@gmail.com id=7','car_rental@gmail.com',NULL,'2018-01-13 13:54:59','2018-01-13 11:54:59'),(32,'add_transport_type','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 13:55:17','2018-01-13 11:55:17'),(33,'update_manufacture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 13:56:27','2018-01-13 11:56:27'),(34,'add_manufacture','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 13:56:38','2018-01-13 11:56:38'),(35,'add_manufacture','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 13:57:03','2018-01-13 11:57:03'),(36,'add_manufacture','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 13:57:34','2018-01-13 11:57:34'),(37,'add_manufacture','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 13:58:21','2018-01-13 11:58:21'),(38,'update_manufacture','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 13:59:00','2018-01-13 11:59:00'),(39,'update_manufacture','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 13:59:13','2018-01-13 11:59:13'),(40,'update_manufacture','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 13:59:33','2018-01-13 11:59:33'),(41,'update_manufacture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:00:24','2018-01-13 12:00:24'),(42,'update_manufacture_picture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:02:30','2018-01-13 12:02:30'),(43,'update_manufacture_picture','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 14:02:38','2018-01-13 12:02:38'),(44,'update_manufacture_picture','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 14:02:48','2018-01-13 12:02:48'),(45,'update_manufacture_picture','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:02:55','2018-01-13 12:02:55'),(46,'update_manufacture_picture','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 14:03:15','2018-01-13 12:03:15'),(47,'update_product_param','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:06:54','2018-01-13 12:06:54'),(48,'update_product_param','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 14:07:01','2018-01-13 12:07:01'),(49,'update_product','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:08:38','2018-01-13 12:08:38'),(50,'update_product_discount','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:08:38','2018-01-13 12:08:38'),(51,'add_currency','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:10:26','2018-01-13 12:10:26'),(52,'update_currency_activity','success: code=0 username=car_rental@gmail.com id=4 active=0','car_rental@gmail.com',NULL,'2018-01-13 14:10:26','2018-01-13 12:10:26'),(53,'update_currency','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:10:33','2018-01-13 12:10:33'),(54,'update_currency_activity','success: code=0 username=car_rental@gmail.com id=4 active=1','car_rental@gmail.com',NULL,'2018-01-13 14:10:33','2018-01-13 12:10:33'),(55,'update_currency','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:10:37','2018-01-13 12:10:37'),(56,'update_currency_activity','success: code=0 username=car_rental@gmail.com id=1 active=0','car_rental@gmail.com',NULL,'2018-01-13 14:10:37','2018-01-13 12:10:37'),(57,'update_product','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:11:58','2018-01-13 12:11:58'),(58,'update_product_discount','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:11:58','2018-01-13 12:11:58'),(59,'update_product_picture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:12:34','2018-01-13 12:12:34'),(60,'add_product','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 14:18:35','2018-01-13 12:18:35'),(61,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000035','car_rental@gmail.com',NULL,'2018-01-13 14:18:35','2018-01-13 12:18:35'),(62,'update_product_picture','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 14:19:32','2018-01-13 12:19:32'),(63,'add_product','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 14:20:12','2018-01-13 12:20:12'),(64,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000036','car_rental@gmail.com',NULL,'2018-01-13 14:20:12','2018-01-13 12:20:12'),(65,'update_product_picture','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 14:20:19','2018-01-13 12:20:19'),(66,'add_product','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:20:54','2018-01-13 12:20:54'),(67,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000037','car_rental@gmail.com',NULL,'2018-01-13 14:20:54','2018-01-13 12:20:54'),(68,'update_product_picture','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:21:02','2018-01-13 12:21:02'),(69,'add_product','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 14:22:47','2018-01-13 12:22:47'),(70,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000038','car_rental@gmail.com',NULL,'2018-01-13 14:22:47','2018-01-13 12:22:47'),(71,'update_product_picture','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 14:23:00','2018-01-13 12:23:00'),(72,'add_product','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 14:23:29','2018-01-13 12:23:29'),(73,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000039','car_rental@gmail.com',NULL,'2018-01-13 14:23:29','2018-01-13 12:23:29'),(74,'update_product_picture','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 14:23:40','2018-01-13 12:23:40'),(75,'add_product','success: code=0 username=car_rental@gmail.com id=7','car_rental@gmail.com',NULL,'2018-01-13 14:24:05','2018-01-13 12:24:05'),(76,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000040','car_rental@gmail.com',NULL,'2018-01-13 14:24:05','2018-01-13 12:24:05'),(77,'update_product_picture','success: code=0 username=car_rental@gmail.com id=7','car_rental@gmail.com',NULL,'2018-01-13 14:24:16','2018-01-13 12:24:16'),(78,'add_product','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 14:24:58','2018-01-13 12:24:58'),(79,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000041','car_rental@gmail.com',NULL,'2018-01-13 14:24:59','2018-01-13 12:24:59'),(80,'update_product_picture','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 14:25:24','2018-01-13 12:25:24'),(81,'add_product','success: code=0 username=car_rental@gmail.com id=9','car_rental@gmail.com',NULL,'2018-01-13 14:26:03','2018-01-13 12:26:03'),(82,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000042','car_rental@gmail.com',NULL,'2018-01-13 14:26:03','2018-01-13 12:26:03'),(83,'update_product_picture','success: code=0 username=car_rental@gmail.com id=9','car_rental@gmail.com',NULL,'2018-01-13 14:26:21','2018-01-13 12:26:21'),(84,'add_product','success: code=0 username=car_rental@gmail.com id=10','car_rental@gmail.com',NULL,'2018-01-13 14:27:43','2018-01-13 12:27:43'),(85,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000043','car_rental@gmail.com',NULL,'2018-01-13 14:27:43','2018-01-13 12:27:43'),(86,'update_product_picture','success: code=0 username=car_rental@gmail.com id=10','car_rental@gmail.com',NULL,'2018-01-13 14:27:54','2018-01-13 12:27:54'),(87,'add_product','success: code=0 username=car_rental@gmail.com id=11','car_rental@gmail.com',NULL,'2018-01-13 14:28:29','2018-01-13 12:28:29'),(88,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000044','car_rental@gmail.com',NULL,'2018-01-13 14:28:29','2018-01-13 12:28:29'),(89,'update_product_picture','success: code=0 username=car_rental@gmail.com id=11','car_rental@gmail.com',NULL,'2018-01-13 14:28:48','2018-01-13 12:28:48'),(90,'add_product','success: code=0 username=car_rental@gmail.com id=12','car_rental@gmail.com',NULL,'2018-01-13 14:29:21','2018-01-13 12:29:21'),(91,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000045','car_rental@gmail.com',NULL,'2018-01-13 14:29:21','2018-01-13 12:29:21'),(92,'update_product_picture','success: code=0 username=car_rental@gmail.com id=12','car_rental@gmail.com',NULL,'2018-01-13 14:29:42','2018-01-13 12:29:42'),(93,'add_product','success: code=0 username=car_rental@gmail.com id=13','car_rental@gmail.com',NULL,'2018-01-13 14:32:37','2018-01-13 12:32:37'),(94,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000046','car_rental@gmail.com',NULL,'2018-01-13 14:32:37','2018-01-13 12:32:37'),(95,'update_product_picture','success: code=0 username=car_rental@gmail.com id=13','car_rental@gmail.com',NULL,'2018-01-13 14:32:54','2018-01-13 12:32:54'),(96,'add_product','success: code=0 username=car_rental@gmail.com id=14','car_rental@gmail.com',NULL,'2018-01-13 14:34:16','2018-01-13 12:34:16'),(97,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000047','car_rental@gmail.com',NULL,'2018-01-13 14:34:16','2018-01-13 12:34:16'),(98,'update_product_picture','success: code=0 username=car_rental@gmail.com id=14','car_rental@gmail.com',NULL,'2018-01-13 14:34:25','2018-01-13 12:34:25'),(99,'add_product','success: code=0 username=car_rental@gmail.com id=15','car_rental@gmail.com',NULL,'2018-01-13 14:35:05','2018-01-13 12:35:05'),(100,'update_product_discount','success: code=0 username=car_rental@gmail.com id=-10000048','car_rental@gmail.com',NULL,'2018-01-13 14:35:05','2018-01-13 12:35:05'),(101,'update_product_picture','success: code=0 username=car_rental@gmail.com id=15','car_rental@gmail.com',NULL,'2018-01-13 14:36:19','2018-01-13 12:36:19'),(102,'update_store','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:38:02','2018-01-13 12:38:02'),(103,'update_store_activity','success: code=0 username=car_rental@gmail.com id=1 active=1','car_rental@gmail.com',NULL,'2018-01-13 14:38:02','2018-01-13 12:38:02'),(104,'remove_store_part','success: code=0 username=car_rental@gmail.com id=6','car_rental@gmail.com',NULL,'2018-01-13 14:38:24','2018-01-13 12:38:24'),(105,'remove_store_part','success: code=0 username=car_rental@gmail.com id=5','car_rental@gmail.com',NULL,'2018-01-13 14:38:30','2018-01-13 12:38:30'),(106,'remove_store_part','success: code=0 username=car_rental@gmail.com id=4','car_rental@gmail.com',NULL,'2018-01-13 14:38:36','2018-01-13 12:38:36'),(107,'remove_store_part','success: code=0 username=car_rental@gmail.com id=3','car_rental@gmail.com',NULL,'2018-01-13 14:38:42','2018-01-13 12:38:42'),(108,'update_store_part','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:39:50','2018-01-13 12:39:50'),(109,'update_store_part','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 14:41:54','2018-01-13 12:41:54'),(110,'remove_store_part','success: code=0 username=car_rental@gmail.com id=2','car_rental@gmail.com',NULL,'2018-01-13 14:42:04','2018-01-13 12:42:04'),(111,'add_stock','success: code=0 username=car_rental@gmail.com product_id=1 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:10','2018-01-13 12:43:10'),(112,'add_stock','success: code=0 username=car_rental@gmail.com product_id=2 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:17','2018-01-13 12:43:17'),(113,'add_stock','success: code=0 username=car_rental@gmail.com product_id=3 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:23','2018-01-13 12:43:23'),(114,'add_stock','success: code=0 username=car_rental@gmail.com product_id=4 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:31','2018-01-13 12:43:31'),(115,'add_stock','success: code=0 username=car_rental@gmail.com product_id=5 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:40','2018-01-13 12:43:40'),(116,'add_stock','success: code=0 username=car_rental@gmail.com product_id=6 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:49','2018-01-13 12:43:49'),(117,'add_stock','success: code=0 username=car_rental@gmail.com product_id=7 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:43:55','2018-01-13 12:43:55'),(118,'update_product','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 14:45:29','2018-01-13 12:45:29'),(119,'update_product_discount','success: code=0 username=car_rental@gmail.com id=8','car_rental@gmail.com',NULL,'2018-01-13 14:45:29','2018-01-13 12:45:29'),(120,'add_stock','success: code=0 username=car_rental@gmail.com product_id=8 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:45:56','2018-01-13 12:45:56'),(121,'add_stock','success: code=0 username=car_rental@gmail.com product_id=9 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:02','2018-01-13 12:46:02'),(122,'add_stock','success: code=0 username=car_rental@gmail.com product_id=10 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:10','2018-01-13 12:46:10'),(123,'add_stock','success: code=0 username=car_rental@gmail.com product_id=11 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:17','2018-01-13 12:46:17'),(124,'add_stock','success: code=0 username=car_rental@gmail.com product_id=12 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:32','2018-01-13 12:46:32'),(125,'add_stock','success: code=0 username=car_rental@gmail.com product_id=13 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:39','2018-01-13 12:46:39'),(126,'add_stock','success: code=0 username=car_rental@gmail.com product_id=14 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:46','2018-01-13 12:46:46'),(127,'add_stock','success: code=0 username=car_rental@gmail.com product_id=15 store_id=1','car_rental@gmail.com',NULL,'2018-01-13 14:46:53','2018-01-13 12:46:53'),(128,'remove_product_type_part','success: code=0 username=car_rental@gmail.com product_id=1 type_id=1','car_rental@gmail.com',NULL,'2018-01-13 15:07:36','2018-01-13 13:07:36'),(129,'add_product_type_part','success: code=0 username=car_rental@gmail.com product_id=1 type_id=3','car_rental@gmail.com',NULL,'2018-01-13 15:08:10','2018-01-13 13:08:10'),(130,'add_sensor','success: code=0 username=Demouser id=4','Demouser',NULL,'2018-01-13 15:52:10','2018-01-13 13:52:10'),(131,'update_store_part_picture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 16:00:15','2018-01-13 14:00:15'),(132,'update_store_picture','success: code=0 username=car_rental@gmail.com id=1','car_rental@gmail.com',NULL,'2018-01-13 16:00:27','2018-01-13 14:00:27'),(133,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=1','car_rental@gmail.com',NULL,'2018-01-13 16:40:15','2018-01-13 14:40:15'),(134,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=4','car_rental@gmail.com',NULL,'2018-01-13 16:40:28','2018-01-13 14:40:28'),(135,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=8','car_rental@gmail.com',NULL,'2018-01-13 16:41:26','2018-01-13 14:41:26'),(136,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=10','car_rental@gmail.com',NULL,'2018-01-13 16:41:37','2018-01-13 14:41:37'),(137,'add_product_param','success: code=0 username=car_rental@gmail.com id=16','car_rental@gmail.com',NULL,'2018-01-13 16:42:46','2018-01-13 14:42:46'),(138,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=10','car_rental@gmail.com',NULL,'2018-01-13 16:50:36','2018-01-13 14:50:36'),(139,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=8','car_rental@gmail.com',NULL,'2018-01-13 16:50:38','2018-01-13 14:50:38'),(140,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=4','car_rental@gmail.com',NULL,'2018-01-13 16:50:39','2018-01-13 14:50:39'),(141,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=1','car_rental@gmail.com',NULL,'2018-01-13 16:50:49','2018-01-13 14:50:49'),(142,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=1','car_rental@gmail.com',NULL,'2018-01-13 16:56:44','2018-01-13 14:56:44'),(143,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=4','car_rental@gmail.com',NULL,'2018-01-13 16:56:56','2018-01-13 14:56:56'),(144,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=8','car_rental@gmail.com',NULL,'2018-01-13 16:57:08','2018-01-13 14:57:08'),(145,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=10','car_rental@gmail.com',NULL,'2018-01-13 16:57:29','2018-01-13 14:57:29'),(146,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=11','car_rental@gmail.com',NULL,'2018-01-13 16:57:48','2018-01-13 14:57:48'),(147,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=11','car_rental@gmail.com',NULL,'2018-01-13 17:07:33','2018-01-13 15:07:33'),(148,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=11','car_rental@gmail.com',NULL,'2018-01-13 17:17:21','2018-01-13 15:17:21'),(149,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=12','car_rental@gmail.com',NULL,'2018-01-13 17:18:40','2018-01-13 15:18:40'),(150,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=13','car_rental@gmail.com',NULL,'2018-01-13 17:20:54','2018-01-13 15:20:54'),(151,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=14','car_rental@gmail.com',NULL,'2018-01-13 17:21:27','2018-01-13 15:21:27'),(152,'add_product_param_part','success: code=0 username=car_rental@gmail.com product_id=1 param_id=15','car_rental@gmail.com',NULL,'2018-01-13 17:21:40','2018-01-13 15:21:40'),(153,'add_product_param','success: code=0 username=car_rental@gmail.com id=17','car_rental@gmail.com',NULL,'2018-01-15 10:23:13','2018-01-15 08:23:13'),(154,'remove_product_param_part','success: code=0 username=car_rental@gmail.com product_id=2 param_id=17','car_rental@gmail.com',NULL,'2018-01-15 10:27:03','2018-01-15 08:27:03'),(155,'add_product_type_part','success: code=0 username=car_rental@gmail.com product_id=2 type_id=3','car_rental@gmail.com',NULL,'2018-01-15 10:41:03','2018-01-15 08:41:03'),(156,'add_product_type_part','success: code=0 username=car_rental@gmail.com product_id=3 type_id=3','car_rental@gmail.com',NULL,'2018-01-15 10:44:06','2018-01-15 08:44:06'),(157,'add_product_type_part','success: code=0 username=admin product_id=4 type_id=3','admin',NULL,'2018-01-15 13:27:13','2018-01-15 11:27:13'),(158,'add_product_type_part','success: code=0 username=admin product_id=5 type_id=3','admin',NULL,'2018-01-15 13:27:41','2018-01-15 11:27:41'),(159,'add_product_type_part','success: code=0 username=admin product_id=6 type_id=3','admin',NULL,'2018-01-15 13:27:55','2018-01-15 11:27:55'),(160,'add_product_type_part','success: code=0 username=admin product_id=7 type_id=3','admin',NULL,'2018-01-15 13:28:09','2018-01-15 11:28:09'),(161,'add_product_type_part','success: code=0 username=admin product_id=8 type_id=3','admin',NULL,'2018-01-15 13:28:21','2018-01-15 11:28:21'),(162,'add_product_type_part','success: code=0 username=admin product_id=9 type_id=3','admin',NULL,'2018-01-15 13:28:35','2018-01-15 11:28:35'),(163,'add_product_type_part','success: code=0 username=admin product_id=10 type_id=3','admin',NULL,'2018-01-15 13:28:46','2018-01-15 11:28:46'),(164,'add_product_type_part','success: code=0 username=admin product_id=11 type_id=3','admin',NULL,'2018-01-15 13:28:58','2018-01-15 11:28:58'),(165,'add_product_type_part','success: code=0 username=admin product_id=12 type_id=3','admin',NULL,'2018-01-15 14:27:31','2018-01-15 12:27:31'),(166,'add_product_type_part','success: code=0 username=admin product_id=13 type_id=3','admin',NULL,'2018-01-15 14:27:45','2018-01-15 12:27:45'),(167,'add_product_type_part','success: code=0 username=admin product_id=14 type_id=3','admin',NULL,'2018-01-15 14:27:54','2018-01-15 12:27:54'),(168,'add_product_type_part','success: code=0 username=admin product_id=15 type_id=3','admin',NULL,'2018-01-15 14:28:03','2018-01-15 12:28:03'),(169,'add_product_type_part','success: code=0 username=admin product_id=1 type_id=11','admin',NULL,'2018-01-15 14:28:42','2018-01-15 12:28:42'),(170,'add_product_type_part','success: code=0 username=admin product_id=2 type_id=11','admin',NULL,'2018-01-15 14:29:24','2018-01-15 12:29:24'),(171,'add_product_type_part','success: code=0 username=admin product_id=3 type_id=11','admin',NULL,'2018-01-15 14:29:32','2018-01-15 12:29:32'),(172,'add_product_type_part','success: code=0 username=admin product_id=4 type_id=7','admin',NULL,'2018-01-15 14:29:54','2018-01-15 12:29:54'),(173,'add_product_type_part','success: code=0 username=admin product_id=5 type_id=7','admin',NULL,'2018-01-15 14:30:03','2018-01-15 12:30:03'),(174,'add_product_type_part','success: code=0 username=admin product_id=6 type_id=7','admin',NULL,'2018-01-15 14:30:22','2018-01-15 12:30:22'),(175,'add_product_type_part','success: code=0 username=admin product_id=7 type_id=7','admin',NULL,'2018-01-15 14:30:31','2018-01-15 12:30:31'),(176,'add_product_type_part','success: code=0 username=admin product_id=8 type_id=7','admin',NULL,'2018-01-15 14:30:49','2018-01-15 12:30:49'),(177,'add_product_type_part','success: code=0 username=admin product_id=9 type_id=7','admin',NULL,'2018-01-15 14:30:57','2018-01-15 12:30:57'),(178,'add_product_type_part','success: code=0 username=admin product_id=10 type_id=6','admin',NULL,'2018-01-15 14:31:12','2018-01-15 12:31:12'),(179,'add_product_type_part','success: code=0 username=admin product_id=11 type_id=9','admin',NULL,'2018-01-15 14:31:30','2018-01-15 12:31:30'),(180,'add_product_type_part','success: code=0 username=admin product_id=12 type_id=10','admin',NULL,'2018-01-15 14:31:47','2018-01-15 12:31:47'),(181,'add_product_type_part','success: code=0 username=admin product_id=13 type_id=8','admin',NULL,'2018-01-15 14:32:01','2018-01-15 12:32:01'),(182,'add_product_type_part','success: code=0 username=admin product_id=14 type_id=4','admin',NULL,'2018-01-15 14:32:14','2018-01-15 12:32:14'),(183,'add_product_type_part','success: code=0 username=admin product_id=15 type_id=4','admin',NULL,'2018-01-15 14:32:32','2018-01-15 12:32:32'),(184,'update_transport','success: code=0 username=admin id=10','admin',NULL,'2018-01-15 14:44:58','2018-01-15 12:44:58'),(185,'update_transport','success: code=0 username=admin id=11','admin',NULL,'2018-01-15 14:45:02','2018-01-15 12:45:02'),(186,'update_transport','success: code=0 username=admin id=12','admin',NULL,'2018-01-15 14:45:05','2018-01-15 12:45:05'),(187,'update_transport','success: code=0 username=admin id=13','admin',NULL,'2018-01-15 14:45:09','2018-01-15 12:45:09'),(188,'update_transport','success: code=0 username=admin id=14','admin',NULL,'2018-01-15 14:45:14','2018-01-15 12:45:14'),(189,'update_transport','success: code=0 username=admin id=15','admin',NULL,'2018-01-15 14:45:17','2018-01-15 12:45:17'),(190,'update_transport','success: code=0 username=admin id=16','admin',NULL,'2018-01-15 14:45:25','2018-01-15 12:45:25'),(191,'update_transport','success: code=0 username=admin id=17','admin',NULL,'2018-01-15 14:45:29','2018-01-15 12:45:29'),(192,'update_transport','success: code=0 username=admin id=18','admin',NULL,'2018-01-15 14:45:34','2018-01-15 12:45:34'),(193,'update_transport','success: code=0 username=admin id=19','admin',NULL,'2018-01-15 14:45:43','2018-01-15 12:45:43'),(194,'update_transport','success: code=0 username=admin id=20','admin',NULL,'2018-01-15 14:45:47','2018-01-15 12:45:47'),(195,'update_transport','success: code=0 username=admin id=21','admin',NULL,'2018-01-15 14:45:52','2018-01-15 12:45:52'),(196,'update_transport','success: code=0 username=admin id=22','admin',NULL,'2018-01-15 14:45:56','2018-01-15 12:45:56'),(197,'update_transport','success: code=0 username=admin id=23','admin',NULL,'2018-01-15 14:46:00','2018-01-15 12:46:00'),(198,'update_transport','success: code=0 username=admin id=22','admin',NULL,'2018-01-15 14:46:09','2018-01-15 12:46:09'),(199,'update_transport','success: code=0 username=admin id=21','admin',NULL,'2018-01-15 14:46:17','2018-01-15 12:46:17'),(200,'update_transport','success: code=0 username=admin id=9','admin',NULL,'2018-01-15 14:46:24','2018-01-15 12:46:24'),(201,'update_transport','success: code=0 username=admin id=17','admin',NULL,'2018-01-15 14:46:36','2018-01-15 12:46:36'),(202,'add_transport_type_part','success: code=0 username=admin transport_id=1 type_id=8','admin',NULL,'2018-01-15 15:00:26','2018-01-15 13:00:26'),(203,'add_order_AB','success: code=0 username=Demouser id=1','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(204,'add_order_AB_product_part','success: code=0 username=Demouser order_id=1 product_id=9','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(205,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=1','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(206,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=10','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(207,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=8','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(208,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=4','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(209,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=11','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(210,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=12','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(211,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=13','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(212,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=14','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(213,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=15','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(214,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=16','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(215,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=1 product_id=9 param_id=17','Demouser',NULL,'2018-01-15 18:37:59','2018-01-15 16:37:59'),(216,'update_order_AB_status','success: code=0 username=Demouser order_id=1 status_id=-1','Demouser',NULL,'2018-01-15 18:39:55','2018-01-15 16:39:55'),(217,'add_transport_type_part','success: code=0 username=admin transport_id=2 type_id=8','admin',NULL,'2018-01-15 18:41:56','2018-01-15 16:41:56'),(218,'add_transport_type_part','success: code=0 username=admin transport_id=3 type_id=8','admin',NULL,'2018-01-15 18:42:06','2018-01-15 16:42:06'),(219,'add_transport_type_part','success: code=0 username=admin transport_id=4 type_id=4','admin',NULL,'2018-01-15 18:42:35','2018-01-15 16:42:35'),(220,'add_transport_type_part','success: code=0 username=admin transport_id=5 type_id=4','admin',NULL,'2018-01-15 18:42:44','2018-01-15 16:42:44'),(221,'add_transport_type_part','success: code=0 username=admin transport_id=6 type_id=4','admin',NULL,'2018-01-15 18:42:57','2018-01-15 16:42:57'),(222,'add_transport_type_part','success: code=0 username=admin transport_id=7 type_id=4','admin',NULL,'2018-01-15 18:43:06','2018-01-15 16:43:06'),(223,'add_transport_type_part','success: code=0 username=admin transport_id=8 type_id=4','admin',NULL,'2018-01-15 18:43:22','2018-01-15 16:43:22'),(224,'add_transport_type_part','success: code=0 username=admin transport_id=9 type_id=4','admin',NULL,'2018-01-15 18:43:34','2018-01-15 16:43:34'),(225,'add_transport_type_part','success: code=0 username=admin transport_id=10 type_id=3','admin',NULL,'2018-01-15 18:43:52','2018-01-15 16:43:52'),(226,'add_transport_type_part','success: code=0 username=admin transport_id=11 type_id=6','admin',NULL,'2018-01-15 18:48:38','2018-01-15 16:48:38'),(227,'add_transport_type_part','success: code=0 username=admin transport_id=12 type_id=7','admin',NULL,'2018-01-15 18:49:01','2018-01-15 16:49:01'),(228,'add_transport_type_part','success: code=0 username=admin transport_id=13 type_id=5','admin',NULL,'2018-01-15 18:49:23','2018-01-15 16:49:23'),(229,'add_transport_type_part','success: code=0 username=admin transport_id=14 type_id=1','admin',NULL,'2018-01-15 18:49:35','2018-01-15 16:49:35'),(230,'add_transport_type_part','success: code=0 username=admin transport_id=15 type_id=1','admin',NULL,'2018-01-15 18:49:46','2018-01-15 16:49:46'),(231,'add_order_AB','success: code=0 username=Demouser id=2','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(232,'add_order_AB_product_part','success: code=0 username=Demouser order_id=2 product_id=1','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(233,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=1','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(234,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=4','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(235,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=8','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(236,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=12','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(237,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=13','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(238,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=11','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(239,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=14','Demouser',NULL,'2018-01-17 16:20:43','2018-01-17 14:20:43'),(240,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=15','Demouser',NULL,'2018-01-17 16:20:43','2018-01-17 14:20:43'),(241,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=2 product_id=1 param_id=10','Demouser',NULL,'2018-01-17 16:20:42','2018-01-17 14:20:42'),(242,'update_order_AB_status','success: code=0 username=Demouser order_id=2 status_id=-1','Demouser',NULL,'2018-01-17 16:40:31','2018-01-17 14:40:31'),(243,'add_order_AB','success: code=0 username=Demouser id=3','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(244,'add_order_AB_product_part','success: code=0 username=Demouser order_id=3 product_id=1','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(245,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=1','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(246,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=10','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(247,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=4','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(248,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=8','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(249,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=11','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(250,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=12','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(251,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=14','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(252,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=15','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(253,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=3 product_id=1 param_id=13','Demouser',NULL,'2018-01-17 16:42:59','2018-01-17 14:42:59'),(254,'remove_order_AB','success: code=0 username=admin id=3','admin',NULL,'2018-01-17 17:15:39','2018-01-17 15:15:39'),(255,'remove_order_AB','success: code=0 username=admin id=2','admin',NULL,'2018-01-17 17:15:45','2018-01-17 15:15:45'),(256,'remove_order_AB','success: code=0 username=admin id=1','admin',NULL,'2018-01-17 17:15:50','2018-01-17 15:15:50'),(257,'add_order_AB','success: code=0 username=Demouser id=4','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(258,'add_order_AB_product_part','success: code=0 username=Demouser order_id=4 product_id=1','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(259,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=1','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(260,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=8','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(261,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=10','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(262,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=4','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(263,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=11','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(264,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=12','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(265,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=13','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(266,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=14','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(267,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=4 product_id=1 param_id=15','Demouser',NULL,'2018-01-17 17:23:15','2018-01-17 15:23:15'),(268,'remove_order_AB','success: code=0 username=admin id=4','admin',NULL,'2018-01-17 17:25:44','2018-01-17 15:25:44'),(269,'add_order_AB','success: code=0 username=Demouser id=5','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(270,'add_order_AB_product_part','success: code=0 username=Demouser order_id=5 product_id=1','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(271,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=1','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(272,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=4','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(273,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=8','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(274,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=10','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(275,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=11','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(276,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=12','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(277,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=13','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(278,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=14','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(279,'add_order_AB_product_param_part','success: code=0 username=Demouser order_id=5 product_id=1 param_id=15','Demouser',NULL,'2018-01-17 17:41:37','2018-01-17 15:41:37'),(280,'update_order_AB_transport','success: code=0 username=admin order_id=5 transport_id=1','admin',NULL,'2018-01-17 17:43:23','2018-01-17 15:43:23'),(281,'update_order_AB_status','success: code=0 username=Demouser order_id=5 status_id=-1','Demouser',NULL,'2018-01-17 23:02:19','2018-01-17 21:02:19');
/*!40000 ALTER TABLE `audit` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`audit_before_insert` BEFORE INSERT ON `247_car_rental`.`audit` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `color`
--

DROP TABLE IF EXISTS `color`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `color` (
  `name` varchar(32) NOT NULL,
  UNIQUE KEY `idx_unique_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `color`
--

LOCK TABLES `color` WRITE;
/*!40000 ALTER TABLE `color` DISABLE KEYS */;
INSERT INTO `color` VALUES ('BLACK'),('BLUE'),('BROWN'),('CYAN'),('GREEN'),('GREY'),('ORANGE'),('RED'),('VIOLET'),('WHITE'),('YELLOW');
/*!40000 ALTER TABLE `color` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `currency`
--

DROP TABLE IF EXISTS `currency`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `currency` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(3) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `value` decimal(6,2) NOT NULL DEFAULT '1.00',
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `currency`
--

LOCK TABLES `currency` WRITE;
/*!40000 ALTER TABLE `currency` DISABLE KEYS */;
INSERT INTO `currency` VALUES (1,'USD','US dollar',1.00,0,'ENGLISH','2018-01-13 12:10:37'),(2,'EUR','Euro',0.90,0,'ENGLISH','2017-10-17 09:25:42'),(3,'UAH','Gryvna',22.00,0,'ENGLISH','2017-10-17 09:25:42'),(4,'AED','United Arab Emirates Dirham',20.00,1,'ENGLISH','2018-01-13 12:10:33');
/*!40000 ALTER TABLE `currency` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `delivery`
--

DROP TABLE IF EXISTS `delivery`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `delivery` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL,
  `transport_id` mediumint(8) unsigned DEFAULT NULL,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  `address` varchar(128) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_address` (`address`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_transport_id` (`transport_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `delivery`
--

LOCK TABLES `delivery` WRITE;
/*!40000 ALTER TABLE `delivery` DISABLE KEYS */;
INSERT INTO `delivery` VALUES (1,1,1,NULL,NULL,NULL,NULL,'2017-10-17 09:25:42');
/*!40000 ALTER TABLE `delivery` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`delivery_before_insert` BEFORE INSERT ON `247_car_rental`.`delivery` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `delivery_type`
--

DROP TABLE IF EXISTS `delivery_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `delivery_type` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_language` (`language`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `delivery_type`
--

LOCK TABLES `delivery_type` WRITE;
/*!40000 ALTER TABLE `delivery_type` DISABLE KEYS */;
INSERT INTO `delivery_type` VALUES (1,'By service transport','ENGLISH','2017-10-17 09:25:42');
/*!40000 ALTER TABLE `delivery_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `discount`
--

DROP TABLE IF EXISTS `discount`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `discount` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `product_type_id` smallint(5) unsigned DEFAULT NULL,
  `type` tinyint(3) unsigned NOT NULL DEFAULT '1',
  `code` varchar(8) NOT NULL,
  `name` varchar(32) NOT NULL,
  `value` smallint(5) unsigned NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `start_date` datetime DEFAULT NULL,
  `finish_date` datetime DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_code` (`code`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_product_type_id` (`product_type_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `discount`
--

LOCK TABLES `discount` WRITE;
/*!40000 ALTER TABLE `discount` DISABLE KEYS */;
INSERT INTO `discount` VALUES (1,NULL,1,'0001','Old customer welcome!',10,NULL,NULL,NULL,'2017-10-17 12:25:42','2017-10-17 09:25:42'),(2,NULL,4,'A','Landing',50,NULL,NULL,NULL,'2017-10-17 12:25:42','2017-10-17 09:25:42'),(3,NULL,4,'B','Landing',100,NULL,'2017-01-01 00:00:00','2025-01-01 00:00:00','2017-10-17 12:25:42','2017-10-17 09:25:42'),(4,NULL,4,'C','Landing',150,NULL,NULL,NULL,'2017-10-17 12:25:42','2017-10-17 09:25:42');
/*!40000 ALTER TABLE `discount` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`discount_before_insert` BEFORE INSERT ON `247_car_rental`.`discount` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `geocode`
--

DROP TABLE IF EXISTS `geocode`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `geocode` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `geocode_address` varchar(128) NOT NULL,
  `formatted_address` varchar(128) NOT NULL,
  `latitude` double NOT NULL,
  `longitude` double NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_unique_geocode_address` (`geocode_address`),
  KEY `idx_formatted_address` (`formatted_address`),
  KEY `idx_latitude` (`latitude`),
  KEY `idx_longitude` (`longitude`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `geocode`
--

LOCK TABLES `geocode` WRITE;
/*!40000 ALTER TABLE `geocode` DISABLE KEYS */;
/*!40000 ALTER TABLE `geocode` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `language`
--

DROP TABLE IF EXISTS `language`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `language` (
  `id` smallint(5) unsigned NOT NULL,
  `name` varchar(32) NOT NULL,
  `value` varchar(32) NOT NULL,
  `code` varchar(5) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  UNIQUE KEY `idx_unique_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `language`
--

LOCK TABLES `language` WRITE;
/*!40000 ALTER TABLE `language` DISABLE KEYS */;
INSERT INTO `language` VALUES (5,'Deutsch','GERMAN','ge',0),(1,'English','ENGLISH','en',1),(8,'Español','SPANISH','es',0),(4,'Français','FRENCH','fr',0),(6,'Italiano','ITALIAN','it',0),(9,'Polski','POLISH','pl',0),(7,'Português','PORTUGAL','po',0),(2,'Русский','RUSSIAN','ru',1),(10,'Српски','SERBIAN','se',0),(3,'Українська','UKRAINIAN','uk',1);
/*!40000 ALTER TABLE `language` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `manufacture`
--

DROP TABLE IF EXISTS `manufacture`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `manufacture` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `picture` mediumblob,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  FULLTEXT KEY `idx_name_description` (`name`,`description`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `manufacture`
--

LOCK TABLES `manufacture` WRITE;
/*!40000 ALTER TABLE `manufacture` DISABLE KEYS */;
INSERT INTO `manufacture` VALUES (1,'Toyota','Toyota Motor Corporation','iVBORw0KGgoAAAANSUhEUgAAAGIAAAAVCAMAAACKXMtFAAAAolBMVEX////ZICdERUX64+TiV1zbLTT4+PjgSU/qgYXnc3dTVFTo6Ojw8PBvcHD8/PxLTExeX1/1x8nKysqbnJxWV1eqqqreO0Hf4ODmbXLP0NDsj5NnaGixsrKOj49tbm5OT0++vr5+f3+Gh4funaCgoaHkYmf419j+9vd2d3fX19ftl5qCgoLytrjCwsLkXmPePELwpqn87/DysrTqhor3z9D53t/aBnV7AAADxElEQVRIiaVV25aqMAxNI+AMlxYpDCJFQJkRVI46l///tZOWi86ss+bl5KFA2mZn76QFYDTeJbs8FojohrXsfbgbX0xGH4fz/vpGz5v5mp6L9/35pp+TcVq5GJcM5skYy1YqlbuyanYhYh3Nkzc22gvAu61frAWcGbvqmDZbw+FZO+0Nh+W0lIJ/0OM2xfALxDYiYCcnFjp2KgXm2QRh2zqwbS/hSo+1RWALeGU2xfnD7Bsnx3J9YewZrHElTR3023EMEbmIyrwpFC6G3PAiJgWfmVi0X4MxixJb2exV5/8K74y9w5GxPclJVM605oktzQ6astiFj3ER4yFQLjre4iBRQ+7W+Q5xNAoAbLQExOhqsz8AFz0QxoUw7xAWs1aMrQwHLImFEcXDgjRCqd+1ZiHW3yHW4/Y3s9fSmpAihoQJ/nKHeNO1GkAdF3uJKBJKuDdIeUBDRgixH2L1C8QXM8EPQ+F/QDwx9rZ4MqwT3ILTkiiiTnZIveoUriqoEFh2pGH4T6GOQ688MVtrPeT6XShTbG0bgC0mNJuQVj+s9ggOMX2EoBJbB4BPewi6MWnryhAN/vFYbiqURfbCXjgI7I30VV0+xN82Q2h3UmqAgD2p//xqSnCHONBpsJ5pWMMMsWQX/XHWsDjLDV4QJk3TFBjNjVSO3TxBwNUIsPyCBwg4rI0mH3yG+ByPBOllUZBmige7XI8VzreHjwNHKvBqiEoXyHH/OU4vVtPb13VzHW+LL+1crFaHcd8KWsxniMLVY4IzCToyHvy3VeOZ0CZNwJOYvnmIwa+buef8Oj9ajuG0TmnlnXKm1dzho6m1QDX+pGRFfVhMi7fU5kmGj1f0ZGk53xMpnTaishtniKCc0UoafFU5Xd6mbap6Km2H0lfYOVVFcblovEIkIe9VB752pSqjRlVamEzgdlCcuxi3U4vx5iFFqFtCiOugVXTNV9iEdJqKmPtd5oVtEGq8yqvD067YSuziNsijsohVHQz1TUMslWk4qc9EaTh1RDy5c3WJTyKKE6ZUrxS3iha1NUgXk5h35NOXaZ7FKmt22BB2FuQyP9VlMQjsNALjxtN5ornXnYrItOkdwdPNK4MsSRRllWWJLlIR+/wUygBUyaHQFfRRiUrG5OqrUGay6qO8HUP4Cd1KeaESKkzVtALLonssWKXp9aIVfULcZHgqKaHUFaW7y8hLWeVa1F5EuItbcpWZdIO4E5TCQ6KqCIZ/d143GYdv5qdk4EUe8IyCd5FpHCfKfN94Cc83y6DrPI9cvl7kgB+l8Be0wkvq0GbYLAAAAABJRU5ErkJggg==','2018-01-13 12:02:30'),(2,'Nissan','Nissan Motor','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','2018-01-13 12:02:38'),(3,'KIA','Kia Motors Corporation','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','2018-01-13 12:02:48'),(4,'Hyundai','Hyundai Motor Company','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','2018-01-13 12:02:55'),(5,'Chevrolet','General Motors','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','2018-01-13 12:03:15');
/*!40000 ALTER TABLE `manufacture` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `message`
--

DROP TABLE IF EXISTS `message`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `message` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `type` tinyint(3) unsigned NOT NULL,
  `userA_id` int(10) unsigned NOT NULL,
  `userB_id` int(10) unsigned NOT NULL,
  `message` varchar(256) NOT NULL,
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_type` (`type`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_userA_id` (`userA_id`),
  KEY `idx_fk_userB_id` (`userB_id`),
  FULLTEXT KEY `idx_message` (`message`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `message`
--

LOCK TABLES `message` WRITE;
/*!40000 ALTER TABLE `message` DISABLE KEYS */;
/*!40000 ALTER TABLE `message` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`message_before_insert` BEFORE INSERT ON `247_car_rental`.`message` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `order_ab`
--

DROP TABLE IF EXISTS `order_ab`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_ab` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL,
  `transport_id` mediumint(8) unsigned DEFAULT NULL,
  `order_status_id` smallint(6) NOT NULL DEFAULT '1',
  `total_price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `route_distance` int(10) unsigned DEFAULT NULL,
  `route_duration` int(10) unsigned DEFAULT NULL,
  `route_data` blob,
  `order_lat` double DEFAULT NULL,
  `order_lon` double DEFAULT NULL,
  `order_address` varchar(128) DEFAULT NULL,
  `delivery_lat` double DEFAULT NULL,
  `delivery_lon` double DEFAULT NULL,
  `delivery_address` varchar(128) DEFAULT NULL,
  `delivery_type_id` smallint(5) unsigned DEFAULT NULL,
  `reserved_date` datetime DEFAULT NULL,
  `reserved_hours` smallint(5) unsigned DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_order_address` (`order_address`),
  KEY `idx_delivery_address` (`delivery_address`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_transport_id` (`transport_id`),
  KEY `idx_fk_order_status_id` (`order_status_id`),
  KEY `idx_fk_delivery_type_id` (`delivery_type_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_ab`
--

LOCK TABLES `order_ab` WRITE;
/*!40000 ALTER TABLE `order_ab` DISABLE KEYS */;
INSERT INTO `order_ab` VALUES (5,2,1,-1,130.11,0,0,NULL,25.07505445389589,55.199404209852226,'Al Asayel St - Dubai - United Arab Emirates',25.08465271584,55.19799068570136,'97 Hessa St - Dubai - United Arab Emirates',1,'2018-01-31 22:15:00',3,'2018-01-17 17:41:37','2018-01-17 21:02:19');
/*!40000 ALTER TABLE `order_ab` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`order_AB_before_insert` BEFORE INSERT ON `247_car_rental`.`order_ab` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `order_ab_product_param_part`
--

DROP TABLE IF EXISTS `order_ab_product_param_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_ab_product_param_part` (
  `order_id` int(10) unsigned NOT NULL,
  `product_id` int(10) unsigned NOT NULL,
  `product_param_id` smallint(5) unsigned NOT NULL,
  `count` int(10) unsigned NOT NULL,
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`order_id`,`product_id`,`product_param_id`),
  KEY `idx_fk_order_id` (`order_id`),
  KEY `idx_fk_product_id` (`product_id`),
  KEY `idx_fk_product_param_id` (`product_param_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_ab_product_param_part`
--

LOCK TABLES `order_ab_product_param_part` WRITE;
/*!40000 ALTER TABLE `order_ab_product_param_part` DISABLE KEYS */;
INSERT INTO `order_ab_product_param_part` VALUES (5,1,1,1,0.00,'2018-01-17 15:41:37'),(5,1,4,1,0.00,'2018-01-17 15:41:37'),(5,1,8,1,0.00,'2018-01-17 15:41:37'),(5,1,10,1,0.00,'2018-01-17 15:41:37'),(5,1,11,1,0.00,'2018-01-17 15:41:37'),(5,1,12,1,0.00,'2018-01-17 15:41:37'),(5,1,13,1,0.00,'2018-01-17 15:41:37'),(5,1,14,1,0.00,'2018-01-17 15:41:37'),(5,1,15,1,0.00,'2018-01-17 15:41:37');
/*!40000 ALTER TABLE `order_ab_product_param_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_ab_product_part`
--

DROP TABLE IF EXISTS `order_ab_product_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_ab_product_part` (
  `order_id` int(10) unsigned NOT NULL,
  `product_id` int(10) unsigned NOT NULL,
  `count` int(10) unsigned NOT NULL,
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`order_id`,`product_id`),
  KEY `idx_fk_order_id` (`order_id`),
  KEY `idx_fk_product_id` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_ab_product_part`
--

LOCK TABLES `order_ab_product_part` WRITE;
/*!40000 ALTER TABLE `order_ab_product_part` DISABLE KEYS */;
INSERT INTO `order_ab_product_part` VALUES (5,1,1,43.37,'2018-01-17 15:41:37');
/*!40000 ALTER TABLE `order_ab_product_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_ab_user_part`
--

DROP TABLE IF EXISTS `order_ab_user_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_ab_user_part` (
  `order_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `product_param_id_1` int(11) DEFAULT NULL,
  `product_param_id_2` int(11) DEFAULT NULL,
  `pickup_status_id` smallint(6) NOT NULL DEFAULT '1',
  `pickup_lat` double DEFAULT NULL,
  `pickup_lon` double DEFAULT NULL,
  `pickup_address` varchar(128) DEFAULT NULL,
  `pickup_date` datetime DEFAULT NULL,
  `pickup_info` varchar(128) DEFAULT '',
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`order_id`,`user_id`),
  KEY `idx_fk_order_id` (`order_id`),
  KEY `idx_fk_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_ab_user_part`
--

LOCK TABLES `order_ab_user_part` WRITE;
/*!40000 ALTER TABLE `order_ab_user_part` DISABLE KEYS */;
/*!40000 ALTER TABLE `order_ab_user_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_job`
--

DROP TABLE IF EXISTS `order_job`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_job` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `customer_user_id` int(10) unsigned NOT NULL,
  `worker_user_id` int(10) unsigned DEFAULT NULL,
  `order_status_id` smallint(6) NOT NULL DEFAULT '1',
  `total_price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `order_lat` double DEFAULT NULL,
  `order_lon` double DEFAULT NULL,
  `order_address` varchar(128) DEFAULT NULL,
  `product_id` int(10) unsigned DEFAULT NULL,
  `reserved_date` datetime DEFAULT NULL,
  `reserved_hours` smallint(5) unsigned DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_job_address` (`order_address`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_customer_user_id` (`customer_user_id`),
  KEY `idx_fk_worker_user_id` (`worker_user_id`),
  KEY `idx_fk_order_status_id` (`order_status_id`),
  KEY `idx_fk_product_id` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_job`
--

LOCK TABLES `order_job` WRITE;
/*!40000 ALTER TABLE `order_job` DISABLE KEYS */;
/*!40000 ALTER TABLE `order_job` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`order_job_before_insert` BEFORE INSERT ON `247_car_rental`.`order_job` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `order_status`
--

DROP TABLE IF EXISTS `order_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `order_status` (
  `id` smallint(6) NOT NULL,
  `name` varchar(32) NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_language` (`language`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_status`
--

LOCK TABLES `order_status` WRITE;
/*!40000 ALTER TABLE `order_status` DISABLE KEYS */;
INSERT INTO `order_status` VALUES (-2,'canceled','ENGLISH','2017-10-17 09:25:42'),(-1,'cancellation','ENGLISH','2017-10-17 09:25:42'),(1,'accepted','ENGLISH','2017-10-17 09:25:42'),(2,'processed','ENGLISH','2017-10-17 09:25:42'),(3,'landing','ENGLISH','2017-10-17 09:25:42'),(4,'delivering','ENGLISH','2017-10-17 09:25:42'),(5,'completed','ENGLISH','2017-10-17 09:25:42');
/*!40000 ALTER TABLE `order_status` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `payment`
--

DROP TABLE IF EXISTS `payment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `payment` (
  `purchase_id` int(10) unsigned NOT NULL,
  `amount` decimal(6,2) DEFAULT '0.00',
  `currency` varchar(3) DEFAULT NULL,
  `description` varchar(128) DEFAULT '',
  `status` varchar(20) DEFAULT NULL,
  `transaction_id` varchar(128) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  KEY `idx_transaction_id` (`transaction_id`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_purchase_id` (`purchase_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `payment`
--

LOCK TABLES `payment` WRITE;
/*!40000 ALTER TABLE `payment` DISABLE KEYS */;
/*!40000 ALTER TABLE `payment` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`payment_before_insert` BEFORE INSERT ON `247_car_rental`.`payment` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `pickup_status`
--

DROP TABLE IF EXISTS `pickup_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pickup_status` (
  `id` smallint(6) NOT NULL,
  `name` varchar(32) NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_language` (`language`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `pickup_status`
--

LOCK TABLES `pickup_status` WRITE;
/*!40000 ALTER TABLE `pickup_status` DISABLE KEYS */;
/*!40000 ALTER TABLE `pickup_status` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `preferences`
--

DROP TABLE IF EXISTS `preferences`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `preferences` (
  `code` varchar(32) DEFAULT NULL,
  `name` varchar(32) DEFAULT 'fireArt',
  `description` varchar(128) DEFAULT 'Open source CRM. Good Ideas for Bussiness!',
  `copyrigth` varchar(32) DEFAULT 'ABTO3BIT',
  `picture` mediumblob,
  `audit` tinyint(1) DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `preferences`
--

LOCK TABLES `preferences` WRITE;
/*!40000 ALTER TABLE `preferences` DISABLE KEYS */;
INSERT INTO `preferences` VALUES ('fA','247_car_rental','Open source CRM. Good Ideas for Bussiness!','ABTO3BIT',NULL,1);
/*!40000 ALTER TABLE `preferences` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `prepaid_card`
--

DROP TABLE IF EXISTS `prepaid_card`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `prepaid_card` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `serial_number` varchar(64) DEFAULT NULL,
  `prepaid_code` varchar(16) DEFAULT NULL,
  `amount` decimal(6,2) DEFAULT '0.00',
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_unique_serial_number` (`serial_number`),
  UNIQUE KEY `idx_unique_prepaid_code` (`prepaid_code`),
  KEY `idx_create_date` (`create_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `prepaid_card`
--

LOCK TABLES `prepaid_card` WRITE;
/*!40000 ALTER TABLE `prepaid_card` DISABLE KEYS */;
/*!40000 ALTER TABLE `prepaid_card` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`prepaid_card_before_insert` BEFORE INSERT ON `247_car_rental`.`prepaid_card` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `product`
--

DROP TABLE IF EXISTS `product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `manufacture_id` smallint(5) unsigned NOT NULL,
  `discount_code` varchar(8) DEFAULT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `code` varchar(32) NOT NULL,
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `picture` mediumblob,
  `review_count` int(10) unsigned DEFAULT '0',
  `review_value` int(10) unsigned DEFAULT '0',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `code` (`code`),
  UNIQUE KEY `idx_unique_code` (`code`),
  KEY `idx_name` (`name`),
  KEY `idx_description` (`description`),
  KEY `idx_price` (`price`),
  KEY `idx_fk_manufacture_id` (`manufacture_id`),
  KEY `idx_fk_discount_code` (`discount_code`),
  FULLTEXT KEY `idx_name_description` (`name`,`description`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product`
--

LOCK TABLES `product` WRITE;
/*!40000 ALTER TABLE `product` DISABLE KEYS */;
INSERT INTO `product` VALUES (1,1,NULL,'TOYOTA YARIS','TOYOTA YARIS','01',43.37,'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',0,0,'2018-01-13 12:12:34'),(2,2,NULL,'NISSAN TIIDA','NISSAN TIIDA','02',44.10,'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',0,0,'2018-01-13 12:19:32'),(3,2,NULL,'NISSAN MICRA','NISSAN MICRA','03',46.31,'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',0,0,'2018-01-13 12:20:19'),(4,2,NULL,'NISSAN SUNNY','NISSAN SUNNY','04',49.98,'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',0,0,'2018-01-13 12:21:02'),(5,1,NULL,'TOYOTA YARIS SEDAN SE','TOYOTA YARIS SEDAN SE','05',55.13,'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',0,0,'2018-01-13 12:23:00'),(6,3,NULL,'KIA RIO','KIA RIO','06',55.13,'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',0,0,'2018-01-13 12:23:40'),(7,4,NULL,'HYUNDAI ACCENT','HYUNDAI ACCENT','07',55.13,'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',0,0,'2018-01-13 12:24:16'),(8,2,NULL,'NISSAN SENTRA','NISSAN SENTRA','08',57.33,'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',0,0,'2018-01-13 12:45:29'),(9,5,NULL,'CHEVROLET CRUZE','CHEVROLET CRUZE','09',58.80,'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E8kubRhLBaKrVV/esyAiHJw9q+Tl2Mpb2iLvgfxIhTeVQXn2j/cf3g9f1+YDa+YR0GCVXAyS+atXU7zPLFBQqoVoqXW+xN3/AEn2Z/AJU2eQ5H6yhA9p44A0QyAuD5OA9NsjwzRoitFHh9mP4mf8aXbmAp9pMmCPCOD2oqCjQ5dwagekNIH+hv/aAAwDAQACAAMAAAAQ88888888888888888888888888888888888w4c2Y088888844skYJLCGq18888N4gUX00A8cQ888ypquO0R2BRWJ888s+hW45iu2gIU888s8Mss8Mc888888888888888888888888888888888888//xAAcEQACAgMBAQAAAAAAAAAAAAABEQAgECFQUTH/2gAIAQMBAT8Q6roj9qdBwxuEwby8CEj4VeFGI8YIoLrs/wD/xAAdEQADAAEFAQAAAAAAAAAAAAAAAREhECBBUFFh/9oACAECAQE/EOzhJljThkZCblG4L2RBKQhEIQhE52JC+zCUKiE/Q3Ri6tnfBgb0TKXs/wD/xAAqEAEAAgEDBAAGAgMBAAAAAAABABEhMUFRYXGBkTChscHR8BAgQHDx4f/aAAgBAQABPxD/AELdT5uwJoz7if8ACRDUO/5ovS3An3h1mcjf+LXVlZPHGa6tEAoN0W9eB7ZUU96a83G4QehL6iLsb6EtE1akB7psGEOsOD+RcPcox2qhIXcG5SCbawq2s0ru5+cN+3FK099vPuBwaxLE/wAASR3VB+8QkDsaM6+nrl0JeLctD+U5fM0F6mWUgM4bbD94hVVAdwNPcoME5u073CrtSAI/ocRNbXKF/pDq8wFr2SsKkmnIdyoJqsy2rHyVHr6om4c9GGGKbsooX59oKKBbyHdbPyneugPCbPxAFoDlmmXoNxSDDiVsK/iLi2y3rV9VvaAXI6/QCBOnRk7OSpqHYhAADiFAPMaWOm5pVHtjCzchevfpDCFcrWErQDftWuhMu1qAvQC19Q3hlX1AInQQjXY4zJsP0+sBKsqstZR3dBX6CFxOQIjruis2Sjura4PwK3ytXArzALshcXt/ERb45tEHA6M1hPmOYUOVqKqR/Rb+ICq9d2v0fiYVbtHyEZFFctWIq26QojEbc0+solgFFzdYYWaoMC1eVwHVgkeKiymBrMK0ussVoXgMDRTkrdrbLBML9kGIGjiARQW82H4Ati3waaWtQsZYuZClYTKf8ljUVgK9C2C9o0WABYnQDdH7JLVqDKDRbggD+U7BpEzUAWqXG11mVWJbHbZK2KDFtFcZiB9bLQS5xO4azKP0yJqLsN+IFStodXiazPggPoqy1ADhAwh2ZSp6qK5X6cwCmMlfkh8kWciVn6xK4Xq2cOhOkBAI30dUHTO3WMWqvX+5rcA8OsX0WoZtre5u9oH7SiV71AMo2OvcMAZaU7rTV8cQRJrjEvJpWsrLFKyDLTlytxElXdl3zqh1ruPMw6G9l94LQYcXK6SpXlRVVKcrE0qWheAwlAOajeWP8bnH+MzjNIh4veNGUGBNs1m8jQ6iRPW2DSuh84fMrqIHDX+45gVowX9pSG2kwSUhnn9YtLXYfUIhsnACPqV3YnjEvDhXCu6wNgKpZKPSSYrNrcurWopxZ9IVFbSw9oa6OBYiAc1VBdYvd1i1gugwcDR3alpQ80hXwXD7IgQAjrhFmtoVlTSG7MkXQa2kPNuNcy1KL6Wk0Xjdz0gEAAUBt/dHsB6OiMqjOUVtl95bSzyJj1e0LjjorLJazjkPtFPwn5lDHqQAuwb3rMBeWPmEGq4KrY4tib1bSiLJkLFPUZURxqqpezW0y3qNYgGIgx6CUb9xNZUq7W5PCT96G5SdEhOfdywpqRIsGhV6Q2qW29klA3LXAEFvIoqruxcUXF0pGMNKArb4K3NWqnVbVfiIDmt4fF6rrmLsBuS14OhYOhvKdo70nUt6wRlux94J7pSFICYTTtNPolFFRdiltSjihCginNBla3j7IlFTS2//ALKikdKir1XMVysPJKeiMSo7QQvdo49dSX4TVIv5RarLDNuxUIl1A0fB7CDcdVN3g+vZ0jXy4mzfhF6QrR7J9hEpV9SJW4ot94dKNSJ+TDxFuKhoadMIo7oSg2/0L//Z',0,0,'2018-01-13 12:26:21'),(10,1,NULL,'TOYOTA YARIS HB','TOYOTA YARIS HB','10',55.13,'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',0,0,'2018-01-13 12:27:54'),(11,3,NULL,'KIA CANDENZA','KIA CANDENZA','11',110.25,'/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wAARCACWAPADASIAAhEBAxEB/8QAHQAAAQUBAQEBAAAAAAAAAAAAAAQFBgcIAwIBCf/EAEsQAAEDAwEFBAYECgcHBQAAAAECAwQABREGBxIhMUETUWFxCBQiMoGRUqGxwRUWI0JDYnKiwtEXGDNTgrLwJCZzg5KT0jZEVOPx/8QAGQEBAQEBAQEAAAAAAAAAAAAAAAECBAMF/8QAHhEBAQEAAwADAQEAAAAAAAAAABEBAgMhEjFBBIH/2gAMAwEAAhEDEQA/ANU0UUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFNtzv1utORKkgOAZDLYK3FDwQnJPyoHKiq5u21a4NhQs+kbi+BkB6e6iIjzwolf7tRGdta1wd7tFaZtSem6l2UsfvIFWJV6UVmS47W9TjIe1rKHhDt0dn61b5qNz9rVwIw9qDUck9d649kD8GkppCtf18KgOZA86xBcNqrr2QVS1/8W4yV/auo9M2g9qTvR2VftKWr7VUhW/FSWE+882PNQrwbhETzlRx5uCvzvf1iysnMOEf+UDXhGulMcGo0JOO6On+VIV+iP4Vgf/Oi/wDdT/OvaZ0Vz3ZDKvJYNfna3rmZMeSyhiOpSzhKUsJyT8q1fofZTpnTulIt71TbGJFxdZS86mQwn8iogEISgcz06kn5UKugLQoZCknyNeqp2ftQt9nc9TjN2+3JTwDCU760+YSQlJ8MmmG9benNPpZkbyprLq9w7iEjs+vLP30hWgKKqq37YUONIcWlDqFJCgpCuBB8OJqUWjaTZrmpKFOdksjPtdPPu+OKQqW0VyZkNSEBbTiVpIyCDXWooooooCiiigKKKKAooooCiikc+6w7YAZT4bKuQwST8BQLAKbrxfLfYo4enyUMhRwhHNbh7kpHFR8BUQvG09mQlTOnA3ICSUuz3wQwz4J/vFeA4DqelVlftcMQZLskSHJtwcTuqlPEFePopxwSnwSAPOrE3Vi3jW8uWyorcVZoavzAoGUseJGQ3nwyfEGoPc9oseAhbNtaQ0FH2lA5Us96lHiT4k1Vt71q/LWpTr2c/mg1FZuo3HSfb4eFWCwrxrmRJUorkHj0BqD3vVZ3txKypXXKqjky9KShSyryqOPXBSt51Ssnp50qQ/Tb24+6ltKzk8Dx601S5EgrUASR8aQxHThbxPEDApXAgGcoKcJO8alWEK1yHFYVvJHeaRuFYJyScHGaWXBo2+c9HBJA4UjWsJGKiuRWa+ZzXwnNP2i9KT9aahiWeAwt519YBCeg+6gub0WNl7V6vDmrbwyFW+24U0lY9lx3p545/Lvqe+kHtWes8NEWA4lMyQVJj5P9inkp3z/NHjnuqwWoUHZ/oyLYIS0NsQmsvPcgpeMrWfAcT5CsrTtM3vbZtak2+0LK2VJQtD7vBEaLupIUf+rl1JqohIvFwKioySpR4k5JJNc/xnlO4ZeUVI3hkE8q0SfRD09a1JTL1xMVICeLbMIH6gonFQ3WPo1PWyBPuFku0ueIjK5Cm5EMNBSUjKsK3zxwD0p6eIbH1PMtjbaA6rs8YTx5U+2/X7oKd5zJHLJ4ioguKuXpVM1tO8ptAWf8JwfqqMi4Og8AmrUjSOmttlxsb7G4RJjKUe0QtZChw6H58/mK0JobaTadbRd6LIAfQAXWV4Djf7Se7xHDxr8/IN4fCN5XHdPKrE2Y6pfs2vrK4l4hSZaGN9J99p07uD3j2kn4Cp9r9N486KbYMpRjtOEZQpIJA/NPh4U4ghQBByDyNRX2iiubj7TXvuIT4E8aDpRSJVx3zhhBV+srgK8bzznvuHyTwoFynEI95QHxpLKukOIjffkNtp71KA+2uRbAHHrXNuHHSreTHaCvpbgz86DwjU0F9RTGcLpHVCFKH1Cqy1NpDUmqbw/IuF9dk20k7tuixFsJV3JWveJKccxkA1aylNJGCQfAVzK97glOPOqil7ls+1rcI6WIxgQ46BuNtBJG6noMZwKjMjYDqyVkuXiC2TzO4VH/ADVo3sd7mc199WT3ClIzAv0ZNRPnK9RQx5Rif46+f1V7uRlzU8dPlDJ/jrTq2EJGSoJ8zSZQaJ4KUryFBmF30UrhI4L1Nugd0H/7KTOeiNNwMaoSQO+ER/HWpux3jwBA8a9iIgj2+NBlL+qlObRufjWwkeMM/wDnSmN6K94TgM6tSP2IJJ/z1qluJHb91pAP7Ndkutp4DiR0AyRQZV/qd3KY4XH9VLUtXNRhcfrcpxh+hZGyPWtUySOu5HSn+I1p0KWRwbPmeFeFyg37zjSfjmorPSPQ70lAVHMu9XiSXHkoKQpCARxKuSc8gasXSOzbSWzZtz8Wrb2D607q5Tyy48od2Ty+GKmb0+KHUOuKcdU3koATgAkYz8s/OuDl8aJ9iIFeKsVUUlts1JMYtLkW3xVzgX2mpbDKsulo+0sADjgpAST+sacdl2rNJ2m2C5WjROoYdxlx22Zr7cB50ZT+aFAEYyemOndU/ulyuUjtozFtZLLgznOfPhTfpSwXGxLeUmSllp5W+WEDIBrQUW6+4j76LXOfLqisrfjutrJ8QU5FJ7uu9Xux3mHDtAZfkw3o7K17yUhS0FIJ3gOHHPCpclbqgN55X1V930J9+RjzVisjN2mfR61TbLIq3TRDdJLgJS5w3VDGOIpha9D3VKuK7xBR5Iz/ABVqhNyacfU0wxIkpQcKca4pB7udK2pMZRUntRkH3SSCPAimmMtxvQ2vn5+pmEA89yNn+Opvpb0UotpnQJ9wvb8p6GptSUtoDaVFCspz7x6Acxyq9ULaPukn517KglJIycDl31Feo7PqbCGiSrGePfxzQZ7MT2lLPZdRuk4PhTZHvbUl31ZLrKpISFrabdClNjxFOJShpQxupORw5ZBoIq7drpKvzUV6RJbbba7ZbLICd/PAJ4AH4k4p4CHluFaYrDZP62T8eHGqc2ibYpejrULlFSy9dbkN2OpacAtJzhZTngCVEjjwBFVYv0kdpCs7syGjpgRk8/iM/eOuBV2DX6DLAwCwnzQT94pm1RrJvR7DT9xfRh0kICI6jkjHXewOYrMVm9KHXVtlFy4JgXWOo57N1oNkDpgox9efDNSlv0wJSzuPaSikcf8A3CueMjn31KRemmNWP6oU52LC2koQlztHI53Fb3QK3sZHUeNPqm5iubrJHcEEffWbbh6YU8sblv0zGZdPAFbqlgHqAARk8eVR2P6XGu0qSVwrO6kk8OxVxHDlhXE8eXhSkayCJafzGVf4iPuNeu2fQCVRSrHRtYOfnisvQ/TD1JvN+t6dtrgPA9kVjPLiOJzz5Crn2QbabdtWYktoimBcIoCnI5VvApP5yT18R0oJsu8x2N0PodjqVwHbDAz3b3EZ+Nc5l1bj4D8lmPvcgVAFXl1PwrzeEuetxG3lqRb3ipp5SBx3jjcBPRJ4jPeU8aZr+lWmnIka0MxbfFdSUqfDO+sqHJO9nhw6nOftuZU3SmTeEtp3mYM+WScZDe4PPLhSMeWaantVXAOdm3CgxyR+kfW6seaUIx+9VS7Qv6T4V8g3Zl7fsAkMB/tFI90qG9vdUo5gkedWm9cYibO7IE22vlEZLiUBbed4kZAOccOP1V6fHGa4u6tuTj6I6LlFDzitxDTDKEqUe4Ba1H6qS3WVqKIA7Kl3AJJxhLqEDPwCB9dU5rHVmnY+r9ITLa4tLLMgyrg7FSp5zikeyrd+IwO+rA1ntS0vqHT7zduTepUlt1DsdAtsk570klIFPMPYdo8a6XN5TlyN2jx0EApXLUntBwzulK1dCTz6VFb5pm6BbZ01d7lFflyQyw0uY4rAVwLmc/m+98KfbxtCYu2no8O0x5zVwU0W0CTHUglZAScDmrgpR4d3SpJoPTTlsjtTLlkyygDfWADy8OA8v/2uPu6+XZ2cfzjnv+vofy9/Ho6efLzeXLz3LM/d9TMdoWkJW4twgAFRPE+NclNY500XnVMa2sOvOSWY0ZkZcfdUEpSPM1Uty9KDRVulllo3K44VhTzDQCfhvEE/KuhwrvVDLieHOq51btEuWlb6i2J0pMlNq5Sm17wOTzCQnly6/ZT9s92r6a16wV2aeHHEf2kZ4bjqP8J6eIyKmsqIzLaCyhC8ceIzQQHQ2p5urozq7hb37XKYUpC2h7qhkYKVEcRUlNtQv3nZKv8AmqH2Up7NDbqN1ITwIOBXdOK0ECbLCUcrj75/XUVfaaUNWqEj3YbA/wAApUkiuiVAVkM1y0q1c3GsSHmGkOBwtNkhJIOeGDwz1p7baDailCQkBIwB8a9pWK+9oN8+Q++g9JSa9bpryHR316DgPMioETzLTBcWyy2l1wgKUE4KuPWnNJbXulQSSOWelN0l9psdotSUpSd4knAAAzn6qzTq70kNbrusifpGysnTkRxSRIfYUsykpPFecjCfLl1NBDducO/I1qs3WEI8Roqbgbo4KZyAkjHLiCO/hyqvy1wH5Phg93Ic/Dz6Drk1uDaFs6t+0OzerSAhma0D6vII909xx0/1z41mm9+j1r21SHEMWn1xr81cdxKk7uenHPkCOHPieNNaxWSihtO8FJBSN7IJ4HPA55jz97wAoQtsNOoKvynBtshJ4ceKQAeufd88nNWhpz0fte6gyHrczbG8rUVzJG4cnAwAMqzw4qxk8uApzkeiprpIAak2d7AA4SSkHjnGMcE/qjn31BSh33EjAUreTgdcgDlw5gY6cB1zXNY5+zkLzjKs5A3u7n5jCe+rC1jsJ1zoyGZlwtqXox4KejL7YDgfe3Rkc+HId+ahAtU5ZGI5yoE8SPHnx58vZHs99AlVuJDjns8FEAlXX2uBI68B7vs99Wt6N1xctm1aG0wlSkSEOR3EpABAOffA4D3B7ufGmDSmx7WWsXAiBaXm2Vgj1h5PZoSDvDO8enHO4nIrT+yDYTbdmxFzlvCfe1tlBeAw2wknJS2noOPOqLOltNSY7jDyQtpxJSpJ6g1CLhoK6XFKo7uubwYmfZaWwwpScHh7e5k47zxqdlrf5mgRUfRz5mrmxncV85szQ8x2ErVd9faI3S3iOEqHcR2fGoBfNgdwgTFzLAuLKaVxCVR0MvJPnjcV+5WggyByAHkK8qaSefHzpU3iz3btlOvTGS3P1AtkdQqUE4HT2W0Hl+11p6jbI4bbaUTrjMmL6hJKUfvqX9gq4X2hg8BTU80AvlWvknxwz6c0farQ52zENsPEBJdVlSyO7eOTjw5U5aklCJDDaMBTnD4UsY9moHtDuKpIcgMT/UJEn/Y40jn2bywQk/OjTP22CVrLW92Xb7TYLqqyQ1Hc3Iy92Qoc3Dw4ju8OPWq1jNw7bK9Q1LZJEUngohBbdR44Vzqfacm39/TWq5Vwuk5NxgQ5DK3jIUpaVtusrHHPDOVDh0FOv4ZYsez6PN1sgaiN69XZjNvjKoidwrWtJznewpviCOdZECahXPQk2Lq/S1x9bgsuDEhvgWyeaHU9M8vGtrbL9aRtcaahXRkgCS1vKR9BY4KT8DWO5Fuk6KRHv8BqRM0jdlrjntkHcXjgptXDBxxwrrg9Qaun0a5qbXMn2aO6XLeXUy4ZJzhtzgU/Aj/WaC8ZxDMrcPTJ+yufrAFeL0vFyPgn+VI+0rQXet45Cj1xXeKQldfN+pAv9bV9KhMokq9o91IO0r22lxfuoUePQUgcEPjPOuypAS2TmkjUCWv9Hu+Zr7cIj0WKpxRGEjJ8BUFebbNTO23Qs5qO6pp6apEBtaTg/lDlePENpV86pxmYxOeiWHkhuOhTCkKw23hDpUMHxaAz1zUw23y1yblouzBKlmRIemONJIClY3UpHHhnBUONMKrBElXh24xorpbKA4iP2RJdUhZLjYH0lZ5dMnpWhoaPr7ScpxCW9RW7eSc4EhIBp4j360yf7C5wnf2Hkn76/OpiRuzF9o9hK/aCs8M09x3JCkEx3SogZG45/Ksj9B25Lax7DyFDwVmugUD1Br86I+ubxGOG5L6CPovKFO8balqyOB2N0uSf2ZJNB+gXAjBAPwrz6uznPYtZHXcFYRY24a4iDKb3c04+mre+2lrXpH67bwBfXf8AGyk0K3HvOdqAEjs8cTniD5V1BrFbfpHbRmwD+FGVD9aOn+Vd2/Sd2iNe9KguftRx91IVtIKAHE18U+hPNQrGLG3vW+qbhGgTbnCiturxvB71RseC3OJA+VPKL2or7SXqLRScFRzJvUqVy/VyQc91IVq9ydHSCC+2jxKhwrh+FIDSAldxi5HVbyQT9dZqg6hiznzHj6p0K66EBQRDsS5Cic4wN4VIE264rholt39HYOOBtC42m47KSc4IJc905yOPCkKvbtW5DXaMuIdR9JCgofMU3v4BqmIuorppB+Zc415uc9NufSJEJ9qIy2tgjKspb9onBGFDhkjvq435bEtliVGVvMyG0uIPeCMj7aD0FhKSe4Vnrb21JuLERu2TUJukV5VxREz7b6E8CU+WeXnV+uKIZX5Gs6bY4z8zVEcfgBR9VYC2LwmV2JaV7RKDkgEcu7nzrQru5uTnY2pZkNO4zf2mHwnITneOXMZ7iDnyrox+DL9PhTL9L9W0tptlLCEge3McHEpQOpUQM+AFSqxXMNWqHBmxY0k3dxModopCAwph1YTutn+0JIUVAED2sCmG+acmP6q9dhaclakhMqKmmWx2TSuOd4tZUpGc5IPE8D1rIcbfddU7a3pVtt+m5CbGhPYxGGEYYhtYwMqOE5BAVw4kilfo53d+3aodskwKRIZ32t0nilSVDI+o/Kktwuu2jUSG7dB0zPs1vbbU21Ft7CmkJyOGTnn48KZtALm2fbQwzKbW3LMhKX23OCg4pv2wfHJOaDXFwkdvOWvOfZH+vqrijecO6gZNMrt2bhqImSGGd5AUneWE5HHvqM/0soS84zaLHe7mUq3Q5GhLKFeIURjHjWhZjNsdc4qWEilaLXGawXnvmcCqq/HPaLc+ELRjkdB5KnTEN/UCD9VOcQbQ5TYVKuNktZPNMdouqHxwPtoLMb/B7QyhO/jqhBX9grkdQW+KlXauMx0pJ4vOpRn4Zz9VV05pWdMJN11Zc388wyEtj6940n/E3R0JxLkxJlLBzmbLUsE+KSd0/KpCppcdq+lbYSly8RVL+g1lZP2UiZ16nVhVHt0W4tRgN5yW8yG0EfRTkcSfDpmmSVe9OaTtjlxTBahwmsb70aErdHxQmoFdfSS01hbdtYnT3B3N9mn5q/lVEQ2xyk3TbFAt6p0phMeC2z27KsONqUpSspPQ+0K6XS5XVi0rhImXOM6wncDcR1Akrb3DvLWrGCpQIJwQcdeHGt3tXyb3tHOo5ENpbjrwcTFcypBCQN1B7xgAGpboeTcLzqyXLmSA1Lez2ynh7CHeCjkdAASMdAKmC+r9Y9k1+kFV405DakOnHaIQEKUfMYyaj0zYNseuBPYPzYCz0S8rh881cWu9mendeWl+HPgstSCk9jMaQEusq5ggjjz6dax7tP2d6v2dTiyZs8x+ba0vKUhwd6T9x4ioLKe9FjRMg70DV8hB6B0oP2pFIJPojhwH8H6pt7p6BxsfwqFUKzrXUkNWE3iekjoXTwpwZ2qauYxuXuUf2sH7qeHq1Jfoh6vGTHn2h7yUtP8AOmeT6KG0VhRLbFudHcHz96aikbbfrWMRu3ZRx9JA+6rF0Ltc2n6ladMFEJxtnm7If7BKj3Ak8T5U8PUdd9HzatHSEJs0d1KRgbrqPvxSN3YdtTb97S4V5OI/8qt0bT9qMP8At7LGeA5lm6Nn7TQvb3qmEP8AbtPXJGOZakNufYaCpmdhm0N5oBzSr/aeDzYH+alLfo2bRZhG9Y48cd70tAx8s1bcD0gmJfCW3dYp6hxB+6ndG2PTjiQp65rR/wATeFaFSWz0VtcofbfN0tFucQoKStEhxSknwwmrNjbD9Y3G3sQr9r959pjigRoiQvmTgrUcnio8x1p4Z2waPAyq/wARP7SsU4xtteiE+9qSAPNygZovo32XtFquF0u89LhBcQ9J3ULxjGQgDuHWrRataYkVplJAbaSEISkYCQBgAVFG9tugVD/1TbP+8KHttugUoP8AvNbVeTwrIfbk52LCz4VlTaEbZdNp8lljfvF5lPNx2Yu9iPESEgKUv6R4E45DrV03fbPpO6OtwLZdI0mS+rcbbbWPbV0GTwGTw41me5ruVhlXy7S0qj3e5Sn4rIz7aCVEOkdwAynPXPhWhJNOa0mMB6HCfDluzJEVtbYw6ENlbpJ4qClAj3VAE4ppUxZ3Z0Zu+qdhIuCQ5a9QW9WCocsPJzxIPA8lA+GKRxls2xekW0hJDaZD5I4b5UQnP7v1Us07DhzpV40Jd1hEdUpRgPEE+ruHO6odwICSR1GayHt+17WtOFT0K8zLxbgkBM5h8vJaBIAKgfaTjI58KaNn89N52tm7SZSVo9ZdfVIcIG+ACAo+fA14vM7VezS3z7Fcrp2ciW0WUMMuBwLbUPadKuYBBwBwOSTwxUZ07ELcUuqTxcPDyoNYStouloaQH7vCWU8ghXaEf9OaaJm3DTzGRHEuSf1Gt0fvEVn9KD3V2Qws9KUi27ht5fUMQLWhP6z7ufqA++mCbtk1JJyESI8cH+6aGf3s1CUQHF8gaUtWKQ7yQaUh0ka+vkpWX7pKcH0d8pHyGBSq17TrtZs+pKZZJOSUtJBJ8TikMfRc6RjdaUfhTtE2VXOVjDKuPhUUtkbddSyoj0STLDjLzam3EqT7ySMEVT1znIjylkNhO8cggcD/AKwKu6JsIuEnG+ginqL6NaJGPWFYFBl6RNCZLUhk4W2rIqytnd4u15uqrXpqL2NyuDZYefSPZCFDdWtR5D2eZ5/GrzgeitpoqCpbanO8ZNWPpHY3pPSBC7fbG0OdVnnVqRy1JdLwpCksLWgfq1UGq7ReLwFolSZLiDzSpRI+VaVetzDw9pAptk6XiP5y2PlUVjK57K2ZCipbbgV3gYpld2UNIJw7I+OP5VtGVoCI7nCB8qZ5ezJled1A+VBkD+jVpo+84fMUtj6ckQgA3IeAHIA1pmVsrBzut/VTPJ2VujOGj8qCiktTWxjt3T8a8LbkK95az8auSRsvkDOGj8qbn9mktOfyKvlQVKqOvrmuao6qtB7Z1MT+hV8qRO7P5qf0CvlQVyY57q8FjwqfOaFmp/QK+VJXNFTR+gV8qCvnrNDezvxW8nqBg/VTPI0mlCVFD6sdAoVaDmjZ45MK+VIJOjruQdyOo/CgqJ2K/Cd4ggpPA1OrJrKxXOGzB1bbDMUwkoamNOdlJQk807xBSsftAH9alMrQN+cJxBKgemKbXdmmoFk7tuUfOqh8LOhLiiDKm329RfUYyY7bDNuS4DhROd/tAOJPHhRd9p2mIkbftGk4j98U2lty6zvbI3UhIKGslIOBzNR1OyjU7h4W9Q+dPNp2I6gfcSX4isZ5Y4UpEPhxLjqq5LmzHXnytWXXnDkqPd/rlU4hWJwpShtshIGAAKtTSexefuNoeY3UjoE4Aq0bHsfixglTyRnyqKz1b9Fy5JG6yo58Kldq2VzZJGWSPhWjbfou2wgMMpJHhTyzb47AwhtI+FBRlp2LrVul1AHwqY2vZHBjgFxCT8KskJSnkAK+0EchaHtcQDDCDjwp3ZtENgYQwgfCllFBzEZpPJtI+Feg0gfmivVFB8CQOlfaKKAooooCjAoooPhQk8xXksNnmkUUUHNUJhXNArmq1xlc200UUHJVjhq5tiuKtOwVc2hRRQcV6Vt6ubQrirR9uV+jFFFBzOiraf0Yrz+JFs/uxRRQfRom2f3QrojRVsH6IUUUChvSVsRyYT8qVtWKCz7rCflRRQLG47TQ9hAFdKKKAooooCiiigKKKKAooooCiiig/9k=',0,0,'2018-01-13 12:28:48'),(12,1,NULL,'TOYOTA AVANZA','TOYOTA AVANZA','12',88.20,'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',0,0,'2018-01-13 12:29:42'),(13,5,NULL,'CHEVROLET MALIBU','CHEVROLET MALIBU','13',73.50,'/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCACWAPADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAABQACAwQGAQf/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAH1RJCSQkkJJCSEBcZ57nz0gfmxxpKePkTSwMBBpgZBy4LuFl1sCGyXmmmX0LQ+ITp7eslrF6khJISSFEO86D2Nn2QC0kqIvK9Xiy7DpskGy2N1xkLFfUpKBMMItbnq6gSklUKOEwBLZef6NPWkNzRtRmDiNaJCRkcNnhcdR6XKrZAXAe6BWHmgVxVxVI9cYbYijZDSP2DP800pnrGgkA0pMKg2ITIpBotoVaNkLsuohQIp51ocNIENvi89GTW+65VZ4+F+WIkVrT0SyDoApn54glAPiCEY7hcI+a9x01vMZzeNg7G7Q2uRnrEtivOQQkLgDMF6ZBTfjSEJJxbO/wDLjqbmOi1LcdbhNGxo9reC52iQMPtUJKXcUTo1wdWaemi6AcH7GcthEbyiR482HXmipadcTV0mXNm6J7LuSzlN1iAl6MgLwaYYph+baadZfhqbGeMEnWRneZ0iEbISI1ldNQNVlYp53bC18ns8gauQLWQ9UBVw3UHOJGdkWDpAqD1TrIZJ5DhupcJIegLCONXzK8Na/H8NiNz0RY7XkU7dD6An87IygyU2VMtZ3h081L+lWzEGz6KlrqPHx3rA88srenVDzeP0OAwK3TTDt3KMGz0BHnq9BeYB/o5A8qt+xmTzbS6zoMvSoSSEkhJISSEkjjUjjUhvEjnEjvUh8iQ5JCSQkkJJCSQkkJJCSR//xAApEAACAgEEAgEDBQEBAAAAAAAAAgEDBAUREhMUFSEGECMgIjAxMzRA/9oACAEBAAEFAv479Sxccs+o8eB/qSR/qG+SdbvYnUrZJzJknKg8pRcvci+2D2dyHvMiBPqLIgq+pbCnX6HKr6r4/jzNTow4zdYyMkhXtavSspzPxpw52mRYmBtKy5rbnW3OTnJiU7kVWZVi6BXtqOnThM3xNGjzk0W4eVhmNnNW+FrJEw0frssWpdQ1yWJZ7nxtJmSupKVtsWmvIubItxUhmiyYfG1XJpfU8LbDKKu6x/x1w9sGNnZND5yplYboYmoXYlVes38tQw6eOLfwMPMsxf15mo1YsZ2o2ZLY2LZltj4leMv213J2gxsSfUf19rNWqnBMHH6q8qz9yYdzx4F8HVsW1fs4fLVbGwizJiu6p9mZUizU8ass1oydSvvScfc8NRMi2tfLyDzMke7KYtx3ufwTxm28CD1zHq5KtOSubJ4Vrdvb72tT3trQrW2nU7QuAxGBuLgVQLjIp0RJkahRjF+sXOPc1k8iXORubm/3hGk6ZOmuDlQh5MHe8n5WIRiyrnWmj/KYaKLQsEIRWLXuRSdawcq4O5lypRzhJxk4ycZOMnGRaXY6NjatTuiDe5zxsljwbBKo48Yg3FIg4i1i0kUHFFGtSIp3Syb5JsJtO49plSRql5OqXHtbD2pGppM0YqdeRskQnaJj1QUPS1mXkQs1ZLOzM11kVbRNZK8TuSCl1sIXYh1UnIka6ZJsJsJsJsJclzkY+PgvdemDEJplFqzo+OenoF0WiZ5pj0XO+RNPwPY8Ms1pf+HdGtyIqxFoXiX2LUuXntLNkXGPqD1tj5fcnZ8zYTYS5yORub/bltFWU1Q+bc8d9x32ndaaNU3DVJueqt8zbqzrIjBvmfV8yrTMasngkPeWXGoZUux/Yy7Gl3zE8zkb/o3+2xlNxqbTPn1dh6pj1U716XVAjnkoh50HmTJ5MyRcLaPYPYX27I7cmiFWK8Wu6vMxZxrMOeORubm5v9oSZFx2kaKqxsmDKeWjsOw7DsHt+K34JyOZzOwiwW0ZxmMx/wBtdfbbNS5NeGq0mWjXY1X/AEGxFUydGxNmPWTnD322fZ7FQsfm0ZNcncp2wdkENyl2Nzf48muDyk2bK4Lj5a3EsTJlTu1bTW1MdqWXcUhuWHT85CskT5aKNlXMTvI11KDZ6E5zyeU413ZMScqT8B+I/GYaQ1m5Hyag3WnGBEW2l54VUtK2fMkxJf8A6ULLsrbLZj1ti78NPxv92yKVGzhsq1iebnUeOeI0kYFjC6Ne5V9OZTnl0sduLIi4byunY7C4E7euExMdIyKNOunxtNg69OU54SkZVKk58wXZL2Fk7vTPF+cYqJEM2v5qxicSEIqIpFx5krwnYp0l2KdDKtKqQTGrQiIgfGaCa2OMnzB3WQRk2weVYeVYeTYeTYeRad9p3WEu0kEFPC+2+7Hqmx2yrVoExGYq0uxinRJkq0etRMOpCEWP02YsjY0jUSTRJNMnTJ1SdbHWx1MdTHWxxP6IeJORzKca/InE0V+NOjLBXgVIRWq/wvhLI+mxI2ljaVJOlyTpknrZPXSeuPXnrj1m56eJI0FZF+m0kr+mMcp0LDpExq0Noj+baDjB1qdSnSp46HjIeMh4yHjodSHGP/D/AP/EABoRAAICAwAAAAAAAAAAAAAAAAECESEwUGD/2gAIAQMBAT8B2apIJwzXNf/EABoRAQABBQAAAAAAAAAAAAAAABEBAhIwUGD/2gAIAQIBAT8B2c1EmG2Vea//xAA1EAABAgQDBQYEBgMAAAAAAAABAAIDESExEiIyEEFRcYEEEyAwM5EjYWKhNEBCUnKSQ4KD/9oACAEBAAY/AvLzxRPgFlaT1WRjBzXqNHJq/Eu6KvaIn3VYr/utTlqcqRCtZHVfiH+6/EOXrA8wswhuXxGuZ91OG8O5eZU4ncApYsDODVJjS4quFnNBpihzjuG5X2B4wumJy3rC6YI2947ou7he/BZ4ryUC04oZ2Niwora7ipuaZcRZDMWn9wQZ2n+4UwZjyMTzIIsgUHFUm5xWKOZfSFhY0NCdEdZqdEdvTnuE2QxiKxNy8lmeYjeBTY13t1HjPYG7t6ojhe5s+BQPeOc3eCnVFsQ2GGyV51XxQ17N4ku/7O9srls1gdoNvkqZmft8ZmZuVTRZaN3uUmCvHa2AN9TsiulmiV6be5kS8slsrqKDOKm2GZL0ipFHwSksL6/PbNxAWvF/FfDhf2Kw94Yf8FWLEPNa3INY4AD6V6g/qvUHsvXPRY3xCXLUpHtBkvUn0Vz7Kr1iuU53AIPe5SZDesnZnHmsT2SPBSwqqq5WmqMCsqum7gF8OUMfdTe4u5+TZVdJZnTVAFRqo3ZVyc3iFNz9llbwVIXFEAPOLjpGy6v4bKp2UCyscq06qr2hTKt5FSFlunAQ8H1Ezmr+D9HsqsYV6bVWG1VhBVhoPldcFMvkFWbpbysDGAfNYGGTkMplvKoTNS2V2UKquKpIKp8iYp8uKLZtb0WI5RuWsr1CqRCsxo0Lvj0bwCBMOJTgmzhEg3BKc9pwtPE2RiCKz5SC7vs7Mu+I6yk2p3njsmVJlSqvchiMwr18uhnzVHYeS9Qr1CvUK76KSZ2mmiG1zgTWS0RfsERYfU9EuMIdJr4kRxHACS0A867KDZhB8GDh5RWWIOoWpq1fZalmKDG2CrVUYtyv4Si4rHEsbDimAQxiiGiMM1TfbyMzx0UmN90J+Iu8mSawb1h/aU7tR0dnZJv8k6IR8wmc/BmICvi5L4bAsztlTJTWsLUFcK+wN4bJ8FrCnOiD8BwneqbQEXNuAqNwvcnQ4j5Q9wRYwAtw3TOazFZWTVMqm5yq4LKCVQAK6E9lYThyK/yBan+y1u9lirJu1sFvNy1BCGIknA2NAVgJrwCBHgcBwQDAKUTo3aBvyyT3MgEMlLEVMmUlqxLKxXkqknw0Vws0GGei9Bnupd2B/usrYZ/6LC3u2NVY8MdVm7UzEpuiNn8prUT0Wh5VOzlZezN91lhw29FmKKpSdFDhfrcap8J1gZqH2ZlOPhsrKyqqhUarbLKy3rW5aluW5bluW5XWpajta6I6TgnuMp7pIuKsrLSqqqsqDw2Vlbxb1vW/x5IbkJtVVZUHk22WVlZWVlZWVlZaVpWlaVmaqQmqjR+SsrKysrKysrK35H//xAApEAACAQQBBAEDBQEAAAAAAAAAAREhMUFRYRBxgZGhINHxMLHB4fBA/9oACAEBAAE/If05FR3IxjHf0Q/8obKccd/si8kXxjIf4ZF/cIaJHdi6UsMNIVn53I2+IlD4ejItNdqgjP8Al+owLWkxcvaieNaUiSfOfYRImWiwvajTIg9KA4CMIozTwcpyj0gqxD+iu1uRBbTCQ5ZQpu6ehLIy6jZiHopA78h+PBvj2SUFbWvIsLMs1+g/Iq2cM55kI9sbIWG/xLO3EB5MKljT6v6Jy8o3pexmfN+glzCjFKZXSvJ8joMW8m4FUNFPSG8MaYgGAkquZQuk55ORqSYv904HVBDJspQUEKh2KnYlps3AYpNLdv4+ugwYwNzesUYcbljvYnu+sq/84HoWTkqCzBjlodBslGeLdk4HPcqiZXwKg3WfAkMmyRJYtmqJ6EzaqJUuh2A3QpqtWFdNHVCC7bgp1bSSfdQYlSd7CBC3lJDn7lDrySQf9aPwMuq4c0JD+wrtjc0ilKJS6EtnYzW+EUW4EL8mu0lkE2Mc8omuXBGTBJQkkNwu7CdVc7GN/lUVGUpibrwZQLdPBmGYXmtkqk9gSQ3Lqpk99TyKtpZZvcnBlHkZCGvpcULVFPSEgt1EIjJ4SN8/gsS+akdgx4EO0mm1cnwYoHl+ArtEWAOVbHpD1h7zmR2OjZgj8mo6Ylf7wYhd4b/vw4lS4rNBJ0zCmSKwx46zTDBvAnXqlkGbucpyCqLSoIKGrtyXy5UbXyS/hCgmqTKRJrgSe0k2OpHNdjJwzKCH59WhJmi8RAqpZxgRUmaymiWyLWyUFETUySFTy34H0Lb10SWoMIFzX1Hl+gRCSrg6OqeQ27TUNVD++Z0J4P7MfnBBqCrZmyrmGwptMZuVqx+u68R3EKE3RS/eNpGOwyXaVtRuNlcjrl2GqGO9hbGpHNhDDlD4JutmULW3KF9jqfQiy+iw2OQ9CJqEwuKCvcmv01/Mi+lHApNSkkYgq60M6qTweiYCWSeHyNUhowEIitW4aElbCEKwiRS2ZIPhFhxQT5VhiZ7LsOTH0JJJ6JJM5K6DfhnJif8A3fY2+oTNHJCuaBM0lImxJ9I0HlnGeOiyZ6nWL0GZgL8+ADJSAquP9gnCZ3cF9AVLGirQXMPVQv8ALCgarZ3kt9CFgmbBdETmRBdLnKVyfpVu1B+RKkC0scIYblssIBqHPMyinsRXE7McJFlbyzK24GNLl1LkxqSFltlmOBR1lYs/tPz5+eOKZQtFuhewueh3fvJHWSOJhjJRsIqFEknz1b3oa7gIXUMt7Fz5uDhIDV3gSHwJF6B00zk0BxQeo2XwP2LfZunBWqH5lU6Ewi22PImRinwIwBEbavXY5ORZQicSTakNwr4MGvlAypJXJSEeO8OBQykxZVTQ0+AwqG/5E+i+xJRpVWHmh6ETRRFmS5ScVEqjvJZ07UN8mMUiTFYFsLaI6kuT7Cv7GX4HR5E7YVz7EMI1DCkp+SC04jToUDhRKVD/AG6f7mB4aFdbvA9pO4QR2wfwao6CYmUkchSWnKFgOw4IL0dURJsaxhxFoFkch6y01ISAswWREMaVEg0CbEBWHsNg7oWv0OA/6o/2Rzeh/qhtu5cGeRoZUmldVQs+SpTzAxJmyVPxdjGLc5nRHRImCLapYT6Vwr0JqGkPQd075zh7Q9oaNkkJt56BwZ2CUmE8xQjkWyHamNluSI/RVhvpwe76WyM+liG+M6L+xdsfkrEjbUiOFhWCX6sI4jjJMDeG/A4BwDhHCEnASsRLshCX/B//2gAMAwEAAgADAAAAEPPPPPMBEdWYrWIcPPPOCDHBNJd0KEC+Unruimtvvs1nrl/rml2g1C22676926rYy0W0ihP941w5zqtv5w974JB3y69i05qiTc+XINiv7ALx/g095sDAMPFHLBHBODIBAEHHPPPPIHHIHHIHPPPPPPPP/8QAHBEAAwEBAQEBAQAAAAAAAAAAAAERECAhMEFQ/9oACAEDAQE/EO4QmT6sXDKUpSlKUu0pchCZCC2LiXxS+JqKUv5kGuqXpdohMSITFxCbCEPT0jJ/H//EABwRAAIDAQADAAAAAAAAAAAAAAERABAgMCFAUP/aAAgBAgEBPxD3RS7OPKwB5PE5AorGlFo8HHbjo4cduP5n/8QAKRABAAIBAwQCAgIDAQEAAAAAAQARITFBYVFxgZGh0bHBEPAgMOHxQP/aAAgBAQABPxD/AFKBa0RrcIn4oupu9z+ZbHRVX4qLI4OQ9koSF9U/BGX3EWb3GFvsIusDxJe/4ByShWZtRUqlUaVU+Wa+A6P6SqPAb+iXQZvl8SkdVmtR+s/EB7y5E7mp/sMhRl23y7QVoaNkcu86P/K/LAtK7WvoS7awA7Cq7wM3LpvMkHc1hlDBTBLqmsxpQI9K6MqlqbjNphsaHWBz6uMXVz0I9HWshfF3FczRd0r8zKaHJMnV1qLDYvePVs/0WPMuFrMZcItZSgTLsPyQ+E2qxOH/AEbtelr26y4zlsZefqVWToC0S3xM35/p0hE52Ovd3goEeato5Rah0bB2JZoE1DaidUfMskqwxOBcEchHfZHUhiuBlWvCxxN40YfjTshGwFKFbBn68zKJwoL4lL5rM7lXoyrbeHdCz4xGgb1KwYpdGmj1BsJw6d1QMwAG624v4l7yKXe7do1J1owcrZ/zDAJocHo88TRV0WsfqVMXKBhwdWHgLN/59jj+Wo90Lts/L6jCGx02MhUHeliQCjCOEliMFgKYGIt6wAoqzio4ab4WxA1yhcFo9tvgh5MswLIq05qlMegDCtpS5k/CKlZJ6Yo1hMLmZcAVZQkQScDoNlXXHT+VATqIfMscHuPnpNcwbVPg+4BpaVHXdFgEZXVazykRI595j+oTaYVs5Cd5ZLlAAMyaaEoXLSLaKNCW7QcoEGJjkwOgQWqbomGph1R+TBQxF1Vsb7W1pHtGpLIBRpMUFiqg7B2gOFgIUeZcGShSvgjibk0R+YO6jWDi+9QMEoDUPuUN46CZldy1+Jqodcn3NgJzAKe/7Gx5iah0T8jiPlndWINwgBhuLaRkv1lneW7ggtVngmwB1/6hocdBhn9yg1SG9XMf6ipZpq7RLaxVrH02diG5BlXqS5GjejgBrcB+Bco7XOT5giiOx/CNEAAbTvHEUb7yzca4R3WqEAdjX9R1WvIweoe5sk9/U3Y9x/6kev7S5xntNXANVxFGlwTYBHVuYgdgjNGu469wLYTsX6mSN3c/SJktR0GlL+IFheITASztGEbCo4VFBD6p7m0ybDb8QlpWTguV9yl6y20IWizhqa9xVHWwdk11Rb117TcmgFPxx2YuxQzQNfE6T6UwQbbO61+Y+yVa4ijY96ldIiNMCw3xvAmwKC7d0D7jjUh/o2aAQ2UU+ZjLkaVvzEGVdNhVq4xgjks3I5Q6HyysjSFzIxmBpFusc8oRyDnhhUUBzK8ND2IUojtbPQNeIJvOb+MrvF6x3eb9wMO6ZmjGsDKHw7RqKWuOxbcTSnpRX6H3BVNyqRfzEENSzej9xAAoFpqGOrq+Ja6LBkaoMY7xz9qZDazRtfmAx+uV9ciU6Yl3IspBy2FszoBKYHYNTpNwQefO3Q2l9ik2ZQirG+pXoGn44bxeo6DSJApMcc47wfJBpt6wjJqE5IrvEd47vHYt3iMeEw0C2JGCYahV8woqrpJbm7jrC8yzFzL+nCturZdOvn6g8gCaTsbQmngQCebGJjBouUeDDYFMLQ5F+oiQFvwsX8xpGmFqeFSDz0KAoJYHKLcuKdbmKixFihH+iwA8xZAI7M6w9ukQT+W1I9t6kV3i3eLd4wibu8z0hsYpxoaecS+v3sJ6G/cSyBwSNO0/rqy8NOQiC51ZuVToADYIPVnGyRfSc3Q0R24QZXhqb5vdgVrLrzFtTLw0sb7bzVGd9uhCMaJrqat7E09oJpRm+7AsKBbLNS+GKG6GryTMZ2/kYtaESpIbZB1YLjPM+JbAHvPolqC3WmD/ANigwvcLsp8w6mCbx90ZZTJHSVXKxusY3hU1iYhNUZWZlcxADmmHOs5NB0NV9RIo63VO4eoWSL6CZTtiMCDLmtXh4meP6MtTtMWDKunOVQEQrJe2D2ysRuxX+pchW8HoxHW7hggIPOTc+ICWVVb5n5TUguieMF0bwnT9sAAKuDMpEYM94V3lqQ1XtDl2m8M2LfiDrXg0X0uo3N0AuNdYQ1I0FMuKuX3mbsVf6QSle05x+41VDmUQyVzAYJUKV3ee8bXxxhSnW9QBgU4Fs8xh38EHRD8Pux9Sbt/tlrXNrvL05VwjOH9sHtdGSldGAGs3Gc/7GaR/cNiK/IJ+4h+SPuVi5ZFDsNfMRlqtxzC1aO8LPjpVmw/mdJdrZrGfAFZtvtmAACCiAvKmLzEHNANmMa1l4I2TOSXnH7sFvjmr2XCcWp3d1fFVAuHCV6Ig2YN9462FdYXSPwammNv3HdI2t/xAsJtaj0SwAHve2MXfdRi7YaM/gC1FzxGizPEoC1uFZvG6rfyI6f8A9rWB1Z2Q/DDt42F+BFpJd+T1V1gzfiiD1tesIRdK1cN3OYpjjfuwbIOL8s2Y92f1LdQdZPQE46tsT2ywynQB8QmiNARarQ6FKPmUsqd5d4fWG9SR+4Q9Ri6DSDTWs2SM2jO6IFj4ioKviLJIeImCPENSE4goYPEHrtBEQgck1Ee5qiILtL1FIXQjotm7O0YIyveLfqfuPRHl9yzf3/cW0KV9h2M02eAnwyQ+RW9VmUPmJlG05R0Iv4hgFLZmNOfMtrQwGw2IuUnxFAV4iJgHiWCnxDU5IQX04hNC8Sq/wfcvUYcvUHeXqA3+p1P1OpRLQijRMV+6L+9h9zyzWJdVcrBZqDT0gCmhOkGuQsQq1Z6eYJBfKdVhgEDKROIeAa4gNAH+i/w9S4o+obdfCZ1fGGv9Ibf6h9/qJb/Up3+p1n6l3X4x1y9QTn0RHOePFSCTgGEZKf1D2woANKIZRux/sqLbEU1EW1MdQfU2B6n0xFPoiv0T/wAiAfVPoKab6Jp48Q0AH/wf/9k=',0,0,'2018-01-13 12:32:54'),(14,2,NULL,'NISSAN JUKE','NISSAN JUKE','14',73.50,'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',0,0,'2018-01-13 12:34:25'),(15,3,NULL,'KIA SPORTAGE','KIA SPORTAGE','15',110.25,'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',0,0,'2018-01-13 12:36:19');
/*!40000 ALTER TABLE `product` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `product_circle`
--

DROP TABLE IF EXISTS `product_circle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_circle` (
  `productA_id` int(10) unsigned NOT NULL,
  `productB_id` int(10) unsigned NOT NULL,
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`productA_id`,`productB_id`),
  KEY `idx_fk_productA_id` (`productA_id`),
  KEY `idx_fk_productB_id` (`productB_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_circle`
--

LOCK TABLES `product_circle` WRITE;
/*!40000 ALTER TABLE `product_circle` DISABLE KEYS */;
/*!40000 ALTER TABLE `product_circle` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`product_circle_before_insert` BEFORE INSERT ON `247_car_rental`.`product_circle` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `product_param`
--

DROP TABLE IF EXISTS `product_param`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_param` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` smallint(5) unsigned DEFAULT NULL,
  `name` varchar(32) NOT NULL,
  `value` varchar(64) DEFAULT NULL,
  `picture` mediumblob,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_parent_id` (`parent_id`),
  FULLTEXT KEY `idx_name_value` (`name`,`value`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_param`
--

LOCK TABLES `product_param` WRITE;
/*!40000 ALTER TABLE `product_param` DISABLE KEYS */;
INSERT INTO `product_param` VALUES (1,NULL,'Automatic GearBox','',NULL,'ENGLISH','2018-01-13 11:25:48'),(2,NULL,'3 Passengers','',NULL,'ENGLISH','2018-01-13 12:07:01'),(3,NULL,'4 Passengers','',NULL,'ENGLISH','2018-01-13 11:26:41'),(4,NULL,'5 Passengers','',NULL,'ENGLISH','2018-01-13 12:06:54'),(5,NULL,'6 Passengers','',NULL,'ENGLISH','2018-01-13 11:27:23'),(6,NULL,'7 Passengers','',NULL,'ENGLISH','2018-01-13 11:27:38'),(7,NULL,'8 Passengers','',NULL,'ENGLISH','2018-01-13 11:27:53'),(8,NULL,'Petrol','',NULL,'ENGLISH','2018-01-13 11:28:41'),(9,NULL,'Diesel','',NULL,'ENGLISH','2018-01-13 11:29:27'),(10,NULL,'ABS','',NULL,'ENGLISH','2018-01-13 11:29:50'),(11,NULL,'Air Conditioning','',NULL,'ENGLISH','2018-01-13 11:30:03'),(12,NULL,'Central locking','',NULL,'ENGLISH','2018-01-13 11:30:31'),(13,NULL,'Air Bags','',NULL,'ENGLISH','2018-01-13 11:30:51'),(14,NULL,'Audio system','',NULL,'ENGLISH','2018-01-13 11:31:04'),(15,NULL,'Power Steering','',NULL,'ENGLISH','2018-01-13 11:31:18'),(16,NULL,'Electric windows','',NULL,'ENGLISH','2018-01-13 14:42:46'),(17,NULL,'Cruise Control','',NULL,'ENGLISH','2018-01-15 08:23:13');
/*!40000 ALTER TABLE `product_param` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `product_param_part`
--

DROP TABLE IF EXISTS `product_param_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_param_part` (
  `product_id` int(10) unsigned NOT NULL,
  `product_param_id` smallint(5) unsigned NOT NULL,
  `value` varchar(64) DEFAULT NULL,
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `picture` mediumblob,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`product_id`,`product_param_id`),
  KEY `idx_value` (`value`),
  KEY `idx_fk_product_id` (`product_id`),
  KEY `idx_fk_product_param_id` (`product_param_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_param_part`
--

LOCK TABLES `product_param_part` WRITE;
/*!40000 ALTER TABLE `product_param_part` DISABLE KEYS */;
INSERT INTO `product_param_part` VALUES (1,1,'',0.00,NULL,'2018-01-13 14:56:44'),(1,4,'',0.00,NULL,'2018-01-13 14:56:56'),(1,8,'',0.00,NULL,'2018-01-13 14:57:08'),(1,10,'',0.00,NULL,'2018-01-13 14:57:29'),(1,11,'',0.00,NULL,'2018-01-13 15:17:21'),(1,12,'',0.00,NULL,'2018-01-13 15:18:40'),(1,13,'',0.00,NULL,'2018-01-13 15:20:54'),(1,14,'',0.00,NULL,'2018-01-13 15:21:27'),(1,15,'',0.00,NULL,'2018-01-13 15:21:40'),(2,1,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,4,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,8,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,10,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,11,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,12,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,13,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,14,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,15,NULL,0.00,NULL,'2018-01-15 08:25:57'),(2,16,NULL,0.00,NULL,'2018-01-15 08:25:57'),(3,1,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,4,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,8,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,10,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,11,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,12,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,13,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,14,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,15,NULL,0.00,NULL,'2018-01-15 08:29:27'),(3,16,NULL,0.00,NULL,'2018-01-15 08:29:27'),(4,1,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,4,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,8,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,10,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,11,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,12,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,13,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,14,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,15,NULL,0.00,NULL,'2018-01-15 08:29:54'),(4,16,NULL,0.00,NULL,'2018-01-15 08:29:54'),(5,1,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,4,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,8,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,10,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,11,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,12,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,13,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,14,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,15,NULL,0.00,NULL,'2018-01-15 08:30:33'),(5,16,NULL,0.00,NULL,'2018-01-15 08:30:33'),(6,1,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,4,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,8,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,10,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,11,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,12,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,13,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,14,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,15,NULL,0.00,NULL,'2018-01-15 08:33:34'),(6,16,NULL,0.00,NULL,'2018-01-15 08:33:34'),(7,1,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,4,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,8,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,10,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,11,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,12,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,13,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,14,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,15,NULL,0.00,NULL,'2018-01-15 08:34:00'),(7,16,NULL,0.00,NULL,'2018-01-15 08:34:00'),(8,1,NULL,0.00,NULL,'2018-01-15 08:35:32'),(8,4,NULL,0.00,NULL,'2018-01-15 08:35:32'),(8,8,NULL,0.00,NULL,'2018-01-15 08:35:32'),(8,10,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,11,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,12,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,13,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,14,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,15,NULL,0.00,NULL,'2018-01-15 08:35:33'),(8,16,NULL,0.00,NULL,'2018-01-15 08:35:33'),(9,1,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,4,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,8,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,10,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,11,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,12,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,13,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,14,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,15,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,16,NULL,0.00,NULL,'2018-01-15 08:35:57'),(9,17,NULL,0.00,NULL,'2018-01-15 08:35:57'),(10,1,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,4,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,8,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,10,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,11,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,12,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,13,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,14,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,15,NULL,0.00,NULL,'2018-01-15 08:37:23'),(10,16,NULL,0.00,NULL,'2018-01-15 08:37:24'),(11,1,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,4,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,8,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,10,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,11,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,12,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,13,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,14,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,15,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,16,NULL,0.00,NULL,'2018-01-15 08:37:56'),(11,17,NULL,0.00,NULL,'2018-01-15 08:37:56'),(12,1,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,4,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,8,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,10,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,11,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,12,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,13,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,14,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,15,NULL,0.00,NULL,'2018-01-15 08:38:21'),(12,16,NULL,0.00,NULL,'2018-01-15 08:38:21'),(13,1,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,4,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,8,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,10,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,11,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,12,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,13,NULL,0.00,NULL,'2018-01-15 08:38:49'),(13,14,NULL,0.00,NULL,'2018-01-15 08:38:50'),(13,15,NULL,0.00,NULL,'2018-01-15 08:38:50'),(13,16,NULL,0.00,NULL,'2018-01-15 08:38:50'),(13,17,NULL,0.00,NULL,'2018-01-15 08:38:50'),(14,1,NULL,0.00,NULL,'2018-01-15 08:39:08'),(14,4,NULL,0.00,NULL,'2018-01-15 08:39:08'),(14,8,NULL,0.00,NULL,'2018-01-15 08:39:08'),(14,10,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,11,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,12,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,13,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,14,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,15,NULL,0.00,NULL,'2018-01-15 08:39:09'),(14,16,NULL,0.00,NULL,'2018-01-15 08:39:09'),(15,1,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,4,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,8,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,10,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,11,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,12,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,13,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,14,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,15,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,16,NULL,0.00,NULL,'2018-01-15 08:39:29'),(15,17,NULL,0.00,NULL,'2018-01-15 08:39:29');
/*!40000 ALTER TABLE `product_param_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `product_review`
--

DROP TABLE IF EXISTS `product_review`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_review` (
  `user_id` int(10) unsigned NOT NULL,
  `product_id` int(10) unsigned NOT NULL,
  `description` varchar(128) DEFAULT '',
  `value` tinyint(4) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_product_id` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_review`
--

LOCK TABLES `product_review` WRITE;
/*!40000 ALTER TABLE `product_review` DISABLE KEYS */;
/*!40000 ALTER TABLE `product_review` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `product_type`
--

DROP TABLE IF EXISTS `product_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_type` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` smallint(5) unsigned DEFAULT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_parent_id` (`parent_id`),
  FULLTEXT KEY `idx_name_description` (`name`,`description`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_type`
--

LOCK TABLES `product_type` WRITE;
/*!40000 ALTER TABLE `product_type` DISABLE KEYS */;
INSERT INTO `product_type` VALUES (1,NULL,'Fixed Transportation','Transportation at a fixed price','ENGLISH','2017-10-17 09:25:42'),(2,NULL,'Transportation from A to B point','Transportation with payment per km','ENGLISH','2017-10-17 09:25:42'),(3,NULL,'Car rental with driver','Rent with payment by hour','ENGLISH','2017-10-17 09:25:42'),(4,3,'SUV','Rent SUV','ENGLISH','2018-01-13 11:14:18'),(5,3,'Minibus','Rent Minibus','ENGLISH','2018-01-13 11:14:46'),(6,3,'Economy','Rent Economy','ENGLISH','2018-01-13 11:15:13'),(7,3,'Compact','Rent Compact','ENGLISH','2018-01-13 11:15:47'),(8,3,'Saloon','Rent Saloon','ENGLISH','2018-01-13 11:16:10'),(9,3,'Executive','Rent Executive','ENGLISH','2018-01-13 11:16:36'),(10,3,'MPV','Rent MPV','ENGLISH','2018-01-13 11:16:56'),(11,3,'Budget','Rent Budget','ENGLISH','2018-01-13 11:17:30');
/*!40000 ALTER TABLE `product_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `product_type_part`
--

DROP TABLE IF EXISTS `product_type_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `product_type_part` (
  `product_id` int(10) unsigned NOT NULL,
  `product_type_id` smallint(5) unsigned NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`product_id`,`product_type_id`),
  KEY `idx_fk_product_id` (`product_id`),
  KEY `idx_fk_product_type_id` (`product_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product_type_part`
--

LOCK TABLES `product_type_part` WRITE;
/*!40000 ALTER TABLE `product_type_part` DISABLE KEYS */;
INSERT INTO `product_type_part` VALUES (1,3,'2018-01-13 13:08:10'),(1,11,'2018-01-15 12:28:42'),(2,3,'2018-01-15 08:41:03'),(2,11,'2018-01-15 12:29:24'),(3,3,'2018-01-15 08:44:06'),(3,11,'2018-01-15 12:29:32'),(4,3,'2018-01-15 11:27:13'),(4,7,'2018-01-15 12:29:54'),(5,3,'2018-01-15 11:27:41'),(5,7,'2018-01-15 12:30:03'),(6,3,'2018-01-15 11:27:55'),(6,7,'2018-01-15 12:30:22'),(7,3,'2018-01-15 11:28:09'),(7,7,'2018-01-15 12:30:31'),(8,3,'2018-01-15 11:28:21'),(8,7,'2018-01-15 12:30:49'),(9,3,'2018-01-15 11:28:35'),(9,7,'2018-01-15 12:30:57'),(10,3,'2018-01-15 11:28:46'),(10,6,'2018-01-15 12:31:12'),(11,3,'2018-01-15 11:28:58'),(11,9,'2018-01-15 12:31:30'),(12,3,'2018-01-15 12:27:31'),(12,10,'2018-01-15 12:31:47'),(13,3,'2018-01-15 12:27:45'),(13,8,'2018-01-15 12:32:01'),(14,3,'2018-01-15 12:27:54'),(14,4,'2018-01-15 12:32:14'),(15,3,'2018-01-15 12:28:03'),(15,4,'2018-01-15 12:32:32');
/*!40000 ALTER TABLE `product_type_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `project`
--

DROP TABLE IF EXISTS `project`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `project` (
  `user_id` int(10) unsigned DEFAULT NULL,
  `api_key` varchar(64) NOT NULL,
  `schema_name` varchar(64) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `amount_paid` decimal(6,2) DEFAULT '0.00',
  `currency` varchar(3) DEFAULT NULL,
  `name` varchar(64) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `ip_address` varchar(15) NOT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY `idx_unique_api_key` (`api_key`),
  UNIQUE KEY `idx_unique_schema_name` (`schema_name`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_name` (`name`),
  KEY `idx_ip_address` (`ip_address`),
  KEY `idx_create_date` (`create_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `project`
--

LOCK TABLES `project` WRITE;
/*!40000 ALTER TABLE `project` DISABLE KEYS */;
/*!40000 ALTER TABLE `project` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`project_before_insert` BEFORE INSERT ON `247_car_rental`.`project` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `purchase`
--

DROP TABLE IF EXISTS `purchase`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `purchase` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL,
  `invoice_code` varchar(32) DEFAULT NULL,
  `invoice_date` datetime DEFAULT NULL,
  `total_price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `total_tax` decimal(6,2) NOT NULL DEFAULT '0.00',
  `order_id` int(10) unsigned DEFAULT NULL,
  `order_date` datetime DEFAULT NULL,
  `order_info` varchar(128) DEFAULT '',
  `delivery_id` int(10) unsigned DEFAULT NULL,
  `delivery_code` varchar(32) DEFAULT NULL,
  `delivery_type_id` smallint(5) unsigned DEFAULT NULL,
  `delivery_date` datetime DEFAULT NULL,
  `delivery_price` decimal(6,2) DEFAULT NULL,
  `payment_date` datetime DEFAULT NULL,
  `payment_info` varchar(128) DEFAULT '',
  `payment_amount` decimal(6,2) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_invoice_code` (`invoice_code`),
  KEY `idx_invoice_date` (`invoice_date`),
  KEY `idx_order_id` (`order_id`),
  KEY `idx_order_date` (`order_date`),
  KEY `idx_delivery_id` (`delivery_id`),
  KEY `idx_delivery_date` (`delivery_date`),
  KEY `idx_payment_date` (`payment_date`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_delivery_type_id` (`delivery_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `purchase`
--

LOCK TABLES `purchase` WRITE;
/*!40000 ALTER TABLE `purchase` DISABLE KEYS */;
/*!40000 ALTER TABLE `purchase` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`purchase_before_insert` BEFORE INSERT ON `247_car_rental`.`purchase` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sensor`
--

DROP TABLE IF EXISTS `sensor`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sensor` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL,
  `name` varchar(32) NOT NULL,
  `serial_number` varchar(64) DEFAULT NULL,
  `device_name` varchar(64) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_device_name` (`device_name`),
  KEY `idx_phone` (`phone`),
  KEY `idx_active` (`active`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_user_id` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sensor`
--

LOCK TABLES `sensor` WRITE;
/*!40000 ALTER TABLE `sensor` DISABLE KEYS */;
INSERT INTO `sensor` VALUES (1,1,'admin','0000','iPhone','00000000',0,'2017-10-17 12:25:42','2017-10-17 09:25:42'),(2,2,'driver','1111','Samsung Galaxy','11111111',0,'2017-10-17 12:25:42','2017-10-17 09:25:42'),(3,3,'Demouser','BH915AQ10D','Sony C6903','380935660800',0,'2017-11-02 11:09:24','2017-11-02 09:09:24'),(4,2,'Demouser','BH915AQ10D','Sony C6903','380935660800',0,'2018-01-13 15:52:10','2018-01-13 13:52:10');
/*!40000 ALTER TABLE `sensor` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`sensor_before_insert` BEFORE INSERT ON `247_car_rental`.`sensor` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sensor_circle`
--

DROP TABLE IF EXISTS `sensor_circle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sensor_circle` (
  `sensorA_id` mediumint(8) unsigned NOT NULL,
  `sensorB_id` mediumint(8) unsigned NOT NULL,
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`sensorA_id`,`sensorB_id`),
  KEY `idx_fk_sensorA_id` (`sensorA_id`),
  KEY `idx_fk_sensorB_id` (`sensorB_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sensor_circle`
--

LOCK TABLES `sensor_circle` WRITE;
/*!40000 ALTER TABLE `sensor_circle` DISABLE KEYS */;
/*!40000 ALTER TABLE `sensor_circle` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`sensor_circle_before_insert` BEFORE INSERT ON `247_car_rental`.`sensor_circle` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sensor_group`
--

DROP TABLE IF EXISTS `sensor_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sensor_group` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `sensor_id` mediumint(8) unsigned NOT NULL,
  `name` varchar(32) NOT NULL,
  `start_date` datetime NOT NULL,
  `finish_date` datetime NOT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_sensor_id` (`sensor_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sensor_group`
--

LOCK TABLES `sensor_group` WRITE;
/*!40000 ALTER TABLE `sensor_group` DISABLE KEYS */;
INSERT INTO `sensor_group` VALUES (1,1,'admin group','2017-10-17 12:25:42','2017-10-17 12:25:42','2017-10-17 12:25:42','2017-10-17 09:25:42');
/*!40000 ALTER TABLE `sensor_group` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`sensor_group_before_insert` BEFORE INSERT ON `247_car_rental`.`sensor_group` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sensor_group_part`
--

DROP TABLE IF EXISTS `sensor_group_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sensor_group_part` (
  `sensor_group_id` mediumint(8) unsigned NOT NULL,
  `sensor_id` mediumint(8) unsigned NOT NULL,
  PRIMARY KEY (`sensor_group_id`,`sensor_id`),
  KEY `idx_fk_sensor_group_id` (`sensor_group_id`),
  KEY `idx_fk_sensor_id` (`sensor_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sensor_group_part`
--

LOCK TABLES `sensor_group_part` WRITE;
/*!40000 ALTER TABLE `sensor_group_part` DISABLE KEYS */;
/*!40000 ALTER TABLE `sensor_group_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sensor_place`
--

DROP TABLE IF EXISTS `sensor_place`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sensor_place` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `sensor_id` mediumint(8) unsigned NOT NULL,
  `latitude` double NOT NULL,
  `longitude` double NOT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `language` varchar(32) DEFAULT NULL,
  `picture` mediumblob,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_sensor_id` (`sensor_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sensor_place`
--

LOCK TABLES `sensor_place` WRITE;
/*!40000 ALTER TABLE `sensor_place` DISABLE KEYS */;
/*!40000 ALTER TABLE `sensor_place` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `settings`
--

DROP TABLE IF EXISTS `settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `settings` (
  `code` varchar(32) NOT NULL,
  `name` varchar(64) NOT NULL,
  `value` varchar(256) DEFAULT NULL,
  UNIQUE KEY `idx_unique_code` (`code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `settings`
--

LOCK TABLES `settings` WRITE;
/*!40000 ALTER TABLE `settings` DISABLE KEYS */;
INSERT INTO `settings` VALUES ('arrived_message','Driver Arrived Message','Your Driver has arrived.'),('cancelled_message','Booking Cancelled Message','Booking cancellation has been Confirmed.'),('cognalys_access_token','Cognalys Access Token','put_access_token_here'),('cognalys_app_id','Cognalys Application Id','put_app_id_number_here'),('google_maps_key','Google Map Key','put_key_here'),('otp_message','OTP Message','You code is %s'),('password_recovery_from','Password Recovery From','put_email_address_here'),('password_recovery_message','Password Recovery Message','Do not reply to this email, Your password is: %s'),('pasword_recovery_subject','Password Recovey Subject','Password Recovery'),('payment_message','Payment Confirmation Message','Payment has been completed.'),('paypal_client_id','Pay Pal Client Id','put_client_id_number_here'),('paypal_key','Pay Pal Key','put_key_here'),('paypal_secret','Pay Pal Secret Key','put_secret_key_here'),('paypal_type_of_payment','Pay Pal Type Of Payment : Sandbox, CreditCard','put_type_of_payment_here'),('paypal_webhook_id','Pay Pal WebHook Id','put_webhook_id_number_here'),('schema_prefix_name','Schema prefix name','247_'),('smtp_hostname','SMTP server hostname','http://mailgun.com'),('smtp_password','SMTP server password','pass'),('smtp_username','SMTP server username','user'),('stripe_key','Stripe Key','put_key_here'),('stripe_secret','Stripe Secret Key','put_secret_key_here'),('stripe_token_id','Stripe Token Id','put_token_id_number_here'),('test_key','Test Key Test','put_test_key_here');
/*!40000 ALTER TABLE `settings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `stock`
--

DROP TABLE IF EXISTS `stock`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stock` (
  `product_id` int(10) unsigned NOT NULL,
  `store_id` smallint(5) unsigned NOT NULL DEFAULT '0',
  `count` int(10) unsigned NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`product_id`,`store_id`),
  KEY `idx_fk_product_id` (`product_id`),
  KEY `idx_fk_store_id` (`store_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stock`
--

LOCK TABLES `stock` WRITE;
/*!40000 ALTER TABLE `stock` DISABLE KEYS */;
INSERT INTO `stock` VALUES (1,1,1,'2018-01-13 12:43:10'),(2,1,1,'2018-01-13 12:43:17'),(3,1,1,'2018-01-13 12:43:23'),(4,1,1,'2018-01-13 12:43:31'),(5,1,1,'2018-01-13 12:43:40'),(6,1,1,'2018-01-13 12:43:49'),(7,1,1,'2018-01-13 12:43:55'),(8,1,1,'2018-01-13 12:45:56'),(9,1,1,'2018-01-13 12:46:02'),(10,1,1,'2018-01-13 12:46:10'),(11,1,1,'2018-01-13 12:46:17'),(12,1,1,'2018-01-13 12:46:32'),(13,1,1,'2018-01-13 12:46:39'),(14,1,1,'2018-01-13 12:46:46'),(15,1,1,'2018-01-13 12:46:53');
/*!40000 ALTER TABLE `stock` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `stock_invoice`
--

DROP TABLE IF EXISTS `stock_invoice`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stock_invoice` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `invoice_code` varchar(32) DEFAULT NULL,
  `invoice_date` datetime DEFAULT NULL,
  `total_price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `total_tax` decimal(6,2) NOT NULL DEFAULT '0.00',
  `supplier` varchar(32) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `delivery_id` int(10) unsigned DEFAULT NULL,
  `delivery_code` varchar(32) DEFAULT NULL,
  `delivery_type_id` smallint(5) unsigned DEFAULT NULL,
  `delivery_date` datetime DEFAULT NULL,
  `delivery_price` decimal(6,2) DEFAULT NULL,
  `payment_date` datetime DEFAULT NULL,
  `payment_info` varchar(32) DEFAULT '',
  `payment_amount` decimal(6,2) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_invoice_code` (`invoice_code`),
  KEY `idx_invoice_date` (`invoice_date`),
  KEY `idx_supplier` (`supplier`),
  KEY `idx_phone` (`phone`),
  KEY `idx_delivery_id` (`delivery_id`),
  KEY `idx_delivery_date` (`delivery_date`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_delivery_type_id` (`delivery_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stock_invoice`
--

LOCK TABLES `stock_invoice` WRITE;
/*!40000 ALTER TABLE `stock_invoice` DISABLE KEYS */;
/*!40000 ALTER TABLE `stock_invoice` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`stock_invoice_before_insert` BEFORE INSERT ON `247_car_rental`.`stock_invoice` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `stock_invoice_part`
--

DROP TABLE IF EXISTS `stock_invoice_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stock_invoice_part` (
  `stock_invoice_id` mediumint(8) unsigned NOT NULL,
  `product_id` int(10) unsigned NOT NULL,
  `tax_id` smallint(5) unsigned DEFAULT NULL,
  `count` int(10) unsigned NOT NULL,
  `price` decimal(6,2) NOT NULL DEFAULT '0.00',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`stock_invoice_id`,`product_id`),
  KEY `idx_fk_stock_invoice_id` (`stock_invoice_id`),
  KEY `idx_fk_product_id` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stock_invoice_part`
--

LOCK TABLES `stock_invoice_part` WRITE;
/*!40000 ALTER TABLE `stock_invoice_part` DISABLE KEYS */;
/*!40000 ALTER TABLE `stock_invoice_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `store`
--

DROP TABLE IF EXISTS `store`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `store` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `picture` mediumblob,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `store`
--

LOCK TABLES `store` WRITE;
/*!40000 ALTER TABLE `store` DISABLE KEYS */;
INSERT INTO `store` VALUES (1,'CALDER CAR RENTALS','Reliable Dubai Car Hire service!','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',1,'2018-01-13 14:00:27');
/*!40000 ALTER TABLE `store` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `store_part`
--

DROP TABLE IF EXISTS `store_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `store_part` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `store_id` smallint(5) unsigned NOT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `picture` mediumblob,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  `email` varchar(64) DEFAULT NULL,
  `phone1` varchar(20) DEFAULT NULL,
  `phone2` varchar(20) DEFAULT NULL,
  `address` varchar(128) DEFAULT NULL,
  `city` varchar(64) DEFAULT NULL,
  `postcode` varchar(12) DEFAULT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_store_id` (`store_id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `store_part`
--

LOCK TABLES `store_part` WRITE;
/*!40000 ALTER TABLE `store_part` DISABLE KEYS */;
INSERT INTO `store_part` VALUES (1,1,'Calder Rent A Car LLC','Calder Rent A Car Administration','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',25.065688,55.245635,'info@calderme.com','+97144327836','+971555587276','1st str.1','Dubai','0','ENGLISH','2018-01-13 14:00:15');
/*!40000 ALTER TABLE `store_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tax`
--

DROP TABLE IF EXISTS `tax`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tax` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `code` varchar(32) NOT NULL,
  `name` varchar(32) NOT NULL,
  `value` decimal(6,2) NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_unique_code` (`code`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tax`
--

LOCK TABLES `tax` WRITE;
/*!40000 ALTER TABLE `tax` DISABLE KEYS */;
INSERT INTO `tax` VALUES (1,'vat','Value added tax',20.00,NULL,'2017-10-17 09:25:42'),(2,'single_tax','Single tax',5.00,NULL,'2017-10-17 09:25:42'),(3,'driver_fee_value','Fee of driver in value',10.00,NULL,'2017-10-17 09:25:42'),(4,'driver_fee_percent','Fee of driver in percent',5.00,NULL,'2017-10-17 09:25:42'),(5,'client_fee_value','Fee of client in value',10.00,NULL,'2017-10-17 09:25:42'),(6,'client_fee_percent','Fee of driver in percent',5.00,NULL,'2017-10-17 09:25:42');
/*!40000 ALTER TABLE `tax` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `temp_proc`
--

DROP TABLE IF EXISTS `temp_proc`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `temp_proc` (
  `db` char(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '',
  `name` char(64) NOT NULL DEFAULT '',
  `type` enum('FUNCTION','PROCEDURE') NOT NULL,
  `specific_name` char(64) NOT NULL DEFAULT '',
  `language` enum('SQL') NOT NULL DEFAULT 'SQL',
  `sql_data_access` enum('CONTAINS_SQL','NO_SQL','READS_SQL_DATA','MODIFIES_SQL_DATA') NOT NULL DEFAULT 'CONTAINS_SQL',
  `is_deterministic` enum('YES','NO') NOT NULL DEFAULT 'NO',
  `security_type` enum('INVOKER','DEFINER') NOT NULL DEFAULT 'DEFINER',
  `param_list` blob NOT NULL,
  `returns` longblob NOT NULL,
  `body` longblob NOT NULL,
  `definer` char(77) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '',
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `modified` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `sql_mode` set('REAL_AS_FLOAT','PIPES_AS_CONCAT','ANSI_QUOTES','IGNORE_SPACE','NOT_USED','ONLY_FULL_GROUP_BY','NO_UNSIGNED_SUBTRACTION','NO_DIR_IN_CREATE','POSTGRESQL','ORACLE','MSSQL','DB2','MAXDB','NO_KEY_OPTIONS','NO_TABLE_OPTIONS','NO_FIELD_OPTIONS','MYSQL323','MYSQL40','ANSI','NO_AUTO_VALUE_ON_ZERO','NO_BACKSLASH_ESCAPES','STRICT_TRANS_TABLES','STRICT_ALL_TABLES','NO_ZERO_IN_DATE','NO_ZERO_DATE','INVALID_DATES','ERROR_FOR_DIVISION_BY_ZERO','TRADITIONAL','NO_AUTO_CREATE_USER','HIGH_NOT_PRECEDENCE','NO_ENGINE_SUBSTITUTION','PAD_CHAR_TO_FULL_LENGTH') NOT NULL DEFAULT '',
  `comment` text CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
  `character_set_client` char(32) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `collation_connection` char(32) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `db_collation` char(32) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `body_utf8` longblob,
  PRIMARY KEY (`db`,`name`,`type`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Stored Procedures';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `temp_proc`
--

LOCK TABLES `temp_proc` WRITE;
/*!40000 ALTER TABLE `temp_proc` DISABLE KEYS */;
INSERT INTO `temp_proc` VALUES ('247_car_rental','add_attr','FUNCTION','add_attr','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_attr_name VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO attr (name) VALUES (p_attr_name);\n    \n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_attr_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO attr (name) VALUES (p_attr_name);\n    \n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_attr_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_attr\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_attr_part','FUNCTION','add_attr_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_object_id INTEGER,\n  p_object_name VARCHAR(32),\n  p_attr_name VARCHAR(32),\n  p_attr_value VARCHAR(256),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO attr_part (object_id,object_name,name,value,language)\n    VALUES (p_object_id,p_object_name,p_attr_name,p_attr_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO attr_part (object_id,object_name,name,value,language)\n    VALUES (p_object_id,p_object_name,p_attr_name,p_attr_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_attr_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_audit','PROCEDURE','add_audit','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_username VARCHAR(64),\n  p_name VARCHAR(48),\n  p_description VARCHAR(128)','','BEGIN\n  DECLARE v_audit BOOLEAN;\n\n  SELECT audit FROM preferences WHERE code=\'fA\' INTO v_audit;\n\n  IF v_audit THEN\n    INSERT INTO audit (username,name,description) VALUES (p_username,p_name,p_description);\n  END IF;\n\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_audit BOOLEAN;\n\n  SELECT audit FROM preferences WHERE code=\'fA\' INTO v_audit;\n\n  IF v_audit THEN\n    INSERT INTO audit (username,name,description) VALUES (p_username,p_name,p_description);\n  END IF;\n\nEND'),('247_car_rental','add_color','FUNCTION','add_color','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_color_name VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_color\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO color (name) VALUES (p_color_name);\n    \n    CALL add_audit(p_user,\'add_color\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_color_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_color\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_color\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO color (name) VALUES (p_color_name);\n    \n    CALL add_audit(p_user,\'add_color\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_color_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_color\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_currency','FUNCTION','add_currency','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_name VARCHAR(3),\n  p_description VARCHAR(128),\n  p_value VARCHAR(10),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO currency (name,description,value,language)\n    VALUES (p_name,p_description,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO currency (name,description,value,language)\n    VALUES (p_name,p_description,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_currency\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_delivery','FUNCTION','add_delivery','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_transport_id INTEGER,\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_address VARCHAR(128)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2)) THEN\n\n    -- admin only can set user_id\n    IF v_user_type=2 THEN SET p_user_id=v_user_inner_id; END IF;\n\n    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;\n    IF p_latitude=\'\' THEN SET p_latitude=NULL; END IF;\n    IF p_longitude=\'\' THEN SET p_longitude=NULL; END IF;\n\n    INSERT INTO delivery (user_id,transport_id,latitude,longitude,address)\n    VALUES (p_user_id,p_transport_id,p_latitude,p_longitude,p_address);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2)) THEN\n\n    -- admin only can set user_id\n    IF v_user_type=2 THEN SET p_user_id=v_user_inner_id; END IF;\n\n    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;\n    IF p_latitude=\'\' THEN SET p_latitude=NULL; END IF;\n    IF p_longitude=\'\' THEN SET p_longitude=NULL; END IF;\n\n    INSERT INTO delivery (user_id,transport_id,latitude,longitude,address)\n    VALUES (p_user_id,p_transport_id,p_latitude,p_longitude,p_address);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_delivery\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_delivery_type','FUNCTION','add_delivery_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO delivery_type (name,language) VALUES (p_name,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO delivery_type (name,language) VALUES (p_name,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_discount','FUNCTION','add_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_type_id INTEGER,\n  p_type INTEGER,\n  p_code VARCHAR(8),\n  p_name VARCHAR(32),\n  p_value INTEGER,\n  p_language VARCHAR(32),\n  p_start_date VARCHAR(20),\n  p_finish_date VARCHAR(20)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_product_type_id=-1 THEN SET p_product_type_id=NULL; END IF;\n    IF p_start_date=\'\' THEN SET p_start_date=NULL; END IF;\n    IF p_finish_date=\'\' THEN SET p_finish_date=NULL; END IF;\n\n    INSERT INTO discount (product_type_id,type,code,name,value,language,start_date,finish_date)\n    VALUES (p_product_type_id,p_type,p_code,p_name,p_value,p_language,p_start_date,p_finish_date);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_product_type_id=-1 THEN SET p_product_type_id=NULL; END IF;\n    IF p_start_date=\'\' THEN SET p_start_date=NULL; END IF;\n    IF p_finish_date=\'\' THEN SET p_finish_date=NULL; END IF;\n\n    INSERT INTO discount (product_type_id,type,code,name,value,language,start_date,finish_date)\n    VALUES (p_product_type_id,p_type,p_code,p_name,p_value,p_language,p_start_date,p_finish_date);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_discount\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_geocode','FUNCTION','add_geocode','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_geocode_address VARCHAR(128),\n  p_formatted_address VARCHAR(128),\n  p_latitude DOUBLE,\n  p_longitude DOUBLE','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR v_user=\'fa_client@localhost\' THEN\n\n    INSERT INTO geocode (geocode_address,formatted_address,latitude,longitude)\n    VALUES (p_geocode_address,p_formatted_address,p_latitude,p_longitude);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR v_user=\'fa_client@localhost\' THEN\n\n    INSERT INTO geocode (geocode_address,formatted_address,latitude,longitude)\n    VALUES (p_geocode_address,p_formatted_address,p_latitude,p_longitude);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_geocode\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_language','FUNCTION','add_language','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_language_id INTEGER,\n  p_name VARCHAR(32),\n  p_value VARCHAR(32),\n  p_code VARCHAR(5)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_language\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO language (id,name,value,code) VALUES (p_language_id,p_name,p_value,p_code);\n    \n    CALL add_audit(p_user,\'add_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_language\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_language\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO language (id,name,value,code) VALUES (p_language_id,p_name,p_value,p_code);\n    \n    CALL add_audit(p_user,\'add_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_language\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_manufacture','FUNCTION','add_manufacture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_name VARCHAR(32),\n  p_description VARCHAR(128)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO manufacture (name,description)\n    VALUES (p_name,p_description);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO manufacture (name,description)\n    VALUES (p_name,p_description);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_manufacture\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_message','FUNCTION','add_message','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_recipient VARCHAR(64),\n  p_message VARCHAR(256)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_pos INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT LOCATE(\'+\',p_recipient) INTO v_pos;\n  IF v_pos!=0 THEN\n    SELECT id INTO v_user_id FROM user WHERE phone=p_recipient LIMIT 0,1;\n  ELSE\n    SELECT LOCATE(\'@\',p_recipient) INTO v_pos;\n    IF v_pos!=0 THEN\n      SELECT id INTO v_user_id FROM user WHERE email=p_recipient LIMIT 0,1;\n      ELSE\n        SELECT id INTO v_user_id FROM user WHERE call_name=p_recipient LIMIT 0,1; -- call_name is UNIQUE!\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF (v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n      v_user=\'fa_client@localhost\') AND v_user_id IS NOT NULL THEN\n\n    INSERT INTO message (type,userA_id,userB_id,message)\n    VALUES (1,v_user_inner_id,v_user_id,p_message);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    INSERT INTO message (type,userA_id,userB_id,message)\n    VALUES (2,v_user_inner_id,v_user_id,p_message);\n\n  ELSE\n    RETURN -5;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_pos INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT LOCATE(\'+\',p_recipient) INTO v_pos;\n  IF v_pos!=0 THEN\n    SELECT id INTO v_user_id FROM user WHERE phone=p_recipient LIMIT 0,1;\n  ELSE\n    SELECT LOCATE(\'@\',p_recipient) INTO v_pos;\n    IF v_pos!=0 THEN\n      SELECT id INTO v_user_id FROM user WHERE email=p_recipient LIMIT 0,1;\n      ELSE\n        SELECT id INTO v_user_id FROM user WHERE call_name=p_recipient LIMIT 0,1; -- call_name is UNIQUE!\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF (v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n      v_user=\'fa_client@localhost\') AND v_user_id IS NOT NULL THEN\n\n    INSERT INTO message (type,userA_id,userB_id,message)\n    VALUES (1,v_user_inner_id,v_user_id,p_message);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    INSERT INTO message (type,userA_id,userB_id,message)\n    VALUES (2,v_user_inner_id,v_user_id,p_message);\n\n  ELSE\n    RETURN -5;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_order_AB','FUNCTION','add_order_AB','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_transport_id INTEGER,\n  p_total_price VARCHAR(16),\n  p_route_distance INTEGER,\n  p_route_duration INTEGER,\n  p_route_data BLOB,\n  p_order_lat VARCHAR(20),\n  p_order_lon VARCHAR(20),\n  p_order_address VARCHAR(128),\n  p_delivery_lat VARCHAR(20),\n  p_delivery_lon VARCHAR(20),\n  p_delivery_address VARCHAR(128),\n  p_delivery_type_id INTEGER,\n  p_reserved_date VARCHAR(20),\n  p_reserved_hours INTEGER','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;\n    IF p_total_price=\'\' THEN SET p_total_price=0; END IF;\n    IF p_route_distance=-1 THEN SET p_route_distance=NULL; END IF;\n    IF p_route_duration=-1 THEN SET p_route_duration=NULL; END IF;\n    IF p_route_data=\'\' THEN SET p_route_data=NULL; END IF;\n    IF p_order_lat=\'\' THEN SET p_order_lat=NULL; END IF;\n    IF p_order_lon=\'\' THEN SET p_order_lon=NULL; END IF;\n    IF p_delivery_lat=\'\' THEN SET p_delivery_lat=NULL; END IF;\n    IF p_delivery_lon=\'\' THEN SET p_delivery_lon=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_reserved_date=\'\' THEN SET p_reserved_date=NULL; END IF;\n    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;\n\n    INSERT INTO order_AB (user_id,transport_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours)\n    VALUES (p_user_id,p_transport_id,p_total_price,p_route_distance,p_route_duration,p_route_data,p_delivery_lat,p_delivery_lon,p_delivery_address,p_delivery_type_id,p_order_lat,p_order_lon,p_order_address,p_reserved_date,p_reserved_hours);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n    \n    IF p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,ret_val,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;\n    IF p_total_price=\'\' THEN SET p_total_price=0; END IF;\n    IF p_route_distance=-1 THEN SET p_route_distance=NULL; END IF;\n    IF p_route_duration=-1 THEN SET p_route_duration=NULL; END IF;\n    IF p_route_data=\'\' THEN SET p_route_data=NULL; END IF;\n    IF p_order_lat=\'\' THEN SET p_order_lat=NULL; END IF;\n    IF p_order_lon=\'\' THEN SET p_order_lon=NULL; END IF;\n    IF p_delivery_lat=\'\' THEN SET p_delivery_lat=NULL; END IF;\n    IF p_delivery_lon=\'\' THEN SET p_delivery_lon=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_reserved_date=\'\' THEN SET p_reserved_date=NULL; END IF;\n    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;\n\n    INSERT INTO order_AB (user_id,transport_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours)\n    VALUES (p_user_id,p_transport_id,p_total_price,p_route_distance,p_route_duration,p_route_data,p_delivery_lat,p_delivery_lon,p_delivery_address,p_delivery_type_id,p_order_lat,p_order_lon,p_order_address,p_reserved_date,p_reserved_hours);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n    \n    IF p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,ret_val,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_order_AB_product_param_part','FUNCTION','add_order_AB_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_param_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    -- set price for one product without discount\n    IF v_user_type=3 THEN\n      SELECT price INTO v_price FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;\n      SET p_price=v_price;\n    END IF;\n\n    INSERT INTO order_AB_product_param_part (order_id,product_id,product_param_id,count,price)\n    VALUES (p_order_id,p_product_id,p_param_id,p_count,p_price);\n\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    -- set price for one product without discount\n    IF v_user_type=3 THEN\n      SELECT price INTO v_price FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;\n      SET p_price=v_price;\n    END IF;\n\n    INSERT INTO order_AB_product_param_part (order_id,product_id,product_param_id,count,price)\n    VALUES (p_order_id,p_product_id,p_param_id,p_count,p_price);\n\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_order_AB_product_part','FUNCTION','add_order_AB_product_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    -- set price for one product without discount\n    IF v_user_type=2 OR v_user_type=3 THEN\n      SELECT price INTO v_price FROM product WHERE id=p_product_id;\n      SET p_price=v_price;\n    END IF;\n\n    INSERT INTO order_AB_product_part (order_id,product_id,count,price)\n    VALUES (p_order_id,p_product_id,p_count,p_price);\n    \n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    -- set price for one product without discount\n    IF v_user_type=2 OR v_user_type=3 THEN\n      SELECT price INTO v_price FROM product WHERE id=p_product_id;\n      SET p_price=v_price;\n    END IF;\n\n    INSERT INTO order_AB_product_part (order_id,product_id,count,price)\n    VALUES (p_order_id,p_product_id,p_count,p_price);\n    \n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_order_AB_user_part','FUNCTION','add_order_AB_user_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_product_param_id_1 INTEGER,\n  p_product_param_id_2 INTEGER,\n  p_pickup_status_id INTEGER,\n  p_pickup_lat VARCHAR(20),\n  p_pickup_lon VARCHAR(20),\n  p_pickup_address VARCHAR(128),\n  p_pickup_date VARCHAR(20),\n  p_pickup_info VARCHAR(128),\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_status_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT order_status_id INTO v_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_status_id=1) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    INSERT INTO order_AB_user_part (order_id,user_id,product_param_id_1,product_param_id_2,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price)\n    VALUES (p_order_id,p_user_id,p_product_param_id_1,p_product_param_id_2,p_pickup_lat,p_pickup_lon,p_pickup_address,p_pickup_date,p_pickip_info,p_price);\n    \n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_status_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT order_status_id INTO v_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_status_id=1) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    INSERT INTO order_AB_user_part (order_id,user_id,product_param_id_1,product_param_id_2,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price)\n    VALUES (p_order_id,p_user_id,p_product_param_id_1,p_product_param_id_2,p_pickup_lat,p_pickup_lon,p_pickup_address,p_pickup_date,p_pickip_info,p_price);\n    \n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_order_job','FUNCTION','add_order_job','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_customer_user_id INTEGER,\n  p_worker_user_id INTEGER,\n  p_total_price VARCHAR(16),\n  p_order_lat VARCHAR(20),\n  p_order_lon VARCHAR(20),\n  p_order_address VARCHAR(128),\n  p_product_id INTEGER,\n  p_reserved_date VARCHAR(20),\n  p_reserved_hours INTEGER','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_customer_user_id=v_user_inner_id;END IF;\n\n    IF p_worker_user_id=-1 THEN SET p_worker_user_id=NULL; END IF;\n    IF p_total_price=\'\' THEN SET p_total_price=0; END IF;\n    IF p_order_lat=\'\' THEN SET p_order_lat=NULL; END IF;\n    IF p_order_lon=\'\' THEN SET p_order_lon=NULL; END IF;\n    IF p_product_id=-1 THEN SET p_product_id=NULL; END IF;\n    IF p_reserved_date=\'\' THEN SET p_reserved_date=NULL; END IF;\n    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;\n\n    INSERT INTO order_job (customer_user_id,worker_user_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours)\n    VALUES (p_customer_user_id,p_worker_user_id,p_total_price,p_order_lat,p_order_lon,p_order_address,p_product_id,p_reserved_date,p_reserved_hours);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN\n\n    -- set inner user_id for non admin\n    IF v_user_type=2 OR v_user_type=3 THEN SET p_customer_user_id=v_user_inner_id;END IF;\n\n    IF p_worker_user_id=-1 THEN SET p_worker_user_id=NULL; END IF;\n    IF p_total_price=\'\' THEN SET p_total_price=0; END IF;\n    IF p_order_lat=\'\' THEN SET p_order_lat=NULL; END IF;\n    IF p_order_lon=\'\' THEN SET p_order_lon=NULL; END IF;\n    IF p_product_id=-1 THEN SET p_product_id=NULL; END IF;\n    IF p_reserved_date=\'\' THEN SET p_reserved_date=NULL; END IF;\n    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;\n\n    INSERT INTO order_job (customer_user_id,worker_user_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours)\n    VALUES (p_customer_user_id,p_worker_user_id,p_total_price,p_order_lat,p_order_lon,p_order_address,p_product_id,p_reserved_date,p_reserved_hours);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_job\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_order_status','FUNCTION','add_order_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO order_status (id,name,language) VALUES (p_status_id,p_name,p_language);\n    \n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO order_status (id,name,language) VALUES (p_status_id,p_name,p_language);\n    \n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_order_status\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_payment','FUNCTION','add_payment','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_purchase_id INTEGER,\n  p_amount VARCHAR(10),\n  p_currency VARCHAR(3),\n  p_description VARCHAR(128),\n  p_status VARCHAR(20),\n  p_transaction_id VARCHAR(128),\n  p_phone VARCHAR(20)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_amount=\'\' THEN SET p_amount=0; END IF;\n\n    INSERT INTO payment (purchase_id,amount,currency,description,status,transaction_id,phone)\n    VALUES (p_purchase_id,p_amount,p_currency,p_description,p_status,p_transaction_id,p_phone);\n    \n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'success: code=0 username=\',p_user));\n\n  ELSE\n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_amount=\'\' THEN SET p_amount=0; END IF;\n\n    INSERT INTO payment (purchase_id,amount,currency,description,status,transaction_id,phone)\n    VALUES (p_purchase_id,p_amount,p_currency,p_description,p_status,p_transaction_id,p_phone);\n    \n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'success: code=0 username=\',p_user));\n\n  ELSE\n    CALL add_audit(p_user,\'add_payment\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_pickup_status','FUNCTION','add_pickup_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO pickup_status (id,name,language) VALUES (p_status_id,p_name,p_language);\n    \n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO pickup_status (id,name,language) VALUES (p_status_id,p_name,p_language);\n    \n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id,\' name=\',p_name));\n\n  ELSE\n    CALL add_audit(p_user,\'add_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_prepaid_card','FUNCTION','add_prepaid_card','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_serial_number VARCHAR(64),\n  p_prepaid_code VARCHAR(16),\n  p_amount VARCHAR(8)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_amount=\'\' THEN SET p_amount=\'0.00\'; END IF;\n\n    INSERT INTO prepaid_card (serial_number,prepaid_code,amount)\n    VALUES (p_serial_number,p_prepaid_code,p_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_amount=\'\' THEN SET p_amount=\'0.00\'; END IF;\n\n    INSERT INTO prepaid_card (serial_number,prepaid_code,amount)\n    VALUES (p_serial_number,p_prepaid_code,p_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_prepaid_card\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_product_circle','FUNCTION','add_product_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_productA_id INTEGER,\n  p_productB_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_circle (productA_id,productB_id)\n    VALUES (p_productA_id,p_productB_id);\n\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'success: code=0 username=\',p_user,\' productA_id=\',p_productA_id,\' productB_id=\',p_productB_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_circle (productA_id,productB_id)\n    VALUES (p_productA_id,p_productB_id);\n\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'success: code=0 username=\',p_user,\' productA_id=\',p_productA_id,\' productB_id=\',p_productB_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_circle\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_product_param','FUNCTION','add_product_param','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_value VARCHAR(64),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO product_param (parent_id,name,value,language)\n    VALUES (p_parent_id,p_name,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO product_param (parent_id,name,value,language)\n    VALUES (p_parent_id,p_name,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_param\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_product_param_part','FUNCTION','add_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_param_id INTEGER,\n  p_value VARCHAR(64),\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_param_part (product_id,product_param_id,value,price)\n    VALUES (p_product_id,p_param_id,p_value,p_price);\n    \n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_param_part (product_id,product_param_id,value,price)\n    VALUES (p_product_id,p_param_id,p_value,p_price);\n    \n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_product_review','FUNCTION','add_product_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_product_id INTEGER,\n  p_description VARCHAR(128),\n  p_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM product_review\n  WHERE user_id=p_user_id AND product_id=p_product_id;\n\n  IF v_count>0 THEN\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_product_id,\' value=\',p_value));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM product\n    WHERE id=p_product_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO product_review (user_id,product_id,description,value)\n    VALUES (p_user_id,p_product_id,p_description,p_value);\n\n    UPDATE product SET review_count=v_review_count,\n                       review_value=v_review_value\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM product_review\n  WHERE user_id=p_user_id AND product_id=p_product_id;\n\n  IF v_count>0 THEN\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_product_id,\' value=\',p_value));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM product\n    WHERE id=p_product_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO product_review (user_id,product_id,description,value)\n    VALUES (p_user_id,p_product_id,p_description,p_value);\n\n    UPDATE product SET review_count=v_review_count,\n                       review_value=v_review_value\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_product_type','FUNCTION','add_product_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO product_type (parent_id,name,description,language)\n    VALUES (p_parent_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO product_type (parent_id,name,description,language)\n    VALUES (p_parent_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_product_type_part','FUNCTION','add_product_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_type_part (product_id,product_type_id)\n    VALUES (p_product_id,p_type_id);\n    \n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO product_type_part (product_id,product_type_id)\n    VALUES (p_product_id,p_type_id);\n    \n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_product_type_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_project','FUNCTION','add_project','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_name VARCHAR(64),\n  p_description VARCHAR(128),\n  p_ip_address VARCHAR(15)','int(11)','BEGIN\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_api_key VARCHAR(64);\n  DECLARE v_name VARCHAR(64);\n  DECLARE v_schema_name VARCHAR(64);\n  DECLARE v_schema_prefix_name VARCHAR(256); -- as settings value\n  DECLARE v_ip_address VARCHAR(15);\n  DECLARE v_time_left INTEGER; -- in hours\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT SUBSTRING_INDEX(USER(),\"@\",1) INTO v_user;\n\n  IF v_user=\'root\' OR v_user=\'fa_admin\' OR v_user=\'fa_client\' THEN\n\n    -- name verify for unique\n    SELECT name INTO v_name FROM project WHERE name=p_name;\n    \n    IF v_name IS NOT NULL THEN\n      CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-11 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n      RETURN -11;\n	END IF;\n        \n    -- ip_address and time creation verify\n    IF v_user_type>1 THEN\n      SELECT ip_address,(UNIX_TIMESTAMP(Now())-UNIX_TIMESTAMP(create_date))/3600 INTO v_ip_address,v_time_left FROM project WHERE ip_address=p_ip_address ORDER BY create_date ASC LIMIT 0,1;\n\n      IF v_ip_address IS NOT NULL AND v_time_left < 2 THEN\n        CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-12 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n        RETURN -12;\n      END IF;\n    END IF;\n\n	-- api_key\n    SELECT value INTO v_schema_prefix_name FROM settings WHERE code=\'schema_prefix_name\';\n    IF v_schema_prefix_name IS NULL THEN SET v_schema_prefix_name=\'_\'; END IF;\n\n    SET v_schema_name=LOWER(CONCAT(v_schema_prefix_name,REPLACE(p_name,\' \',\'_\')));\n    SET v_api_key=TO_BASE64(ENCODE(Now()/*v_schema_name*/,p_pass));\n    -- SET v_api_key=v_schema_name;\n\n    INSERT INTO project (user_id,name,description,ip_address,api_key,schema_name,active)\n    VALUES (v_user_inner_id,p_name,p_description,p_ip_address,v_api_key,v_schema_name,TRUE);\n\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'success: code=0 username=\',p_user,\' api_key=\',v_api_key,/*\' schema_name=\',v_schema_name,*/\' ip_address=\',p_ip_address));\n\n  ELSE\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-12-26 12:59:58','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_api_key VARCHAR(64);\n  DECLARE v_name VARCHAR(64);\n  DECLARE v_schema_name VARCHAR(64);\n  DECLARE v_schema_prefix_name VARCHAR(256); -- as settings value\n  DECLARE v_ip_address VARCHAR(15);\n  DECLARE v_time_left INTEGER; -- in hours\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT SUBSTRING_INDEX(USER(),\"@\",1) INTO v_user;\n\n  IF v_user=\'root\' OR v_user=\'fa_admin\' OR v_user=\'fa_client\' THEN\n\n    -- name verify for unique\n    SELECT name INTO v_name FROM project WHERE name=p_name;\n    \n    IF v_name IS NOT NULL THEN\n      CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-11 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n      RETURN -11;\n	END IF;\n        \n    -- ip_address and time creation verify\n    IF v_user_type>1 THEN\n      SELECT ip_address,(UNIX_TIMESTAMP(Now())-UNIX_TIMESTAMP(create_date))/3600 INTO v_ip_address,v_time_left FROM project WHERE ip_address=p_ip_address ORDER BY create_date ASC LIMIT 0,1;\n\n      IF v_ip_address IS NOT NULL AND v_time_left < 2 THEN\n        CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-12 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n        RETURN -12;\n      END IF;\n    END IF;\n\n	-- api_key\n    SELECT value INTO v_schema_prefix_name FROM settings WHERE code=\'schema_prefix_name\';\n    IF v_schema_prefix_name IS NULL THEN SET v_schema_prefix_name=\'_\'; END IF;\n\n    SET v_schema_name=LOWER(CONCAT(v_schema_prefix_name,REPLACE(p_name,\' \',\'_\')));\n    SET v_api_key=TO_BASE64(ENCODE(Now()/*v_schema_name*/,p_pass));\n    -- SET v_api_key=v_schema_name;\n\n    INSERT INTO project (user_id,name,description,ip_address,api_key,schema_name,active)\n    VALUES (v_user_inner_id,p_name,p_description,p_ip_address,v_api_key,v_schema_name,TRUE);\n\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'success: code=0 username=\',p_user,\' api_key=\',v_api_key,/*\' schema_name=\',v_schema_name,*/\' ip_address=\',p_ip_address));\n\n  ELSE\n    CALL add_audit(p_user,\'add_project\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_name,\' ip_address=\',p_ip_address));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_purchase','FUNCTION','add_purchase','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_invoice_code VARCHAR(32),\n  p_invoice_date VARCHAR(20),\n  p_total_price VARCHAR(16),\n  p_total_tax VARCHAR(10),\n  p_order_id INTEGER,\n  p_order_date VARCHAR(20),\n  p_order_info VARCHAR(128),\n  p_delivery_id INTEGER,\n  p_delivery_code VARCHAR(32),\n  p_delivery_type_id INTEGER,\n  p_delivery_date VARCHAR(20),\n  p_delivery_price VARCHAR(16),\n  p_payment_date VARCHAR(20),\n  p_payment_info VARCHAR(128),\n  p_payment_amount VARCHAR(10)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_count INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_count\n  FROM purchase\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     ((v_user=\'fa_client@localhost\' AND v_user_type=1) OR \n      (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_driver_of_order(p_user,p_order_id)=1 AND v_count<1)) THEN\n\n    IF p_invoice_date=\'\' THEN SET p_invoice_date=NULL; END IF;\n    IF p_order_id=-1 THEN SET p_order_id=NULL; END IF;\n    IF p_order_date=\'\' THEN SET p_order_date=NULL; END IF;\n    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;\n    IF p_delivery_date=\'\' THEN SET p_delivery_date=NULL; END IF;\n    IF p_delivery_price=\'\' THEN SET p_delivery_price=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_payment_date=\'\' THEN SET p_payment_date=NULL; END IF;\n    IF p_payment_amount=\'\' THEN SET p_payment_amount=NULL; END IF;\n\n    INSERT INTO purchase (user_id,invoice_code,invoice_date,total_price,total_tax,\n                          order_id,order_date,order_info,\n                          delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n                          payment_date,payment_info,payment_amount)\n    VALUES (p_user_id,p_invoice_code,p_invoice_date,p_total_price,p_total_tax,\n            p_order_id,p_order_date,p_order_info,\n            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,\n            p_payment_date,p_payment_info,p_payment_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_count INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_count\n  FROM purchase\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     ((v_user=\'fa_client@localhost\' AND v_user_type=1) OR \n      (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_driver_of_order(p_user,p_order_id)=1 AND v_count<1)) THEN\n\n    IF p_invoice_date=\'\' THEN SET p_invoice_date=NULL; END IF;\n    IF p_order_id=-1 THEN SET p_order_id=NULL; END IF;\n    IF p_order_date=\'\' THEN SET p_order_date=NULL; END IF;\n    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;\n    IF p_delivery_date=\'\' THEN SET p_delivery_date=NULL; END IF;\n    IF p_delivery_price=\'\' THEN SET p_delivery_price=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_payment_date=\'\' THEN SET p_payment_date=NULL; END IF;\n    IF p_payment_amount=\'\' THEN SET p_payment_amount=NULL; END IF;\n\n    INSERT INTO purchase (user_id,invoice_code,invoice_date,total_price,total_tax,\n                          order_id,order_date,order_info,\n                          delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n                          payment_date,payment_info,payment_amount)\n    VALUES (p_user_id,p_invoice_code,p_invoice_date,p_total_price,p_total_tax,\n            p_order_id,p_order_date,p_order_info,\n            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,\n            p_payment_date,p_payment_info,p_payment_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_purchase\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_sensor','FUNCTION','add_sensor','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_name VARCHAR(32),\n  p_serial_number VARCHAR(64),\n  p_device_name VARCHAR(64),\n  p_phone VARCHAR(20)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_sensor\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     v_user=\'fa_client@localhost\' THEN\n\n    -- set inner user_id for non adminadd_sensoradd_sensor\n    IF v_user_type=3 OR v_user_type=2 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    SELECT id INTO ret_val FROM sensor WHERE user_id=p_user_id AND device_name=p_device_name AND phone=p_phone;\n\n    IF ret_val IS NULL THEN\n      INSERT INTO sensor (user_id,name,serial_number,device_name,phone)\n      VALUES (p_user_id,p_name,p_serial_number,p_device_name,p_phone);\n\n      SET ret_val=LAST_INSERT_ID();\n      \n      CALL add_audit(p_user,\'add_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n      \n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'add_sensor\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_sensor\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     v_user=\'fa_client@localhost\' THEN\n\n    -- set inner user_id for non adminadd_sensoradd_sensor\n    IF v_user_type=3 OR v_user_type=2 THEN SET p_user_id=v_user_inner_id;END IF;\n\n    SELECT id INTO ret_val FROM sensor WHERE user_id=p_user_id AND device_name=p_device_name AND phone=p_phone;\n\n    IF ret_val IS NULL THEN\n      INSERT INTO sensor (user_id,name,serial_number,device_name,phone)\n      VALUES (p_user_id,p_name,p_serial_number,p_device_name,p_phone);\n\n      SET ret_val=LAST_INSERT_ID();\n      \n      CALL add_audit(p_user,\'add_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n      \n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'add_sensor\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_sensor_circle','FUNCTION','add_sensor_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensorA_id INTEGER,\n  p_sensorB_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_create_date DATE;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    SELECT create_date INTO v_create_date FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;\n\n    IF v_create_date IS NULL THEN\n      INSERT INTO sensor_circle (sensorA_id,sensorB_id)\n      VALUES (p_sensorA_id,p_sensorB_id);\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_create_date DATE;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    SELECT create_date INTO v_create_date FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;\n\n    IF v_create_date IS NULL THEN\n      INSERT INTO sensor_circle (sensorA_id,sensorB_id)\n      VALUES (p_sensorA_id,p_sensorB_id);\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_sensor_circle_to_user','FUNCTION','add_sensor_circle_to_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_user_id INTEGER','int(11)','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n\n  DECLARE c_sensor CURSOR FOR\n  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor;\n  get_data: LOOP\n\n  FETCH c_sensor INTO v_id;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  SELECT add_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;\n\n  END LOOP get_data;\n  CLOSE c_sensor;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n\n  DECLARE c_sensor CURSOR FOR\n  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor;\n  get_data: LOOP\n\n  FETCH c_sensor INTO v_id;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  SELECT add_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;\n\n  END LOOP get_data;\n  CLOSE c_sensor;\n\n  RETURN 0;\nEND'),('247_car_rental','add_sensor_group','FUNCTION','add_sensor_group','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_name VARCHAR(32),\n  p_start_date VARCHAR(20),\n  p_finish_date VARCHAR(20)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_group (sensor_id,name,start_date,finish_date)\n    VALUES (p_sensor_id,p_name,p_start_date,p_finish_date);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_group (sensor_id,name,start_date,finish_date)\n    VALUES (p_sensor_id,p_name,p_start_date,p_finish_date);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_sensor_group_part','FUNCTION','add_sensor_group_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_group_id INTEGER,\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_group_part (sensor_group_id,sensor_id)\n    VALUES (p_group_id,p_sensor_id);\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_group_part (sensor_group_id,sensor_id)\n    VALUES (p_group_id,p_sensor_id);\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_sensor_place','FUNCTION','add_sensor_place','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_place (sensor_id,latitude,longitude,name,description,language)\n    VALUES (p_sensor_id,p_latitude,p_longitude,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO sensor_place (sensor_id,latitude,longitude,name,description,language)\n    VALUES (p_sensor_id,p_latitude,p_longitude,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_settings','FUNCTION','add_settings','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_code VARCHAR(32),\n  p_name VARCHAR(64),\n  p_value VARCHAR(64)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_settings\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n	INSERT INTO settings (code,name,value)\n	VALUES (p_code,p_name,p_value);\n      \n	CALL add_audit(p_user,\'add_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'add_settings\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-20 10:11:06','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_settings\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n	INSERT INTO settings (code,name,value)\n	VALUES (p_code,p_name,p_value);\n      \n	CALL add_audit(p_user,\'add_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'add_settings\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_stock','FUNCTION','add_stock','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_store_id INTEGER,\n  p_count INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO stock (product_id,store_id,count)\n    VALUES (p_product_id,p_store_id,p_count);\n    \n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO stock (product_id,store_id,count)\n    VALUES (p_product_id,p_store_id,p_count);\n    \n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_stock_invoice','FUNCTION','add_stock_invoice','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_invoice_code VARCHAR(32),\n  p_invoice_date VARCHAR(20),\n  p_total_price VARCHAR(16),\n  p_total_tax VARCHAR(10),\n  p_supplier VARCHAR(32),\n  p_phone VARCHAR(20),\n  p_delivery_id INTEGER,\n  p_delivery_code VARCHAR(32),\n  p_delivery_type_id INTEGER,\n  p_delivery_date VARCHAR(20),\n  p_delivery_price VARCHAR(16),\n  p_payment_date VARCHAR(20),\n  p_payment_info VARCHAR(32),\n  p_payment_amount VARCHAR(10)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_invoice_date=\'\' THEN SET p_invoice_date=NULL; END IF;\n    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;\n    IF p_delivery_date=\'\' THEN SET p_delivery_date=NULL; END IF;\n    IF p_delivery_price=\'\' THEN SET p_delivery_price=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_payment_date=\'\' THEN SET p_payment_date=NULL; END IF;\n    IF p_payment_amount=\'\' THEN SET p_payment_amount=NULL; END IF;\n\n    INSERT INTO stock_invoice (invoice_code,invoice_date,total_price,total_tax,supplier,phone,\n                               delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n                               payment_date,payment_info,payment_amount)\n    VALUES (p_invoice_code,p_invoice_date,p_total_price,p_total_tax,p_supplier,p_phone,\n            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,\n            p_payment_date,p_payment_info,p_payment_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_invoice_date=\'\' THEN SET p_invoice_date=NULL; END IF;\n    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;\n    IF p_delivery_date=\'\' THEN SET p_delivery_date=NULL; END IF;\n    IF p_delivery_price=\'\' THEN SET p_delivery_price=NULL; END IF;\n    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;\n    IF p_payment_date=\'\' THEN SET p_payment_date=NULL; END IF;\n    IF p_payment_amount=\'\' THEN SET p_payment_amount=NULL; END IF;\n\n    INSERT INTO stock_invoice (invoice_code,invoice_date,total_price,total_tax,supplier,phone,\n                               delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n                               payment_date,payment_info,payment_amount)\n    VALUES (p_invoice_code,p_invoice_date,p_total_price,p_total_tax,p_supplier,p_phone,\n            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,\n            p_payment_date,p_payment_info,p_payment_amount);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_stock_invoice_part','FUNCTION','add_stock_invoice_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_stock_invoice_id INTEGER,\n  p_product_id INTEGER,\n  p_tax_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_tax_id=-1 THEN SET p_tax_id=NULL; END IF;\n\n    INSERT INTO stock_invoice_part (stock_invoice_id,product_id,tax_id,count,price)\n    VALUES (p_stock_invoice_id,p_product_id,p_tax_id,p_count,p_price);\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n    \n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_tax_id=-1 THEN SET p_tax_id=NULL; END IF;\n\n    INSERT INTO stock_invoice_part (stock_invoice_id,product_id,tax_id,count,price)\n    VALUES (p_stock_invoice_id,p_product_id,p_tax_id,p_count,p_price);\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n    \n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_store','FUNCTION','add_store','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_name VARCHAR(128),\n  p_description VARCHAR(128)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_store\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO store (name,description) VALUES (p_name,p_description);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_store\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_store\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO store (name,description) VALUES (p_name,p_description);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_store\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_store_part','FUNCTION','add_store_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_store_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_email VARCHAR(64),\n  p_phone1 VARCHAR(20),\n  p_phone2 VARCHAR(20),\n  p_address VARCHAR(128),\n  p_city VARCHAR(64),\n  p_postcode VARCHAR(12),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_latitude=\'\' THEN SET p_latitude=NULL; END IF;\n    IF p_longitude=\'\' THEN SET p_longitude=NULL; END IF;\n\n    INSERT INTO store_part (store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language)\n    VALUES (p_store_id,p_name,p_description,p_latitude,p_longitude,p_email,p_phone1,p_phone2,p_address,p_city,p_postcode,p_language);\n    \n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_latitude=\'\' THEN SET p_latitude=NULL; END IF;\n    IF p_longitude=\'\' THEN SET p_longitude=NULL; END IF;\n\n    INSERT INTO store_part (store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language)\n    VALUES (p_store_id,p_name,p_description,p_latitude,p_longitude,p_email,p_phone1,p_phone2,p_address,p_city,p_postcode,p_language);\n    \n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_store_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_tax','FUNCTION','add_tax','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),  \n  p_pass VARCHAR(16),\n  p_code VARCHAR(32),\n  p_name VARCHAR(32),\n  p_value VARCHAR(10),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO tax (code,name,value,language) VALUES (p_code,p_name,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO tax (code,name,value,language) VALUES (p_code,p_name,p_value,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_tax\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_track','FUNCTION','add_track','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_type_id INTEGER,\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_time VARCHAR(20),\n  p_altitude VARCHAR(20),\n  p_accuracy VARCHAR(20),\n  p_bearing VARCHAR(20),\n  p_speed VARCHAR(20),\n  p_satellites VARCHAR(3),\n  p_battery VARCHAR(3),\n  p_timezone_offset VARCHAR(6)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_time=\'\' THEN SET p_time=NULL; END IF;\n    IF p_altitude=\'\' THEN SET p_altitude=NULL; END IF;\n    IF p_accuracy=\'\' THEN SET p_accuracy=NULL; END IF;\n    IF p_bearing=\'\' THEN SET p_bearing=NULL; END IF;\n    IF p_speed=\'\' THEN SET p_speed=NULL; END IF;\n    IF p_satellites=\'\' THEN SET p_satellites=NULL; END IF;\n    IF p_battery=\'\' THEN SET p_battery=NULL; END IF;\n    IF p_timezone_offset=\'\' THEN SET p_timezone_offset=NULL; END IF;\n\n    INSERT INTO track (sensor_id,track_type_id,latitude,longitude,time,altitude,accuracy,bearing,speed,satellites,battery,timezone_offset)\n    VALUES (p_sensor_id,p_type_id,p_latitude,p_longitude,p_time,p_altitude,p_accuracy,p_bearing,p_speed,p_satellites,p_battery,p_timezone_offset);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_time=\'\' THEN SET p_time=NULL; END IF;\n    IF p_altitude=\'\' THEN SET p_altitude=NULL; END IF;\n    IF p_accuracy=\'\' THEN SET p_accuracy=NULL; END IF;\n    IF p_bearing=\'\' THEN SET p_bearing=NULL; END IF;\n    IF p_speed=\'\' THEN SET p_speed=NULL; END IF;\n    IF p_satellites=\'\' THEN SET p_satellites=NULL; END IF;\n    IF p_battery=\'\' THEN SET p_battery=NULL; END IF;\n    IF p_timezone_offset=\'\' THEN SET p_timezone_offset=NULL; END IF;\n\n    INSERT INTO track (sensor_id,track_type_id,latitude,longitude,time,altitude,accuracy,bearing,speed,satellites,battery,timezone_offset)\n    VALUES (p_sensor_id,p_type_id,p_latitude,p_longitude,p_time,p_altitude,p_accuracy,p_bearing,p_speed,p_satellites,p_battery,p_timezone_offset);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_track_part','FUNCTION','add_track_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_track_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO track_part (track_id,name,description,language)\n    VALUES (p_track_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    INSERT INTO track_part (track_id,name,description,language)\n    VALUES (p_track_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_track_type','FUNCTION','add_track_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO track_type (id,name,language) VALUES (p_type_id,p_name,p_language);\n    \n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO track_type (id,name,language) VALUES (p_type_id,p_name,p_language);\n    \n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_track_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_transport','FUNCTION','add_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_name VARCHAR(128),\n  p_color VARCHAR(16),\n  p_license_plate VARCHAR(12)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2)) THEN\n\n    IF p_sensor_id=-1 THEN SET p_sensor_id=NULL; END IF;\n\n    INSERT INTO transport (sensor_id,name,color,license_plate)\n    VALUES (p_sensor_id,p_name,p_color,p_license_plate);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=1 OR v_user_type=2)) THEN\n\n    IF p_sensor_id=-1 THEN SET p_sensor_id=NULL; END IF;\n\n    INSERT INTO transport (sensor_id,name,color,license_plate)\n    VALUES (p_sensor_id,p_name,p_color,p_license_plate);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_transport_product_part','FUNCTION','add_transport_product_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO transport_product_part (transport_id,product_id)\n    VALUES (p_transport_id,p_product_id);\n\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO transport_product_part (transport_id,product_id)\n    VALUES (p_transport_id,p_product_id);\n\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_product_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_transport_review','FUNCTION','add_transport_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_transport_id INTEGER,\n  p_description VARCHAR(128),\n  p_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM transport_review\n  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n  IF v_count>0 THEN\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR (v_user_id=p_user_id AND is_my_order(p_user,p_order_id)) THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM transport\n    WHERE id=p_transport_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO transport_review (order_id,user_id,transport_id,description,value)\n    VALUES (p_order_id,p_user_id,p_transport_id,p_description,p_value);\n\n    UPDATE transport SET review_count=v_review_count,\n                         review_value=v_review_value\n    WHERE id=p_transport_id;\n\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM transport_review\n  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n  IF v_count>0 THEN\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR (v_user_id=p_user_id AND is_my_order(p_user,p_order_id)) THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM transport\n    WHERE id=p_transport_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO transport_review (order_id,user_id,transport_id,description,value)\n    VALUES (p_order_id,p_user_id,p_transport_id,p_description,p_value);\n\n    UPDATE transport SET review_count=v_review_count,\n                         review_value=v_review_value\n    WHERE id=p_transport_id;\n\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_transport_type','FUNCTION','add_transport_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO transport_type (parent_id,name,description,language)\n    VALUES (p_parent_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;\n\n    INSERT INTO transport_type (parent_id,name,description,language)\n    VALUES (p_parent_id,p_name,p_description,p_language);\n\n    SET ret_val=LAST_INSERT_ID();\n    \n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_type\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_transport_type_part','FUNCTION','add_transport_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO transport_type_part (transport_id,transport_type_id)\n    VALUES (p_transport_id,p_type_id);\n    \n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    INSERT INTO transport_type_part (transport_id,transport_type_id)\n    VALUES (p_transport_id,p_type_id);\n    \n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_transport_type_part\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','add_user','FUNCTION','add_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type INTEGER,\n  p_first_name VARCHAR(32),\n  p_last_name VARCHAR(32),\n  p_call_name VARCHAR(32),\n  p_email VARCHAR(64),\n  p_phone VARCHAR(20),\n  p_username VARCHAR(64),\n  p_password VARCHAR(16)','int(11)','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user_count INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT count(*) INTO v_user_count\n  FROM user\n  WHERE username=p_username;\n\n  IF v_user_count>0 THEN\n\n    SELECT id INTO v_id\n    FROM user\n    WHERE username=p_username AND password=p_password;\n\n    IF v_id IS NULL THEN\n      CALL add_audit(p_username,\'add_user\',CONCAT(\'error: code=-2 username=\',p_username));\n      RETURN -2;\n    ELSE\n      RETURN v_id;\n    END IF;\n\n  END IF;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     v_user=\'fa_client@localhost\' THEN\n\n    IF v_user_type=1 THEN\n      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)\n      VALUES (p_type,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);\n    ELSE\n      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)\n      VALUES (3,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);\n    END IF;\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_username,\'add_user\',CONCAT(\'success: code=0 username=\',p_username,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_username,\'add_user\',CONCAT(\'error: code=-3 username=\',p_username));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE ret_val INTEGER;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user_count INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT count(*) INTO v_user_count\n  FROM user\n  WHERE username=p_username;\n\n  IF v_user_count>0 THEN\n\n    SELECT id INTO v_id\n    FROM user\n    WHERE username=p_username AND password=p_password;\n\n    IF v_id IS NULL THEN\n      CALL add_audit(p_username,\'add_user\',CONCAT(\'error: code=-2 username=\',p_username));\n      RETURN -2;\n    ELSE\n      RETURN v_id;\n    END IF;\n\n  END IF;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     v_user=\'fa_client@localhost\' THEN\n\n    IF v_user_type=1 THEN\n      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)\n      VALUES (p_type,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);\n    ELSE\n      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)\n      VALUES (3,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);\n    END IF;\n\n    SET ret_val=LAST_INSERT_ID();\n\n    CALL add_audit(p_username,\'add_user\',CONCAT(\'success: code=0 username=\',p_username,\' id=\',ret_val));\n\n  ELSE\n    CALL add_audit(p_username,\'add_user\',CONCAT(\'error: code=-3 username=\',p_username));\n    RETURN -3;\n  END IF;\n\n  -- RETURN 0;\n  RETURN ret_val;\nEND'),('247_car_rental','add_user_review','FUNCTION','add_user_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_review_user_id INTEGER,\n  p_description VARCHAR(128),\n  p_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM user_review\n  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n  IF v_count>10 THEN\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_review_user_id,\' value=\',p_value));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM user\n    WHERE id=p_review_user_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO user_review (user_id,review_user_id,description,value)\n    VALUES (p_user_id,p_review_user_id,p_description,p_value);\n\n    UPDATE user SET review_count=v_review_count,\n                    review_value=v_review_value\n    WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_count INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT count(*) INTO v_count\n  FROM user_review\n  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n  IF v_count>10 THEN\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_review_user_id,\' value=\',p_value));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM user\n    WHERE id=p_review_user_id;\n\n    SET v_review_count=v_review_count+1;\n    SET v_review_value=v_review_value+p_value;\n\n    INSERT INTO user_review (user_id,review_user_id,description,value)\n    VALUES (p_user_id,p_review_user_id,p_description,p_value);\n\n    UPDATE user SET review_count=v_review_count,\n                    review_value=v_review_value\n    WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'add_user_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','decrease_user_prepaid_amount','FUNCTION','decrease_user_prepaid_amount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_amount DECIMAL(6,2)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1 AND p_prepaid_amount!=\'\') THEN\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount-p_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' -\',p_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1 AND p_prepaid_amount!=\'\') THEN\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount-p_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' -\',p_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'decrease_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','get_attr_part','FUNCTION','get_attr_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_object_id INTEGER,\n  p_object_name VARCHAR(64),\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(256);\n\n  DECLARE v_attr MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_attr CURSOR FOR\n  SELECT id,\n         replace_text(name),\n         IF(value IS NULL,\'\',replace_text(value))\n  FROM attr_part\n  WHERE object_name=p_object_name AND object_id=p_object_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_attr;\n  get_data: LOOP\n\n  FETCH c_attr INTO v_id,v_name,v_value;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_attr=CONCAT(v_attr,\'{\',\n      CONCAT(CHAR(34),\'attr_part_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'attr_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'attr_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_attr;\n\n  SET v_attr=SUBSTR(v_attr,1,CHAR_LENGTH(v_attr)-1);\n\n  RETURN v_attr;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(256);\n\n  DECLARE v_attr MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_attr CURSOR FOR\n  SELECT id,\n         replace_text(name),\n         IF(value IS NULL,\'\',replace_text(value))\n  FROM attr_part\n  WHERE object_name=p_object_name AND object_id=p_object_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_attr;\n  get_data: LOOP\n\n  FETCH c_attr INTO v_id,v_name,v_value;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_attr=CONCAT(v_attr,\'{\',\n      CONCAT(CHAR(34),\'attr_part_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'attr_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'attr_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_attr;\n\n  SET v_attr=SUBSTR(v_attr,1,CHAR_LENGTH(v_attr)-1);\n\n  RETURN v_attr;\nEND'),('247_car_rental','get_attr_part_value','FUNCTION','get_attr_part_value','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_object_id INTEGER,\n  p_object_name VARCHAR(64),\n  p_attr_name  VARCHAR(32),\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_attr_value MEDIUMTEXT DEFAULT \'\';\n  \n  SELECT value INTO v_attr_value FROM attr_part\n  WHERE object_name=p_object_name AND object_id=p_object_id AND name=p_attr_name AND language LIKE p_language;\n\n  RETURN v_attr_value;\nEND','root@%','2018-01-12 11:03:04','2017-11-15 11:08:38','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_attr_value MEDIUMTEXT DEFAULT \'\';\n  \n  SELECT value INTO v_attr_value FROM attr_part\n  WHERE object_name=p_object_name AND object_id=p_object_id AND name=p_attr_name AND language LIKE p_language;\n\n  RETURN v_attr_value;\nEND'),('247_car_rental','get_discount','FUNCTION','get_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_discount_code VARCHAR(8),\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_product_type_id VARCHAR(10);\n  DECLARE v_discount_attr MEDIUMTEXT;\n  DECLARE v_type VARCHAR(2);\n  DECLARE v_code VARCHAR(8);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  DECLARE v_discount MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,IFNULL(product_type_id,\'null\'),get_attr_part(id,\'discount\',p_language),type,code,\n         replace_text(name),\n         value,IFNULL(language,\'\'),IFNULL(start_date,\'\'),IFNULL(finish_date,\'\')\n  INTO v_id,v_product_type_id,v_discount_attr,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date\n  FROM discount\n  WHERE code=p_discount_code;\n\n  -- json\n  SET v_discount=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'discount_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'product_type_id\',CHAR(34),\':\',v_product_type_id,\',\',\n      CHAR(34),\'discount_attr\',CHAR(34),\':[\',v_discount_attr,\']\',\',\',\n      CHAR(34),\'discount_type\',CHAR(34),\':\',CHAR(34),v_type,CHAR(34),\',\',\n      CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_code,CHAR(34),\',\',\n      CHAR(34),\'discount_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'discount_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'language\',CHAR(34),\':\',CHAR(34),v_language,CHAR(34),\',\',\n      CHAR(34),\'start_date\',CHAR(34),\':\',CHAR(34),v_start_date,CHAR(34),\',\',\n      CHAR(34),\'finish_date\',CHAR(34),\':\',CHAR(34),v_finish_date,CHAR(34)),\'},\');\n\n  IF v_discount IS NULL THEN\n    SET v_discount=\'\';\n  ELSE\n    SET v_discount=SUBSTR(v_discount,1,CHAR_LENGTH(v_discount)-1);\n  END IF;\n\n  -- ONE DISCOUNT RETURN\n  RETURN v_discount;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_product_type_id VARCHAR(10);\n  DECLARE v_discount_attr MEDIUMTEXT;\n  DECLARE v_type VARCHAR(2);\n  DECLARE v_code VARCHAR(8);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  DECLARE v_discount MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,IFNULL(product_type_id,\'null\'),get_attr_part(id,\'discount\',p_language),type,code,\n         replace_text(name),\n         value,IFNULL(language,\'\'),IFNULL(start_date,\'\'),IFNULL(finish_date,\'\')\n  INTO v_id,v_product_type_id,v_discount_attr,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date\n  FROM discount\n  WHERE code=p_discount_code;\n\n  -- json\n  SET v_discount=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'discount_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'product_type_id\',CHAR(34),\':\',v_product_type_id,\',\',\n      CHAR(34),\'discount_attr\',CHAR(34),\':[\',v_discount_attr,\']\',\',\',\n      CHAR(34),\'discount_type\',CHAR(34),\':\',CHAR(34),v_type,CHAR(34),\',\',\n      CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_code,CHAR(34),\',\',\n      CHAR(34),\'discount_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'discount_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'language\',CHAR(34),\':\',CHAR(34),v_language,CHAR(34),\',\',\n      CHAR(34),\'start_date\',CHAR(34),\':\',CHAR(34),v_start_date,CHAR(34),\',\',\n      CHAR(34),\'finish_date\',CHAR(34),\':\',CHAR(34),v_finish_date,CHAR(34)),\'},\');\n\n  IF v_discount IS NULL THEN\n    SET v_discount=\'\';\n  ELSE\n    SET v_discount=SUBSTR(v_discount,1,CHAR_LENGTH(v_discount)-1);\n  END IF;\n\n  -- ONE DISCOUNT RETURN\n  RETURN v_discount;\nEND'),('247_car_rental','get_order_AB_product_param_part','FUNCTION','get_order_AB_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_part_value VARCHAR(64);\n  DECLARE v_count VARCHAR(10);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_param_attr MEDIUMTEXT;\n\n  DECLARE v_order_AB_product_param_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_order_AB_product_param_part CURSOR FOR\n  SELECT pp.id,\n         replace_text(pp.name),\n         IF(pp.value IS NULL,\'\',replace_text(pp.value)),\n         IF(ppp.value IS NULL,\'\',replace_text(ppp.value)),\n         oppp.count,oppp.price,get_attr_part(pp.id,\'product_param\',p_language)\n  FROM product_param pp,product_param_part ppp,order_AB_product_param_part oppp\n  WHERE oppp.order_id=p_order_id AND oppp.product_id=p_product_id AND\n        oppp.product_id=ppp.product_id AND oppp.product_param_id=ppp.product_param_id AND ppp.product_param_id=pp.id\n  ORDER BY pp.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_order_AB_product_param_part;\n  get_data: LOOP\n\n  FETCH c_order_AB_product_param_part INTO v_id,v_name,v_value,v_part_value,v_count,v_price,v_param_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_order_AB_product_param_part=CONCAT(v_order_AB_product_param_part,\'{\',\n      CONCAT(CHAR(34),\'param_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'param_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'param_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_value\',CHAR(34),\':\',CHAR(34),v_part_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_count\',CHAR(34),\':\',v_count,\',\',\n      CHAR(34),\'param_part_price\',CHAR(34),\':\',v_price,\',\',\n      CHAR(34),\'param_attr\',CHAR(34),\':[\',v_param_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_order_AB_product_param_part;\n\n  SET v_order_AB_product_param_part=SUBSTR(v_order_AB_product_param_part,1,CHAR_LENGTH(v_order_AB_product_param_part)-1);\n\n  RETURN v_order_AB_product_param_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_part_value VARCHAR(64);\n  DECLARE v_count VARCHAR(10);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_param_attr MEDIUMTEXT;\n\n  DECLARE v_order_AB_product_param_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_order_AB_product_param_part CURSOR FOR\n  SELECT pp.id,\n         replace_text(pp.name),\n         IF(pp.value IS NULL,\'\',replace_text(pp.value)),\n         IF(ppp.value IS NULL,\'\',replace_text(ppp.value)),\n         oppp.count,oppp.price,get_attr_part(pp.id,\'product_param\',p_language)\n  FROM product_param pp,product_param_part ppp,order_AB_product_param_part oppp\n  WHERE oppp.order_id=p_order_id AND oppp.product_id=p_product_id AND\n        oppp.product_id=ppp.product_id AND oppp.product_param_id=ppp.product_param_id AND ppp.product_param_id=pp.id\n  ORDER BY pp.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_order_AB_product_param_part;\n  get_data: LOOP\n\n  FETCH c_order_AB_product_param_part INTO v_id,v_name,v_value,v_part_value,v_count,v_price,v_param_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_order_AB_product_param_part=CONCAT(v_order_AB_product_param_part,\'{\',\n      CONCAT(CHAR(34),\'param_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'param_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'param_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_value\',CHAR(34),\':\',CHAR(34),v_part_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_count\',CHAR(34),\':\',v_count,\',\',\n      CHAR(34),\'param_part_price\',CHAR(34),\':\',v_price,\',\',\n      CHAR(34),\'param_attr\',CHAR(34),\':[\',v_param_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_order_AB_product_param_part;\n\n  SET v_order_AB_product_param_part=SUBSTR(v_order_AB_product_param_part,1,CHAR_LENGTH(v_order_AB_product_param_part)-1);\n\n  RETURN v_order_AB_product_param_part;\nEND'),('247_car_rental','get_product','FUNCTION','get_product','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_product_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_manufacture_id INTEGER;\n  DECLARE v_discount_code VARCHAR(8);\n  DECLARE v_discount MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_rate VARCHAR(10);\n  DECLARE v_count INTEGER;\n\n  DECLARE v_product MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product CURSOR FOR\n  SELECT p.id,p.manufacture_id,IFNULL(p.discount_code,\'\'),\n         IF(p.discount_code IS NULL,\'\',get_discount(d.id,p_language)),\n         replace_text(p.name),\n         replace_text(p.description),\n         p.code,p.price,\n         IF(p.review_count=0,0,ROUND(p.review_value/p.review_count,2)),\n         get_stock_count(p.id)\n  FROM product p LEFT JOIN discount d ON d.code=p.discount_code\n  WHERE p.id=p_product_id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product;\n  get_data: LOOP\n\n  FETCH c_product INTO v_id,v_manufacture_id,v_discount_code,v_discount,v_name,v_description,v_code,v_price,v_rate,v_count;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product=CONCAT(v_product,\'{\',\n        CONCAT(CHAR(34),\'product_id\',CHAR(34),\':\',v_id,\',\',\n        CHAR(34),\'manufacture_id\',CHAR(34),\':\',v_manufacture_id,\',\',\n        CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_discount_code,CHAR(34),\',\',\n        CHAR(34),\'discount\',CHAR(34),\':[\',v_discount,\'],\',\n        CHAR(34),\'product_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n        CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n        CHAR(34),\'product_code\',CHAR(34),\':\',CHAR(34),v_code,CHAR(34),\',\',\n        CHAR(34),\'product_price\',CHAR(34),\':\',v_price,\',\',\n        CHAR(34),\'product_rate\',CHAR(34),\':\',v_rate,\',\',\n        CHAR(34),\'stock_count\',CHAR(34),\':\',v_count),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product;\n\n  SET v_product=SUBSTR(v_product,1,CHAR_LENGTH(v_product)-1);\n\n  -- ONE PRODUCT RETURN (but code writing for cursor->WHERE id LIKE)\n  RETURN v_product;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_manufacture_id INTEGER;\n  DECLARE v_discount_code VARCHAR(8);\n  DECLARE v_discount MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_rate VARCHAR(10);\n  DECLARE v_count INTEGER;\n\n  DECLARE v_product MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product CURSOR FOR\n  SELECT p.id,p.manufacture_id,IFNULL(p.discount_code,\'\'),\n         IF(p.discount_code IS NULL,\'\',get_discount(d.id,p_language)),\n         replace_text(p.name),\n         replace_text(p.description),\n         p.code,p.price,\n         IF(p.review_count=0,0,ROUND(p.review_value/p.review_count,2)),\n         get_stock_count(p.id)\n  FROM product p LEFT JOIN discount d ON d.code=p.discount_code\n  WHERE p.id=p_product_id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product;\n  get_data: LOOP\n\n  FETCH c_product INTO v_id,v_manufacture_id,v_discount_code,v_discount,v_name,v_description,v_code,v_price,v_rate,v_count;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product=CONCAT(v_product,\'{\',\n        CONCAT(CHAR(34),\'product_id\',CHAR(34),\':\',v_id,\',\',\n        CHAR(34),\'manufacture_id\',CHAR(34),\':\',v_manufacture_id,\',\',\n        CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_discount_code,CHAR(34),\',\',\n        CHAR(34),\'discount\',CHAR(34),\':[\',v_discount,\'],\',\n        CHAR(34),\'product_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n        CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n        CHAR(34),\'product_code\',CHAR(34),\':\',CHAR(34),v_code,CHAR(34),\',\',\n        CHAR(34),\'product_price\',CHAR(34),\':\',v_price,\',\',\n        CHAR(34),\'product_rate\',CHAR(34),\':\',v_rate,\',\',\n        CHAR(34),\'stock_count\',CHAR(34),\':\',v_count),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product;\n\n  SET v_product=SUBSTR(v_product,1,CHAR_LENGTH(v_product)-1);\n\n  -- ONE PRODUCT RETURN (but code writing for cursor->WHERE id LIKE)\n  RETURN v_product;\nEND'),('247_car_rental','get_product_param_part','FUNCTION','get_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_product_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_part_value VARCHAR(64);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_param_attr MEDIUMTEXT;\n\n  DECLARE v_product_param_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product_param_part CURSOR FOR\n  SELECT pp.id,\n         replace_text(pp.name),\n         IF(pp.value IS NULL,\'\',replace_text(pp.value)),\n         IF(ppp.value IS NULL,\'\',replace_text(ppp.value)),\n         ppp.price,get_attr_part(pp.id,\'product_param\',p_language)\n  FROM product_param pp,product_param_part ppp\n  WHERE ppp.product_id=p_product_id AND ppp.product_param_id=pp.id\n  ORDER BY pp.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product_param_part;\n  get_data: LOOP\n\n  FETCH c_product_param_part INTO v_id,v_name,v_value,v_part_value,v_price,v_param_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product_param_part=CONCAT(v_product_param_part,\'{\',\n      CONCAT(CHAR(34),\'param_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'param_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'param_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_value\',CHAR(34),\':\',CHAR(34),v_part_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_price\',CHAR(34),\':\',v_price,\',\',\n      CHAR(34),\'param_attr\',CHAR(34),\':[\',v_param_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product_param_part;\n\n  SET v_product_param_part=SUBSTR(v_product_param_part,1,CHAR_LENGTH(v_product_param_part)-1);\n\n  RETURN v_product_param_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_part_value VARCHAR(64);\n  DECLARE v_price VARCHAR(16);\n  DECLARE v_param_attr MEDIUMTEXT;\n\n  DECLARE v_product_param_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product_param_part CURSOR FOR\n  SELECT pp.id,\n         replace_text(pp.name),\n         IF(pp.value IS NULL,\'\',replace_text(pp.value)),\n         IF(ppp.value IS NULL,\'\',replace_text(ppp.value)),\n         ppp.price,get_attr_part(pp.id,\'product_param\',p_language)\n  FROM product_param pp,product_param_part ppp\n  WHERE ppp.product_id=p_product_id AND ppp.product_param_id=pp.id\n  ORDER BY pp.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product_param_part;\n  get_data: LOOP\n\n  FETCH c_product_param_part INTO v_id,v_name,v_value,v_part_value,v_price,v_param_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product_param_part=CONCAT(v_product_param_part,\'{\',\n      CONCAT(CHAR(34),\'param_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'param_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'param_value\',CHAR(34),\':\',CHAR(34),v_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_value\',CHAR(34),\':\',CHAR(34),v_part_value,CHAR(34),\',\',\n      CHAR(34),\'param_part_price\',CHAR(34),\':\',v_price,\',\',\n      CHAR(34),\'param_attr\',CHAR(34),\':[\',v_param_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product_param_part;\n\n  SET v_product_param_part=SUBSTR(v_product_param_part,1,CHAR_LENGTH(v_product_param_part)-1);\n\n  RETURN v_product_param_part;\nEND'),('247_car_rental','get_product_type_part','FUNCTION','get_product_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_product_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_type_attr MEDIUMTEXT;\n\n  DECLARE v_product_type_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product_type_part CURSOR FOR\n  SELECT pt.id,\n         replace_text(pt.name),\n         replace_text(pt.description),\n         get_attr_part(pt.id,\'product_type\',p_language)\n  FROM product_type pt,product_type_part ptp\n  WHERE ptp.product_id=p_product_id AND ptp.product_type_id=pt.id\n  ORDER BY pt.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product_type_part;\n  get_data: LOOP\n\n  FETCH c_product_type_part INTO v_id,v_name,v_description,v_type_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product_type_part=CONCAT(v_product_type_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'type_attr\',CHAR(34),\':[\',v_type_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product_type_part;\n\n  SET v_product_type_part=SUBSTR(v_product_type_part,1,CHAR_LENGTH(v_product_type_part)-1);\n\n  RETURN v_product_type_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_type_attr MEDIUMTEXT;\n\n  DECLARE v_product_type_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_product_type_part CURSOR FOR\n  SELECT pt.id,\n         replace_text(pt.name),\n         replace_text(pt.description),\n         get_attr_part(pt.id,\'product_type\',p_language)\n  FROM product_type pt,product_type_part ptp\n  WHERE ptp.product_id=p_product_id AND ptp.product_type_id=pt.id\n  ORDER BY pt.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_product_type_part;\n  get_data: LOOP\n\n  FETCH c_product_type_part INTO v_id,v_name,v_description,v_type_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_product_type_part=CONCAT(v_product_type_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'type_attr\',CHAR(34),\':[\',v_type_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_product_type_part;\n\n  SET v_product_type_part=SUBSTR(v_product_type_part,1,CHAR_LENGTH(v_product_type_part)-1);\n\n  RETURN v_product_type_part;\nEND'),('247_car_rental','get_purchase','FUNCTION','get_purchase','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_order_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(16);\n  DECLARE v_order_id VARCHAR(10);\n  DECLARE v_order_date VARCHAR(20);\n  DECLARE v_order_info VARCHAR(128);\n  DECLARE v_delivery_id VARCHAR(10);\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id VARCHAR(2);\n  DECLARE v_delivery_type_name VARCHAR(32);\n  DECLARE v_delivery_type_attr MEDIUMTEXT;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(128);\n  DECLARE v_payment_amount VARCHAR(16);\n\n  DECLARE v_purchase MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_purchase CURSOR FOR\n  SELECT p.id,p.user_id,IF(p.invoice_code IS NULL,\'\',replace_text(p.invoice_code)),\n         IFNULL(p.invoice_date,\'\'),p.total_price,p.total_tax,IFNULL(p.order_id,\'null\'),IFNULL(p.order_date,\'\'),\n         replace_text(p.order_info),IFNULL(p.delivery_id,\'null\'),\n         IF(p.delivery_code IS NULL,\'\',replace_text(p.delivery_code)),\n         IFNULL(p.delivery_type_id,\'null\'),\n         IF(p.delivery_type_id IS NULL,\'\',replace_text(dt.name)),\n         IF(p.delivery_type_id IS NULL,\'\',get_attr_part(p.delivery_type_id,\'delivery_type\',p_language)),\n         IFNULL(p.delivery_date,\'\'),IFNULL(p.delivery_price,\'null\'),IFNULL(p.payment_date,\'\'),\n         replace_text(p.payment_info),IFNULL(p.payment_amount,\'null\')\n  FROM purchase p LEFT JOIN delivery_type dt ON dt.id=p.delivery_type_id\n  WHERE p.order_id=p_order_id\n  ORDER BY p.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_purchase;\n  get_data: LOOP\n\n  FETCH c_purchase INTO v_id,v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,\n        v_order_id,v_order_date,v_order_info,\n        v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_type_name,v_delivery_type_attr,\n        v_delivery_date,v_delivery_price,v_payment_date,v_payment_info,v_payment_amount;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_purchase=CONCAT(v_purchase,\'{\',\n      CHAR(34),\'purchase_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'invoice_code\',CHAR(34),\':\',CHAR(34),v_invoice_code,CHAR(34),\',\',\n      CHAR(34),\'invoice_date\',CHAR(34),\':\',CHAR(34),v_invoice_date,CHAR(34),\',\',\n      CHAR(34),\'total_price\',CHAR(34),\':\',v_total_price,\',\',\n      CHAR(34),\'total_tax\',CHAR(34),\':\',v_total_tax,\',\',\n      CHAR(34),\'order_id\',CHAR(34),\':\',v_order_id,\',\',\n      CHAR(34),\'order_date\',CHAR(34),\':\',CHAR(34),v_order_date,CHAR(34),\',\',\n      CHAR(34),\'order_info\',CHAR(34),\':\',CHAR(34),v_order_info,CHAR(34),\',\',\n      CHAR(34),\'delivery_id\',CHAR(34),\':\',v_delivery_id,\',\',\n      CHAR(34),\'delivery_code\',CHAR(34),\':\',CHAR(34),v_delivery_code,CHAR(34),\',\',\n      CHAR(34),\'delivery_type_id\',CHAR(34),\':\',v_delivery_type_id,\',\',\n      CHAR(34),\'delivery_type_name\',CHAR(34),\':\',CHAR(34),v_delivery_type_name,CHAR(34),\',\',\n      CHAR(34),\'delivery_type_attr\',CHAR(34),\':[\',v_delivery_type_attr,\'],\',\n      CHAR(34),\'delivery_date\',CHAR(34),\':\',CHAR(34),v_delivery_date,CHAR(34),\',\',\n      CHAR(34),\'delivery_price\',CHAR(34),\':\',v_delivery_price,\',\',\n      CHAR(34),\'payment_date\',CHAR(34),\':\',CHAR(34),v_payment_date,CHAR(34),\',\',\n      CHAR(34),\'payment_info\',CHAR(34),\':\',CHAR(34),v_payment_info,CHAR(34),\',\',\n      CHAR(34),\'payment_amount\',CHAR(34),\':\',v_payment_amount,\'},\');\n\n  END LOOP get_data;\n  CLOSE c_purchase;\n\n  SET v_purchase=SUBSTR(v_purchase,1,CHAR_LENGTH(v_purchase)-1);\n\n  RETURN v_purchase;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(16);\n  DECLARE v_order_id VARCHAR(10);\n  DECLARE v_order_date VARCHAR(20);\n  DECLARE v_order_info VARCHAR(128);\n  DECLARE v_delivery_id VARCHAR(10);\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id VARCHAR(2);\n  DECLARE v_delivery_type_name VARCHAR(32);\n  DECLARE v_delivery_type_attr MEDIUMTEXT;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(128);\n  DECLARE v_payment_amount VARCHAR(16);\n\n  DECLARE v_purchase MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_purchase CURSOR FOR\n  SELECT p.id,p.user_id,IF(p.invoice_code IS NULL,\'\',replace_text(p.invoice_code)),\n         IFNULL(p.invoice_date,\'\'),p.total_price,p.total_tax,IFNULL(p.order_id,\'null\'),IFNULL(p.order_date,\'\'),\n         replace_text(p.order_info),IFNULL(p.delivery_id,\'null\'),\n         IF(p.delivery_code IS NULL,\'\',replace_text(p.delivery_code)),\n         IFNULL(p.delivery_type_id,\'null\'),\n         IF(p.delivery_type_id IS NULL,\'\',replace_text(dt.name)),\n         IF(p.delivery_type_id IS NULL,\'\',get_attr_part(p.delivery_type_id,\'delivery_type\',p_language)),\n         IFNULL(p.delivery_date,\'\'),IFNULL(p.delivery_price,\'null\'),IFNULL(p.payment_date,\'\'),\n         replace_text(p.payment_info),IFNULL(p.payment_amount,\'null\')\n  FROM purchase p LEFT JOIN delivery_type dt ON dt.id=p.delivery_type_id\n  WHERE p.order_id=p_order_id\n  ORDER BY p.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_purchase;\n  get_data: LOOP\n\n  FETCH c_purchase INTO v_id,v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,\n        v_order_id,v_order_date,v_order_info,\n        v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_type_name,v_delivery_type_attr,\n        v_delivery_date,v_delivery_price,v_payment_date,v_payment_info,v_payment_amount;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_purchase=CONCAT(v_purchase,\'{\',\n      CHAR(34),\'purchase_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'invoice_code\',CHAR(34),\':\',CHAR(34),v_invoice_code,CHAR(34),\',\',\n      CHAR(34),\'invoice_date\',CHAR(34),\':\',CHAR(34),v_invoice_date,CHAR(34),\',\',\n      CHAR(34),\'total_price\',CHAR(34),\':\',v_total_price,\',\',\n      CHAR(34),\'total_tax\',CHAR(34),\':\',v_total_tax,\',\',\n      CHAR(34),\'order_id\',CHAR(34),\':\',v_order_id,\',\',\n      CHAR(34),\'order_date\',CHAR(34),\':\',CHAR(34),v_order_date,CHAR(34),\',\',\n      CHAR(34),\'order_info\',CHAR(34),\':\',CHAR(34),v_order_info,CHAR(34),\',\',\n      CHAR(34),\'delivery_id\',CHAR(34),\':\',v_delivery_id,\',\',\n      CHAR(34),\'delivery_code\',CHAR(34),\':\',CHAR(34),v_delivery_code,CHAR(34),\',\',\n      CHAR(34),\'delivery_type_id\',CHAR(34),\':\',v_delivery_type_id,\',\',\n      CHAR(34),\'delivery_type_name\',CHAR(34),\':\',CHAR(34),v_delivery_type_name,CHAR(34),\',\',\n      CHAR(34),\'delivery_type_attr\',CHAR(34),\':[\',v_delivery_type_attr,\'],\',\n      CHAR(34),\'delivery_date\',CHAR(34),\':\',CHAR(34),v_delivery_date,CHAR(34),\',\',\n      CHAR(34),\'delivery_price\',CHAR(34),\':\',v_delivery_price,\',\',\n      CHAR(34),\'payment_date\',CHAR(34),\':\',CHAR(34),v_payment_date,CHAR(34),\',\',\n      CHAR(34),\'payment_info\',CHAR(34),\':\',CHAR(34),v_payment_info,CHAR(34),\',\',\n      CHAR(34),\'payment_amount\',CHAR(34),\':\',v_payment_amount,\'},\');\n\n  END LOOP get_data;\n  CLOSE c_purchase;\n\n  SET v_purchase=SUBSTR(v_purchase,1,CHAR_LENGTH(v_purchase)-1);\n\n  RETURN v_purchase;\nEND'),('247_car_rental','get_schema_name','FUNCTION','get_schema_name','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_api_key VARCHAR(64)','varchar(64) CHARSET utf8','BEGIN\n  DECLARE v_schema_name VARCHAR(64);\n\n  SELECT schema_name INTO v_schema_name\n  FROM project\n  WHERE api_key=p_api_key AND active IS TRUE;\n\n  RETURN v_schema_name;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_schema_name VARCHAR(64);\n\n  SELECT schema_name INTO v_schema_name\n  FROM project\n  WHERE api_key=p_api_key AND active IS TRUE;\n\n  RETURN v_schema_name;\nEND'),('247_car_rental','get_sensor','FUNCTION','get_sensor','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_sensor_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_sensor_circle MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,user_id,get_user(user_id,p_language),/*get_sensor_circle(id,p_language)*/ \'\',\n         replace_text(name),\n         IFNULL(serial_number,\'\'),IFNULL(device_name,\'\'),IFNULL(phone,\'\'),IF(active=1,\'true\',\'false\')\n  INTO v_id,v_user_id,v_user,v_sensor_circle,v_name,v_serial_number,v_device_name,v_phone,v_active\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  -- json\n  SET v_sensor=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_circle\',CHAR(34),\':[\',v_sensor_circle,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  IF v_sensor IS NULL THEN\n    SET v_sensor=\'\';\n  ELSE\n    SET v_sensor=SUBSTR(v_sensor,1,CHAR_LENGTH(v_sensor)-1);\n  END IF;\n\n  -- ONE SENSOR RETURN\n  RETURN v_sensor;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_sensor_circle MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,user_id,get_user(user_id,p_language),/*get_sensor_circle(id,p_language)*/ \'\',\n         replace_text(name),\n         IFNULL(serial_number,\'\'),IFNULL(device_name,\'\'),IFNULL(phone,\'\'),IF(active=1,\'true\',\'false\')\n  INTO v_id,v_user_id,v_user,v_sensor_circle,v_name,v_serial_number,v_device_name,v_phone,v_active\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  -- json\n  SET v_sensor=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_circle\',CHAR(34),\':[\',v_sensor_circle,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  IF v_sensor IS NULL THEN\n    SET v_sensor=\'\';\n  ELSE\n    SET v_sensor=SUBSTR(v_sensor,1,CHAR_LENGTH(v_sensor)-1);\n  END IF;\n\n  -- ONE SENSOR RETURN\n  RETURN v_sensor;\nEND'),('247_car_rental','get_sensor_circle','FUNCTION','get_sensor_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_sensor_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor_circle MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_sensor_circle CURSOR FOR\n  SELECT s.id,s.user_id,get_user(s.user_id,p_language),\n         replace_text(s.name),\n         IFNULL(s.serial_number,\'\'),IFNULL(s.device_name,\'\'),IFNULL(s.phone,\'\'),IF(s.active=1,\'true\',\'false\')\n  FROM sensor s,sensor_circle sc\n  WHERE sc.sensorA_id=p_sensor_id AND sc.sensorB_id=s.id\n  ORDER BY s.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor_circle;\n  get_data: LOOP\n\n  FETCH c_sensor_circle INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_sensor_circle=CONCAT(v_sensor_circle,\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_sensor_circle;\n\n  SET v_sensor_circle=SUBSTR(v_sensor_circle,1,CHAR_LENGTH(v_sensor_circle)-1);\n\n  RETURN v_sensor_circle;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor_circle MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_sensor_circle CURSOR FOR\n  SELECT s.id,s.user_id,get_user(s.user_id,p_language),\n         replace_text(s.name),\n         IFNULL(s.serial_number,\'\'),IFNULL(s.device_name,\'\'),IFNULL(s.phone,\'\'),IF(s.active=1,\'true\',\'false\')\n  FROM sensor s,sensor_circle sc\n  WHERE sc.sensorA_id=p_sensor_id AND sc.sensorB_id=s.id\n  ORDER BY s.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor_circle;\n  get_data: LOOP\n\n  FETCH c_sensor_circle INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_sensor_circle=CONCAT(v_sensor_circle,\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_sensor_circle;\n\n  SET v_sensor_circle=SUBSTR(v_sensor_circle,1,CHAR_LENGTH(v_sensor_circle)-1);\n\n  RETURN v_sensor_circle;\nEND'),('247_car_rental','get_sensor_group_part','FUNCTION','get_sensor_group_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_sensor_group_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor_group_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_sensor_group_part CURSOR FOR\n  SELECT s.id,s.user_id,get_user(s.user_id,p_language),\n         replace_text(s.name),\n         IFNULL(s.serial_number,\'\'),IFNULL(s.device_name,\'\'),IFNULL(s.phone,\'\'),IF(s.active=1,\'true\',\'false\')\n  FROM sensor s,sensor_group_part sgp\n  WHERE sgp.sensor_group_id=p_sensor_group_id AND sgp.sensor_id=s.id\n  ORDER BY s.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor_group_part;\n  get_data: LOOP\n\n  FETCH c_sensor_group_part INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_sensor_group_part=CONCAT(v_sensor_group_part,\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_sensor_group_part;\n\n  SET v_sensor_group_part=SUBSTR(v_sensor_group_part,1,CHAR_LENGTH(v_sensor_group_part)-1);\n\n  RETURN v_sensor_group_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user MEDIUMTEXT;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_sensor_group_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_sensor_group_part CURSOR FOR\n  SELECT s.id,s.user_id,get_user(s.user_id,p_language),\n         replace_text(s.name),\n         IFNULL(s.serial_number,\'\'),IFNULL(s.device_name,\'\'),IFNULL(s.phone,\'\'),IF(s.active=1,\'true\',\'false\')\n  FROM sensor s,sensor_group_part sgp\n  WHERE sgp.sensor_group_id=p_sensor_group_id AND sgp.sensor_id=s.id\n  ORDER BY s.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor_group_part;\n  get_data: LOOP\n\n  FETCH c_sensor_group_part INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_sensor_group_part=CONCAT(v_sensor_group_part,\'{\',\n      CONCAT(CHAR(34),\'sensor_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'user\',CHAR(34),\':[\',v_user,\'],\',\n      CHAR(34),\'sensor_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'serial_number\',CHAR(34),\':\',CHAR(34),v_serial_number,CHAR(34),\',\',\n      CHAR(34),\'device_name\',CHAR(34),\':\',CHAR(34),v_device_name,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_sensor_group_part;\n\n  SET v_sensor_group_part=SUBSTR(v_sensor_group_part,1,CHAR_LENGTH(v_sensor_group_part)-1);\n\n  RETURN v_sensor_group_part;\nEND'),('247_car_rental','get_stock_count','FUNCTION','get_stock_count','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n  DECLARE v_count INTEGER;\n  DECLARE v_stock_count INTEGER DEFAULT 0;\n\n  DECLARE c_stock CURSOR FOR\n  SELECT count\n  FROM product p,stock s\n  WHERE p.id=p_product_id AND s.product_id=p.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_stock;\n  get_data: LOOP\n\n  FETCH c_stock INTO v_count;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  IF v_count IS NULL THEN SET v_count=0; END IF;\n  SET v_stock_count=v_stock_count+v_count;\n\n  END LOOP get_data;\n  CLOSE c_stock;\n\n  RETURN v_stock_count;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n  DECLARE v_count INTEGER;\n  DECLARE v_stock_count INTEGER DEFAULT 0;\n\n  DECLARE c_stock CURSOR FOR\n  SELECT count\n  FROM product p,stock s\n  WHERE p.id=p_product_id AND s.product_id=p.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_stock;\n  get_data: LOOP\n\n  FETCH c_stock INTO v_count;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  IF v_count IS NULL THEN SET v_count=0; END IF;\n  SET v_stock_count=v_stock_count+v_count;\n\n  END LOOP get_data;\n  CLOSE c_stock;\n\n  RETURN v_stock_count;\nEND'),('247_car_rental','get_stock_count_in_store','FUNCTION','get_stock_count_in_store','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_product_id INTEGER,\n  p_store_id INTEGER','int(11)','BEGIN\n  DECLARE v_count INTEGER DEFAULT 0;\n\n  SELECT IF(s.count IS NULL,0,count) INTO v_count\n  FROM product p,stock s\n  WHERE p.id=p_product_id AND s.product_id=p.id AND s.store_id=p_store_id;\n\n  RETURN v_count;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_count INTEGER DEFAULT 0;\n\n  SELECT IF(s.count IS NULL,0,count) INTO v_count\n  FROM product p,stock s\n  WHERE p.id=p_product_id AND s.product_id=p.id AND s.store_id=p_store_id;\n\n  RETURN v_count;\nEND'),('247_car_rental','get_store_part','FUNCTION','get_store_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_store_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_store_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone1 VARCHAR(20);\n  DECLARE v_phone2 VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n  DECLARE v_city VARCHAR(64);\n  DECLARE v_postcode VARCHAR(12);\n\n  DECLARE v_store_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_store_part CURSOR FOR\n  SELECT id,\n         store_id,\n         replace_text(name),\n         replace_text(description),\n         IFNULL(latitude,\'null\'),IFNULL(longitude,\'null\'),IFNULL(email,\'\'),IFNULL(phone1,\'\'),IFNULL(phone2,\'\'),\n         IF(address IS NULL,\'\',replace_text(address)),\n         IF(city IS NULL,\'\',replace_text(city)),\n         IFNULL(postcode,\'\')\n  FROM store_part\n  WHERE store_id=p_store_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_store_part;\n  get_data: LOOP\n\n  FETCH c_store_part INTO v_id,v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_store_part=CONCAT(v_store_part,\'{\',\n      CONCAT(CHAR(34),\'part_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'store_id\',CHAR(34),\':\',v_store_id,\',\',\n      CHAR(34),\'part_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'latitude\',CHAR(34),\':\',v_latitude,\',\',\n      CHAR(34),\'longitude\',CHAR(34),\':\',v_longitude,\',\',\n      CHAR(34),\'email\',CHAR(34),\':\',CHAR(34),v_email,CHAR(34),\',\',\n      CHAR(34),\'phone1\',CHAR(34),\':\',CHAR(34),v_phone1,CHAR(34),\',\',\n      CHAR(34),\'phone2\',CHAR(34),\':\',CHAR(34),v_phone2,CHAR(34),\',\',\n      CHAR(34),\'address\',CHAR(34),\':\',CHAR(34),v_address,CHAR(34),\',\',\n      CHAR(34),\'city\',CHAR(34),\':\',CHAR(34),v_city,CHAR(34),\',\',\n      CHAR(34),\'postcode\',CHAR(34),\':\',CHAR(34),v_postcode,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_store_part;\n\n  SET v_store_part=SUBSTR(v_store_part,1,CHAR_LENGTH(v_store_part)-1);\n\n  RETURN v_store_part;\nEND','root@%','2018-01-12 11:03:04','2017-12-25 08:49:40','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_store_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone1 VARCHAR(20);\n  DECLARE v_phone2 VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n  DECLARE v_city VARCHAR(64);\n  DECLARE v_postcode VARCHAR(12);\n\n  DECLARE v_store_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_store_part CURSOR FOR\n  SELECT id,\n         store_id,\n         replace_text(name),\n         replace_text(description),\n         IFNULL(latitude,\'null\'),IFNULL(longitude,\'null\'),IFNULL(email,\'\'),IFNULL(phone1,\'\'),IFNULL(phone2,\'\'),\n         IF(address IS NULL,\'\',replace_text(address)),\n         IF(city IS NULL,\'\',replace_text(city)),\n         IFNULL(postcode,\'\')\n  FROM store_part\n  WHERE store_id=p_store_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_store_part;\n  get_data: LOOP\n\n  FETCH c_store_part INTO v_id,v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_store_part=CONCAT(v_store_part,\'{\',\n      CONCAT(CHAR(34),\'part_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'store_id\',CHAR(34),\':\',v_store_id,\',\',\n      CHAR(34),\'part_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'latitude\',CHAR(34),\':\',v_latitude,\',\',\n      CHAR(34),\'longitude\',CHAR(34),\':\',v_longitude,\',\',\n      CHAR(34),\'email\',CHAR(34),\':\',CHAR(34),v_email,CHAR(34),\',\',\n      CHAR(34),\'phone1\',CHAR(34),\':\',CHAR(34),v_phone1,CHAR(34),\',\',\n      CHAR(34),\'phone2\',CHAR(34),\':\',CHAR(34),v_phone2,CHAR(34),\',\',\n      CHAR(34),\'address\',CHAR(34),\':\',CHAR(34),v_address,CHAR(34),\',\',\n      CHAR(34),\'city\',CHAR(34),\':\',CHAR(34),v_city,CHAR(34),\',\',\n      CHAR(34),\'postcode\',CHAR(34),\':\',CHAR(34),v_postcode,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_store_part;\n\n  SET v_store_part=SUBSTR(v_store_part,1,CHAR_LENGTH(v_store_part)-1);\n\n  RETURN v_store_part;\nEND'),('247_car_rental','get_token','FUNCTION','get_token','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16)','varchar(64) CHARSET utf8','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_token VARCHAR(64) DEFAULT \'\';\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NOT NULL THEN\n\n    -- SELECT BASE64(ENCODE(p_user,p_pass)) INTO v_token;\n    -- SELECT PASSWORD(p_user) INTO v_token;\n    SELECT CONCAT(PASSWORD(p_user),TO_BASE64(ENCODE(p_user,p_pass))) INTO v_token;\n\n    UPDATE user SET token=v_token\n    WHERE username=p_user AND password=p_pass;\n\n  END IF;\n\n  RETURN v_token;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_token VARCHAR(64) DEFAULT \'\';\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NOT NULL THEN\n\n    -- SELECT BASE64(ENCODE(p_user,p_pass)) INTO v_token;\n    -- SELECT PASSWORD(p_user) INTO v_token;\n    SELECT CONCAT(PASSWORD(p_user),TO_BASE64(ENCODE(p_user,p_pass))) INTO v_token;\n\n    UPDATE user SET token=v_token\n    WHERE username=p_user AND password=p_pass;\n\n  END IF;\n\n  RETURN v_token;\nEND'),('247_car_rental','get_track_part','FUNCTION','get_track_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_track_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n\n  DECLARE v_track_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_track_part CURSOR FOR\n  SELECT id,\n         replace_text(name),\n         replace_text(description)\n  FROM track_part\n  WHERE track_id=p_track_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_track_part;\n  get_data: LOOP\n\n  FETCH c_track_part INTO v_id,v_name,v_description;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_track_part=CONCAT(v_track_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_track_part;\n\n  SET v_track_part=SUBSTR(v_track_part,1,CHAR_LENGTH(v_track_part)-1);\n\n  RETURN v_track_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n\n  DECLARE v_track_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_track_part CURSOR FOR\n  SELECT id,\n         replace_text(name),\n         replace_text(description)\n  FROM track_part\n  WHERE track_id=p_track_id AND language LIKE p_language\n  ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_track_part;\n  get_data: LOOP\n\n  FETCH c_track_part INTO v_id,v_name,v_description;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_track_part=CONCAT(v_track_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34)),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_track_part;\n\n  SET v_track_part=SUBSTR(v_track_part,1,CHAR_LENGTH(v_track_part)-1);\n\n  RETURN v_track_part;\nEND'),('247_car_rental','get_transport','FUNCTION','get_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_transport_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id VARCHAR(10);\n  DECLARE v_sensor_id VARCHAR(10);\n  DECLARE v_sensor_active VARCHAR(5);\n  DECLARE v_sensor MEDIUMTEXT;\n  DECLARE v_type_part MEDIUMTEXT;\n  DECLARE v_transport_name VARCHAR(128);\n  DECLARE v_transport_color VARCHAR(32);\n  DECLARE v_license_plate VARCHAR(12);\n  DECLARE v_transport_rate VARCHAR(10);\n  DECLARE v_transport_reserved INTEGER;\n\n  DECLARE v_transport MEDIUMTEXT DEFAULT \'\';\n\n  SELECT t.id,IFNULL(u.id,\'null\'),IFNULL(t.sensor_id,\'null\'),IF(s.active=1,\'true\',\'false\'),\n         IF(t.sensor_id IS NULL,\'\',get_sensor(t.sensor_id,p_language)),\n         get_transport_type_part(t.id,p_language),\n         replace_text(t.name),\n         IF(t.color IS NULL,\'\',replace_text(t.color)),\n         IF(t.license_plate IS NULL,\'\',replace_text(t.license_plate)),\n         IF(t.review_count=0,0,ROUND(t.review_value/t.review_count,2)),\n         is_transport_reserved(t.id)\n  INTO v_id,v_user_id,v_sensor_id,v_sensor_active,v_sensor,v_type_part,v_transport_name,v_transport_color,v_license_plate,v_transport_rate,v_transport_reserved\n  FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id\n  WHERE t.id=p_transport_id;\n\n  -- json\n  SET v_transport=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'transport_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'sensor_id\',CHAR(34),\':\',v_sensor_id,\',\',\n      CHAR(34),\'sensor_active\',CHAR(34),\':\',v_sensor_active,\',\',\n      CHAR(34),\'sensor\',CHAR(34),\':[\',v_sensor,\'],\',\n      CHAR(34),\'type_part\',CHAR(34),\':[\',v_type_part,\'],\',\n      CHAR(34),\'transport_name\',CHAR(34),\':\',CHAR(34),v_transport_name,CHAR(34),\',\',\n      CHAR(34),\'transport_color\',CHAR(34),\':\',CHAR(34),v_transport_color,CHAR(34),\',\',\n      CHAR(34),\'license_plate\',CHAR(34),\':\',CHAR(34),v_license_plate,CHAR(34),\',\',\n      CHAR(34),\'transport_rate\',CHAR(34),\':\',v_transport_rate,\',\',\n      CHAR(34),\'transport_reserved\',CHAR(34),\':\',v_transport_reserved),\'},\');\n  IF v_transport IS NULL THEN\n    SET v_transport=\'\';\n  ELSE\n    SET v_transport=SUBSTR(v_transport,1,CHAR_LENGTH(v_transport)-1);\n  END IF;\n\n  -- ONE TRANSPORT RETURN\n  RETURN v_transport;\nEND','root@%','2018-01-12 11:03:04','2018-01-12 10:19:57','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_user_id VARCHAR(10);\n  DECLARE v_sensor_id VARCHAR(10);\n  DECLARE v_sensor_active VARCHAR(5);\n  DECLARE v_sensor MEDIUMTEXT;\n  DECLARE v_type_part MEDIUMTEXT;\n  DECLARE v_transport_name VARCHAR(128);\n  DECLARE v_transport_color VARCHAR(32);\n  DECLARE v_license_plate VARCHAR(12);\n  DECLARE v_transport_rate VARCHAR(10);\n  DECLARE v_transport_reserved INTEGER;\n\n  DECLARE v_transport MEDIUMTEXT DEFAULT \'\';\n\n  SELECT t.id,IFNULL(u.id,\'null\'),IFNULL(t.sensor_id,\'null\'),IF(s.active=1,\'true\',\'false\'),\n         IF(t.sensor_id IS NULL,\'\',get_sensor(t.sensor_id,p_language)),\n         get_transport_type_part(t.id,p_language),\n         replace_text(t.name),\n         IF(t.color IS NULL,\'\',replace_text(t.color)),\n         IF(t.license_plate IS NULL,\'\',replace_text(t.license_plate)),\n         IF(t.review_count=0,0,ROUND(t.review_value/t.review_count,2)),\n         is_transport_reserved(t.id)\n  INTO v_id,v_user_id,v_sensor_id,v_sensor_active,v_sensor,v_type_part,v_transport_name,v_transport_color,v_license_plate,v_transport_rate,v_transport_reserved\n  FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id\n  WHERE t.id=p_transport_id;\n\n  -- json\n  SET v_transport=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'transport_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_id\',CHAR(34),\':\',v_user_id,\',\',\n      CHAR(34),\'sensor_id\',CHAR(34),\':\',v_sensor_id,\',\',\n      CHAR(34),\'sensor_active\',CHAR(34),\':\',v_sensor_active,\',\',\n      CHAR(34),\'sensor\',CHAR(34),\':[\',v_sensor,\'],\',\n      CHAR(34),\'type_part\',CHAR(34),\':[\',v_type_part,\'],\',\n      CHAR(34),\'transport_name\',CHAR(34),\':\',CHAR(34),v_transport_name,CHAR(34),\',\',\n      CHAR(34),\'transport_color\',CHAR(34),\':\',CHAR(34),v_transport_color,CHAR(34),\',\',\n      CHAR(34),\'license_plate\',CHAR(34),\':\',CHAR(34),v_license_plate,CHAR(34),\',\',\n      CHAR(34),\'transport_rate\',CHAR(34),\':\',v_transport_rate,\',\',\n      CHAR(34),\'transport_reserved\',CHAR(34),\':\',v_transport_reserved),\'},\');\n  IF v_transport IS NULL THEN\n    SET v_transport=\'\';\n  ELSE\n    SET v_transport=SUBSTR(v_transport,1,CHAR_LENGTH(v_transport)-1);\n  END IF;\n\n  -- ONE TRANSPORT RETURN\n  RETURN v_transport;\nEND'),('247_car_rental','get_transport_type_part','FUNCTION','get_transport_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_transport_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_type_attr MEDIUMTEXT;\n\n  DECLARE v_transport_type_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_transport_type_part CURSOR FOR\n  SELECT tt.id, -- tt.parent_id\n         replace_text(tt.name),\n         replace_text(tt.description),\n         get_attr_part(tt.id,\'transport_type\',p_language)\n  FROM transport_type tt,transport_type_part ttp\n  WHERE ttp.transport_id=p_transport_id AND ttp.transport_type_id=tt.id\n  ORDER BY tt.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_transport_type_part;\n  get_data: LOOP\n\n  FETCH c_transport_type_part INTO v_id,v_name,v_description,v_type_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_transport_type_part=CONCAT(v_transport_type_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'type_attr\',CHAR(34),\':[\',v_type_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_transport_type_part;\n\n  SET v_transport_type_part=SUBSTR(v_transport_type_part,1,CHAR_LENGTH(v_transport_type_part)-1);\n\n  RETURN v_transport_type_part;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_type_attr MEDIUMTEXT;\n\n  DECLARE v_transport_type_part MEDIUMTEXT DEFAULT \'\';\n\n  DECLARE c_transport_type_part CURSOR FOR\n  SELECT tt.id, -- tt.parent_id\n         replace_text(tt.name),\n         replace_text(tt.description),\n         get_attr_part(tt.id,\'transport_type\',p_language)\n  FROM transport_type tt,transport_type_part ttp\n  WHERE ttp.transport_id=p_transport_id AND ttp.transport_type_id=tt.id\n  ORDER BY tt.id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_transport_type_part;\n  get_data: LOOP\n\n  FETCH c_transport_type_part INTO v_id,v_name,v_description,v_type_attr;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  -- json\n  SET v_transport_type_part=CONCAT(v_transport_type_part,\'{\',\n      CONCAT(CHAR(34),\'type_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'type_name\',CHAR(34),\':\',CHAR(34),v_name,CHAR(34),\',\',\n      CHAR(34),\'description\',CHAR(34),\':\',CHAR(34),v_description,CHAR(34),\',\',\n      CHAR(34),\'type_attr\',CHAR(34),\':[\',v_type_attr,\']\'),\'},\');\n\n  END LOOP get_data;\n  CLOSE c_transport_type_part;\n\n  SET v_transport_type_part=SUBSTR(v_transport_type_part,1,CHAR_LENGTH(v_transport_type_part)-1);\n\n  RETURN v_transport_type_part;\nEND'),('247_car_rental','get_user','FUNCTION','get_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user_id INTEGER,\n  p_language VARCHAR(32)','mediumtext CHARSET utf8','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_type VARCHAR(2);\n  DECLARE v_discount_code VARCHAR(8);\n  DECLARE v_discount MEDIUMTEXT;\n  DECLARE v_first_name VARCHAR(32);\n  DECLARE v_last_name VARCHAR(32);\n  DECLARE v_call_name VARCHAR(32);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_rate VARCHAR(10);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_user MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,IFNULL(discount_code,\'\'),IF(discount_code IS NULL,\'\',get_discount(discount_code,p_language)),type,\n         replace_text(first_name),\n         replace_text(last_name),\n         replace_text(call_name),\n         IFNULL(email,\'\'),IFNULL(phone,\'\'),IF(review_count=0,0,ROUND(review_value/review_count,2)),IF(active=1,\'true\',\'false\')\n  INTO v_id,v_discount_code,v_discount,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone,v_rate,v_active\n  FROM user\n  WHERE id=p_user_id;\n\n  -- json\n  SET v_user=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'user_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_type\',CHAR(34),\':\',v_type,\',\',\n      CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_discount_code,CHAR(34),\',\',\n      CHAR(34),\'discount\',CHAR(34),\':[\',v_discount,\']\',\',\',\n      CHAR(34),\'first_name\',CHAR(34),\':\',CHAR(34),v_first_name,CHAR(34),\',\',\n      CHAR(34),\'last_name\',CHAR(34),\':\',CHAR(34),v_last_name,CHAR(34),\',\',\n      CHAR(34),\'call_name\',CHAR(34),\':\',CHAR(34),v_call_name,CHAR(34),\',\',\n      CHAR(34),\'email\',CHAR(34),\':\',CHAR(34),v_email,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'user_rate\',CHAR(34),\':\',v_rate,\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  IF v_user IS NULL THEN\n    SET v_user=\'\';\n  ELSE\n    SET v_user=SUBSTR(v_user,1,CHAR_LENGTH(v_user)-1);\n  END IF;\n\n  -- ONE USER RETURN\n  RETURN v_user;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_id INTEGER;\n  DECLARE v_type VARCHAR(2);\n  DECLARE v_discount_code VARCHAR(8);\n  DECLARE v_discount MEDIUMTEXT;\n  DECLARE v_first_name VARCHAR(32);\n  DECLARE v_last_name VARCHAR(32);\n  DECLARE v_call_name VARCHAR(32);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_rate VARCHAR(10);\n  DECLARE v_active VARCHAR(5);\n\n  DECLARE v_user MEDIUMTEXT DEFAULT \'\';\n\n  SELECT id,IFNULL(discount_code,\'\'),IF(discount_code IS NULL,\'\',get_discount(discount_code,p_language)),type,\n         replace_text(first_name),\n         replace_text(last_name),\n         replace_text(call_name),\n         IFNULL(email,\'\'),IFNULL(phone,\'\'),IF(review_count=0,0,ROUND(review_value/review_count,2)),IF(active=1,\'true\',\'false\')\n  INTO v_id,v_discount_code,v_discount,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone,v_rate,v_active\n  FROM user\n  WHERE id=p_user_id;\n\n  -- json\n  SET v_user=CONCAT(\'{\',\n      CONCAT(CHAR(34),\'user_id\',CHAR(34),\':\',v_id,\',\',\n      CHAR(34),\'user_type\',CHAR(34),\':\',v_type,\',\',\n      CHAR(34),\'discount_code\',CHAR(34),\':\',CHAR(34),v_discount_code,CHAR(34),\',\',\n      CHAR(34),\'discount\',CHAR(34),\':[\',v_discount,\']\',\',\',\n      CHAR(34),\'first_name\',CHAR(34),\':\',CHAR(34),v_first_name,CHAR(34),\',\',\n      CHAR(34),\'last_name\',CHAR(34),\':\',CHAR(34),v_last_name,CHAR(34),\',\',\n      CHAR(34),\'call_name\',CHAR(34),\':\',CHAR(34),v_call_name,CHAR(34),\',\',\n      CHAR(34),\'email\',CHAR(34),\':\',CHAR(34),v_email,CHAR(34),\',\',\n      CHAR(34),\'phone\',CHAR(34),\':\',CHAR(34),v_phone,CHAR(34),\',\',\n      CHAR(34),\'user_rate\',CHAR(34),\':\',v_rate,\',\',\n      CHAR(34),\'active\',CHAR(34),\':\',v_active),\'},\');\n\n  IF v_user IS NULL THEN\n    SET v_user=\'\';\n  ELSE\n    SET v_user=SUBSTR(v_user,1,CHAR_LENGTH(v_user)-1);\n  END IF;\n\n  -- ONE USER RETURN\n  RETURN v_user;\nEND'),('247_car_rental','get_user_credentials','FUNCTION','get_user_credentials','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_token VARCHAR(64)','varchar(82) CHARSET utf8','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_username VARCHAR(64);\n  DECLARE v_password VARCHAR(16);\n  DECLARE v_ret_val VARCHAR(82) DEFAULT \'\';\n\n  SELECT type,username,password INTO v_user_type,v_username,v_password\n  FROM user\n  WHERE token=p_token;\n\n  IF v_user_type IS NOT NULL THEN\n\n    SET v_ret_val=CONCAT(v_username,\'\\\\\\\\\',v_password);\n\n  END IF;\n\n  RETURN v_ret_val;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_username VARCHAR(64);\n  DECLARE v_password VARCHAR(16);\n  DECLARE v_ret_val VARCHAR(82) DEFAULT \'\';\n\n  SELECT type,username,password INTO v_user_type,v_username,v_password\n  FROM user\n  WHERE token=p_token;\n\n  IF v_user_type IS NOT NULL THEN\n\n    SET v_ret_val=CONCAT(v_username,\'\\\\\',v_password);\n\n  END IF;\n\n  RETURN v_ret_val;\nEND'),('247_car_rental','get_user_type','FUNCTION','get_user_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  RETURN v_user_type;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  RETURN v_user_type;\nEND'),('247_car_rental','get_user_type_is_active','FUNCTION','get_user_type_is_active','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass AND active IS TRUE;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  RETURN v_user_type;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass AND active IS TRUE;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  RETURN v_user_type;\nEND'),('247_car_rental','increase_user_prepaid_amount','FUNCTION','increase_user_prepaid_amount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_amount DECIMAL(6,2)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1 AND p_prepaid_amount!=\'\') THEN\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount+p_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' +\',p_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1 AND p_prepaid_amount!=\'\') THEN\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount+p_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' +\',p_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'increase_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','increase_user_prepaid_amount_by_prepaid_code','FUNCTION','increase_user_prepaid_amount_by_prepaid_code','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_prepaid_code VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n  DECLARE v_amount DECIMAL(6,2);\n  \n  DECLARE v_prepaid_card_id INTEGER;\n  DECLARE v_active BOOLEAN;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-1 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND p_prepaid_code!=\'\') THEN\n\n    SELECT id,amount,active INTO v_prepaid_card_id,v_amount,v_active FROM prepaid_card WHERE prepaid_code=p_prepaid_code;\n\n    IF (v_active IS NULL) OR (v_active IS FALSE) THEN\n      CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-4 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n      RETURN -4;\n    END IF;\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=v_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount+v_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=v_user_id;\n    \n    UPDATE prepaid_card SET active=FALSE WHERE id=v_prepaid_card_id;\n\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'success: code=0 username=\',p_user,\' prepaid_code=\',p_prepaid_code,\' id=\',p_user_id,\' +\',v_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-3 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  \n  DECLARE v_prepaid_amount DECIMAL(6,2);\n  DECLARE v_amount DECIMAL(6,2);\n  \n  DECLARE v_prepaid_card_id INTEGER;\n  DECLARE v_active BOOLEAN;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-1 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND p_prepaid_code!=\'\') THEN\n\n    SELECT id,amount,active INTO v_prepaid_card_id,v_amount,v_active FROM prepaid_card WHERE prepaid_code=p_prepaid_code;\n\n    IF (v_active IS NULL) OR (v_active IS FALSE) THEN\n      CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-4 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n      RETURN -4;\n    END IF;\n\n    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=v_user_id;\n\n    SET v_prepaid_amount=v_prepaid_amount+v_amount;\n\n    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=v_user_id;\n    \n    UPDATE prepaid_card SET active=FALSE WHERE id=v_prepaid_card_id;\n\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'success: code=0 username=\',p_user,\' prepaid_code=\',p_prepaid_code,\' id=\',p_user_id,\' +\',v_amount));\n\n  ELSE\n    CALL add_audit(p_user,\'increase_user_prepaid_amount_by_prepaid_code\',CONCAT(\'error: code=-3 username=\',p_user,\' prepaid_code=\',p_prepaid_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','is_driver_of_order','FUNCTION','is_driver_of_order','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_order_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT s.user_id INTO v_value\n  FROM order_AB o,transport t,sensor s\n  WHERE o.id=p_order_id AND o.transport_id=t.id AND t.sensor_id=s.id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT s.user_id INTO v_value\n  FROM order_AB o,transport t,sensor s\n  WHERE o.id=p_order_id AND o.transport_id=t.id AND t.sensor_id=s.id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_delivery','FUNCTION','is_my_delivery','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_delivery_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT p.user_id INTO v_value\n  FROM purchase p,delivery d\n  WHERE d.id=p_delivery_id AND d.id=p.delivery_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT p.user_id INTO v_value\n  FROM purchase p,delivery d\n  WHERE d.id=p_delivery_id AND d.id=p.delivery_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_order','FUNCTION','is_my_order','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_order_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM order_AB\n  WHERE id=p_order_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM order_AB\n  WHERE id=p_order_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_purchase','FUNCTION','is_my_purchase','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_purchase_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM purchase\n  WHERE id=p_purchase_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM purchase\n  WHERE id=p_purchase_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_sensor','FUNCTION','is_my_sensor','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_sensor_circle','FUNCTION','is_my_sensor_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_value\n  FROM sensor_circle\n  WHERE sensorA_id=p_sensor_id AND sensorB_id IN (SELECT id FROM sensor WHERE user_id=v_user_id);\n\n  IF v_value>0 THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_value\n  FROM sensor_circle\n  WHERE sensorA_id=p_sensor_id AND sensorB_id IN (SELECT id FROM sensor WHERE user_id=v_user_id);\n\n  IF v_value>0 THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_sensor_or_circle','FUNCTION','is_my_sensor_or_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_value\n  FROM sensor\n  WHERE user_id=v_user_id AND (id=p_sensor_id OR id IN (SELECT sensorB_id FROM sensor_circle WHERE sensorA_id=p_sensor_id));\n\n  IF v_value>0 THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT count(*) INTO v_value\n  FROM sensor\n  WHERE user_id=v_user_id AND (id=p_sensor_id OR id IN (SELECT sensorB_id FROM sensor_circle WHERE sensorA_id=p_sensor_id));\n\n  IF v_value>0 THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_sensor_place','FUNCTION','is_my_sensor_place','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_place_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM sensor_place\n  WHERE id=p_place_id;\n\n  IF v_sensor_id IS NULL THEN\n    RETURN -100;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM sensor\n  WHERE id=v_sensor_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM sensor_place\n  WHERE id=p_place_id;\n\n  IF v_sensor_id IS NULL THEN\n    RETURN -100;\n  END IF;\n\n  SELECT user_id INTO v_value\n  FROM sensor\n  WHERE id=v_sensor_id;\n\n  IF v_value=v_user_id THEN\n    RETURN 1;\n  END IF;\n\n  RETURN -100;\nEND'),('247_car_rental','is_my_transport','FUNCTION','is_my_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_transport_id INTEGER','int(11)','BEGIN\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM transport\n  WHERE id=p_transport_id;\n\n  RETURN is_my_sensor(p_user,v_sensor_id);\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM transport\n  WHERE id=p_transport_id;\n\n  RETURN is_my_sensor(p_user,v_sensor_id);\nEND'),('247_car_rental','is_transport_reserved','FUNCTION','is_transport_reserved','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_transport_id INTEGER','int(11)','BEGIN\n  DECLARE v_count INTEGER;\n\n  SELECT COUNT(transport_id) INTO v_count\n  FROM order_AB\n  WHERE transport_id=p_transport_id AND order_status_id<=5 AND order_status_id>0;\n\n  RETURN v_count;\nEND','root@%','2018-01-12 11:03:04','2018-01-12 09:30:30','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_count INTEGER;\n\n  SELECT COUNT(transport_id) INTO v_count\n  FROM order_AB\n  WHERE transport_id=p_transport_id AND order_status_id<=5 AND order_status_id>0;\n\n  RETURN v_count;\nEND'),('247_car_rental','remove_attr','FUNCTION','remove_attr','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_attr_name VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_attr_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM attr WHERE name=p_attr_name;\n    \n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_attr_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_attr_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_attr_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM attr WHERE name=p_attr_name;\n    \n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_attr_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_attr\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_attr_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_attr_part','FUNCTION','remove_attr_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_attr_part_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM attr_part WHERE id=p_attr_part_id;\n\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_attr_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM attr_part WHERE id=p_attr_part_id;\n\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_attr_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_color','FUNCTION','remove_color','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_color_name VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_color_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM color WHERE name=p_color_name;\n    \n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_color_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_color_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'error: code=-1 username=\',p_user,\' name=\',p_color_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM color WHERE name=p_color_name;\n    \n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'success: code=0 username=\',p_user,\' name=\',p_color_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_color\',CONCAT(\'error: code=-3 username=\',p_user,\' name=\',p_color_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_currency','FUNCTION','remove_currency','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_currency_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM currency WHERE id=p_currency_id;\n\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM currency WHERE id=p_currency_id;\n\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_currency\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_delivery','FUNCTION','remove_delivery','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_delivery_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM delivery WHERE id=p_delivery_id;\n    \n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_delivery_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM delivery WHERE id=p_delivery_id;\n    \n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_delivery_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_delivery\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_delivery_type','FUNCTION','remove_delivery_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM delivery_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM delivery_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_discount','FUNCTION','remove_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_discount_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM discount WHERE id=p_discount_id;\n\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_discount_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM discount WHERE id=p_discount_id;\n\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_discount_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_language','FUNCTION','remove_language','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_language_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM language WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM language WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_language\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_manufacture','FUNCTION','remove_manufacture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_manufacture_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM manufacture WHERE id=p_manufacture_id;\n\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM manufacture WHERE id=p_manufacture_id;\n\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_message','FUNCTION','remove_message','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_message_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_userA_id INTEGER;\n  DECLARE v_userB_id INTEGER;\n  DECLARE v_type INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT userA_id,userB_id,type\n  INTO v_userA_id,v_userB_id,v_type\n  FROM message WHERE id=p_message_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_userB_id=v_user_inner_id AND v_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_userA_id=v_user_inner_id AND v_type=2) THEN\n\n    DELETE FROM message WHERE id=p_message_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_userA_id INTEGER;\n  DECLARE v_userB_id INTEGER;\n  DECLARE v_type INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT userA_id,userB_id,type\n  INTO v_userA_id,v_userB_id,v_type\n  FROM message WHERE id=p_message_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_userB_id=v_user_inner_id AND v_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_userA_id=v_user_inner_id AND v_type=2) THEN\n\n    DELETE FROM message WHERE id=p_message_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_AB','FUNCTION','remove_order_AB','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_user_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB_product_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_user_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB_product_part WHERE order_id=p_order_id;\n    DELETE FROM order_AB WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_AB_product_param_part','FUNCTION','remove_order_AB_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_param_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_AB_product_part','FUNCTION','remove_order_AB_product_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_product_part WHERE order_id=p_order_id AND product_id=p_product_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_AB_product_part WHERE order_id=p_order_id AND product_id=p_product_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_AB_user_part','FUNCTION','remove_order_AB_user_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3)\n                                   AND (v_order_user_id=v_user_inner_id OR (v_pickup_status_id=1 AND v_pickup_user_id=v_user_inner_id))\n                                   AND v_order_status_id=1) THEN\n\n    DELETE FROM order_AB_user_part WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-20 10:08:20','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3)\n                                   AND (v_order_user_id=v_user_inner_id OR (v_pickup_status_id=1 AND v_pickup_user_id=v_user_inner_id))\n                                   AND v_order_status_id=1) THEN\n\n    DELETE FROM order_AB_user_part WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_job','FUNCTION','remove_order_job','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,order_status_id INTO v_customer_user_id,v_order_status FROM order_job WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_job WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,order_status_id INTO v_customer_user_id,v_order_status FROM order_job WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    DELETE FROM order_job WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_job\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_order_status','FUNCTION','remove_order_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM order_status WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM order_status WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_order_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_payment','FUNCTION','remove_payment','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_purchase_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM payment WHERE purchase_id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM payment WHERE purchase_id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_payment\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_pickup_status','FUNCTION','remove_pickup_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM pickup_status WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM pickup_status WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_prepaid_card','FUNCTION','remove_prepaid_card','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_prepaid_card_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM prepaid_card WHERE id=p_prepaid_card_id;\n\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_prepaid_card_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM prepaid_card WHERE id=p_prepaid_card_id;\n\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_prepaid_card_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_prepaid_card\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product','FUNCTION','remove_product','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_circle','FUNCTION','remove_product_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_productA_id INTEGER,\n  p_productB_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_circle WHERE productA_id=p_productA_id AND productB_id=p_productB_id;\n\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'success: code=0 username=\',p_user,\' productA_id=\',p_productA_id,\' productB_id=\',p_productB_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_circle WHERE productA_id=p_productA_id AND productB_id=p_productB_id;\n\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'success: code=0 username=\',p_user,\' productA_id=\',p_productA_id,\' productB_id=\',p_productB_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_circle\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_param','FUNCTION','remove_product_param','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_param_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_param WHERE id=p_param_id;\n\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_param WHERE id=p_param_id;\n\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_param_part','FUNCTION','remove_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_param_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'remove_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'remove_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_review','FUNCTION','remove_product_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM product_review\n  WHERE user_id=p_user_id AND product_id=p_product_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_product_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM product\n    WHERE id=p_product_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM product_review\n    WHERE user_id=p_user_id AND product_id=p_product_id;\n\n    UPDATE product SET review_count=v_review_count,\n                       review_value=v_review_value\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM product_review\n  WHERE user_id=p_user_id AND product_id=p_product_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_product_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM product\n    WHERE id=p_product_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM product_review\n    WHERE user_id=p_user_id AND product_id=p_product_id;\n\n    UPDATE product SET review_count=v_review_count,\n                       review_value=v_review_value\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_type','FUNCTION','remove_product_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_product_type_part','FUNCTION','remove_product_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_type_part WHERE product_id=p_product_id AND product_type_id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM product_type_part WHERE product_id=p_product_id AND product_type_id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_product_type_part\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' type_id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_project','FUNCTION','remove_project','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_schema_name VARCHAR(64)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'error: code=-1 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM project WHERE schema_name=p_schema_name;    \n\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'success: code=0 username=\',p_user,\' schema_name=\',p_schema_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'error: code=-3 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-26 14:03:44','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'error: code=-1 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM project WHERE schema_name=p_schema_name;    \n\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'success: code=0 username=\',p_user,\' schema_name=\',p_schema_name));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_project\',CONCAT(\'error: code=-3 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_purchase','FUNCTION','remove_purchase','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_purchase_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n    \n    DELETE FROM purchase WHERE id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n    \n    DELETE FROM purchase WHERE id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_purchase\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor','FUNCTION','remove_sensor','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_sensor\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor_circle','FUNCTION','remove_sensor_circle','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensorA_id INTEGER,\n  p_sensorB_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor_circle_to_user','FUNCTION','remove_sensor_circle_to_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_user_id INTEGER','int(11)','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n\n  DECLARE c_sensor CURSOR FOR\n  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor;\n  get_data: LOOP\n\n  FETCH c_sensor INTO v_id;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  SELECT remove_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;\n\n  END LOOP get_data;\n  CLOSE c_sensor;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_finished INTEGER DEFAULT 0;\n\n  DECLARE v_id INTEGER;\n\n  DECLARE c_sensor CURSOR FOR\n  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;\n\n  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;\n\n  OPEN c_sensor;\n  get_data: LOOP\n\n  FETCH c_sensor INTO v_id;\n\n  IF v_finished=1 THEN LEAVE get_data;\n  END IF;\n\n  SELECT remove_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;\n\n  END LOOP get_data;\n  CLOSE c_sensor;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor_group','FUNCTION','remove_sensor_group','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_group_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_group WHERE id=p_group_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_group WHERE id=p_group_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor_group_part','FUNCTION','remove_sensor_group_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_group_id INTEGER,\n  p_sensor_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_group_master_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  -- admin, joiner to group and group master can remove\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_group_master_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) OR\n     (v_user=\'fa_client@localhost\' AND v_user_group_master_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_group_part WHERE sensor_group_id=p_group_id AND sensor_id=p_sensor_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_group_master_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  -- admin, joiner to group and group master can remove\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_group_master_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) OR\n     (v_user=\'fa_client@localhost\' AND v_user_group_master_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_group_part WHERE sensor_group_id=p_group_id AND sensor_id=p_sensor_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_sensor_place','FUNCTION','remove_sensor_place','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_place_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_place WHERE id=p_place_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM sensor_place WHERE id=p_place_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_settings','FUNCTION','remove_settings','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_code VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'error: code=-1 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM settings WHERE code=p_code;\n    \n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'error: code=-3 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'error: code=-1 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM settings WHERE code=p_code;\n    \n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_settings\',CONCAT(\'error: code=-3 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_stock','FUNCTION','remove_stock','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_store_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));    \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock WHERE product_id=p_product_id AND store_id=p_store_id;\n    \n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));      \n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));    \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock WHERE product_id=p_product_id AND store_id=p_store_id;\n    \n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));      \n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_stock_invoice','FUNCTION','remove_stock_invoice','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_stock_invoice_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock_invoice WHERE id=p_stock_invoice_id;\n    \n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_stock_invoice_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock_invoice WHERE id=p_stock_invoice_id;\n    \n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_stock_invoice_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_stock_invoice_part','FUNCTION','remove_stock_invoice_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_stock_invoice_id INTEGER,\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));  \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock_invoice_part WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));  \n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));  \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM stock_invoice_part WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));  \n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_store','FUNCTION','remove_store','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_store_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM store WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM store WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_store\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_store_part','FUNCTION','remove_store_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM store_part WHERE id=p_part_id;\n    \n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM store_part WHERE id=p_part_id;\n    \n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_store_part\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_tax','FUNCTION','remove_tax','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_tax_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM tax WHERE id=p_tax_id;\n    \n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_tax_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM tax WHERE id=p_tax_id;\n    \n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_tax_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_tax\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_track','FUNCTION','remove_track','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_track_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM track WHERE id=p_track_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM track WHERE id=p_track_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_track_part','FUNCTION','remove_track_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_track_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;\n\n  IF v_track_id IS NOT NULL THEN\n    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n    IF v_sensor_id IS NOT NULL THEN\n      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM track_part WHERE id=p_part_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_track_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;\n\n  IF v_track_id IS NOT NULL THEN\n    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n    IF v_sensor_id IS NOT NULL THEN\n      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    DELETE FROM track_part WHERE id=p_part_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_track_type','FUNCTION','remove_track_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM track_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM track_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_track_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_transport','FUNCTION','remove_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport WHERE id=p_transport_id;\n    \n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport WHERE id=p_transport_id;\n    \n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_transport_product_part','FUNCTION','remove_transport_product_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_product_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_product_part WHERE transport_id=p_transport_id AND product_id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_product_part WHERE transport_id=p_transport_id AND product_id=p_product_id;\n\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' transport_id=\',p_transport_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_transport_review','FUNCTION','remove_transport_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_transport_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM transport_review\n  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM transport\n    WHERE id=p_transport_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM transport_review\n    WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n    UPDATE transport SET review_count=v_review_count,\n                         review_value=v_review_value\n    WHERE id=p_transport_id;\n\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM transport_review\n  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM transport\n    WHERE id=p_transport_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM transport_review\n    WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;\n\n    UPDATE transport SET review_count=v_review_count,\n                         review_value=v_review_value\n    WHERE id=p_transport_id;\n\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_transport_type','FUNCTION','remove_transport_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_type WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_transport_type_part','FUNCTION','remove_transport_type_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_type_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'error: code=-1 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_type_part WHERE transport_id=p_transport_id AND transport_type_id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'error: code=-3 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'error: code=-1 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM transport_type_part WHERE transport_id=p_transport_id AND transport_type_id=p_type_id;\n    \n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'success: code=0 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_transport_type_part\',CONCAT(\'error: code=-3 username=\',p_user,\' transport_id=\',p_transport_id,\' type_id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_user','FUNCTION','remove_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM user WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    DELETE FROM user WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_user\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','remove_user_review','FUNCTION','remove_user_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_review_user_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM user_review\n  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM user\n    WHERE id=p_review_user_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM user_review\n    WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n    UPDATE user SET review_count=v_review_count,\n                    review_value=v_review_value\n    WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_review_count INTEGER;\n  DECLARE v_review_value INTEGER;\n\n  DECLARE v_value INTEGER;\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  SELECT value INTO v_value\n  FROM user_review\n  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n  IF v_value IS NULL THEN\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-4 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -4;\n  END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR v_user_id=p_user_id THEN\n\n    SELECT review_count,review_value INTO v_review_count,v_review_value\n    FROM user\n    WHERE id=p_review_user_id;\n\n    SET v_review_count=v_review_count-1;\n    SET v_review_value=v_review_value-v_value;\n\n    DELETE FROM user_review\n    WHERE user_id=p_user_id AND review_user_id=p_review_user_id;\n\n    UPDATE user SET review_count=v_review_count,\n                    review_value=v_review_value\n    WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'remove_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','replace_text','FUNCTION','replace_text','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_text TEXT','text CHARSET utf8','BEGIN\n  RETURN CAST(REPLACE(REPLACE(p_text,\'\\\\\',\'\\\\\\\\\'),CHAR(34),CONCAT(\'\\\\\',CHAR(34))) AS CHAR);\nEND','root@%','2018-01-12 11:03:04','2017-12-13 22:04:53','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  RETURN CAST(REPLACE(REPLACE(p_text,\'\\\',\'\\\\\'),CHAR(34),CONCAT(\'\\\',CHAR(34))) AS CHAR);\nEND'),('247_car_rental','restore_user_pass','FUNCTION','restore_user_pass','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64)','varchar(16) CHARSET utf8','BEGIN\n  DECLARE v_user_pass VARCHAR(16);\n\n  SELECT password INTO v_user_pass\n  FROM user\n  WHERE username=p_user;\n\n  CALL add_audit(p_user,\'password_recovery\',CONCAT(\'username=\',p_user));\n\n  RETURN v_user_pass;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_pass VARCHAR(16);\n\n  SELECT password INTO v_user_pass\n  FROM user\n  WHERE username=p_user;\n\n  CALL add_audit(p_user,\'password_recovery\',CONCAT(\'username=\',p_user));\n\n  RETURN v_user_pass;\nEND'),('247_car_rental','update_attr_part','FUNCTION','update_attr_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_attr_part_id INTEGER,\n  p_object_id INTEGER,\n  p_object_name VARCHAR(32),\n  p_attr_name VARCHAR(32),\n  p_attr_value VARCHAR(256),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_object_id INTEGER;\n  DECLARE v_object_name VARCHAR(64);\n  DECLARE v_attr_name VARCHAR(32);\n  DECLARE v_attr_value VARCHAR(256);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_attr_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -1;\n  END IF;\n\n  SELECT object_id,object_name,name,value,language INTO v_object_id,v_object_name,v_attr_name,v_attr_value,v_language\n  FROM attr_part\n  WHERE id=p_attr_part_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_object_id!=-1 THEN SET v_object_id=p_object_id; END IF;\n    IF p_object_name!=\'\' THEN SET v_object_name=p_object_name; END IF;\n    IF p_attr_name!=\'\' THEN SET v_attr_name=p_attr_name; END IF;\n    IF p_attr_value!=\'\' THEN SET v_attr_value=p_attr_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE attr_part SET object_id=v_object_id,\n                         object_name=v_object_name,\n                         name=v_attr_name,\n                         value=v_attr_value,\n                         language=v_language\n    WHERE id=p_attr_part_id;\n\n    CALL add_audit(p_user,\'update_attr_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_attr_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_object_id INTEGER;\n  DECLARE v_object_name VARCHAR(64);\n  DECLARE v_attr_name VARCHAR(32);\n  DECLARE v_attr_value VARCHAR(256);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_attr_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -1;\n  END IF;\n\n  SELECT object_id,object_name,name,value,language INTO v_object_id,v_object_name,v_attr_name,v_attr_value,v_language\n  FROM attr_part\n  WHERE id=p_attr_part_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_object_id!=-1 THEN SET v_object_id=p_object_id; END IF;\n    IF p_object_name!=\'\' THEN SET v_object_name=p_object_name; END IF;\n    IF p_attr_name!=\'\' THEN SET v_attr_name=p_attr_name; END IF;\n    IF p_attr_value!=\'\' THEN SET v_attr_value=p_attr_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE attr_part SET object_id=v_object_id,\n                         object_name=v_object_name,\n                         name=v_attr_name,\n                         value=v_attr_value,\n                         language=v_language\n    WHERE id=p_attr_part_id;\n\n    CALL add_audit(p_user,\'update_attr_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_attr_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_attr_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_audit_message','PROCEDURE','update_audit_message','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),  \n  p_audit_id INTEGER,\n  p_message VARCHAR(256)','','BEGIN\n  UPDATE audit SET message=p_message WHERE id=p_audit_id;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  UPDATE audit SET message=p_message WHERE id=p_audit_id;\nEND'),('247_car_rental','update_currency','FUNCTION','update_currency','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_currency_id INTEGER,\n  p_name VARCHAR(3),\n  p_description VARCHAR(128),\n  p_value VARCHAR(10),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(3);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description,value,language INTO v_name,v_description,v_value,v_language\n  FROM currency\n  WHERE id=p_currency_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE currency SET name=v_name,\n                        description=v_description,\n                        value=v_value,\n                        language=v_language\n    WHERE id=p_currency_id;\n    \n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(3);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description,value,language INTO v_name,v_description,v_value,v_language\n  FROM currency\n  WHERE id=p_currency_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE currency SET name=v_name,\n                        description=v_description,\n                        value=v_value,\n                        language=v_language\n    WHERE id=p_currency_id;\n    \n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_currency\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_currency_activity','FUNCTION','update_currency_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_currency_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE currency SET active=p_activity WHERE id=p_currency_id;\n    \n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE currency SET active=p_activity WHERE id=p_currency_id;\n    \n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_currency_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_currency_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_currency_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_delivery','FUNCTION','update_delivery','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_delivery_id INTEGER,\n  p_user_id INTEGER,\n  p_transport_id INTEGER,\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_address VARCHAR(128)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,latitude,longitude,address\n  INTO v_user_id,v_transport_id,v_latitude,v_longitude,v_address\n  FROM delivery\n  WHERE id=p_delivery_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF v_user_type=1 THEN -- admin can changing user or transport in action\n      IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;\n      IF p_transport_id!=-1 THEN SET v_transport_id=p_transport_id; END IF;\n    END IF;\n\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_address!=\'\' THEN SET v_address=p_address; END IF;\n\n    UPDATE delivery SET user_id=v_user_id,\n                        transport_id=v_transport_id,\n                        latitude=v_latitude,\n                        longitude=v_longitude,\n                        address=v_address\n    WHERE id=p_delivery_id;\n    \n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_delivery_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,latitude,longitude,address\n  INTO v_user_id,v_transport_id,v_latitude,v_longitude,v_address\n  FROM delivery\n  WHERE id=p_delivery_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF v_user_type=1 THEN -- admin can changing user or transport in action\n      IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;\n      IF p_transport_id!=-1 THEN SET v_transport_id=p_transport_id; END IF;\n    END IF;\n\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_address!=\'\' THEN SET v_address=p_address; END IF;\n\n    UPDATE delivery SET user_id=v_user_id,\n                        transport_id=v_transport_id,\n                        latitude=v_latitude,\n                        longitude=v_longitude,\n                        address=v_address\n    WHERE id=p_delivery_id;\n    \n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_delivery_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_delivery\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_delivery_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_delivery_type','FUNCTION','update_delivery_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM delivery_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE delivery_type SET name=v_name,\n                             language=v_language\n    WHERE id=p_type_id;\n\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM delivery_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE delivery_type SET name=v_name,\n                             language=v_language\n    WHERE id=p_type_id;\n\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_delivery_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_discount','FUNCTION','update_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_discount_id INTEGER,\n  p_product_type_id INTEGER,\n  p_type INTEGER,\n  p_code VARCHAR(8),\n  p_name VARCHAR(32),\n  p_value INTEGER,\n  p_language VARCHAR(32),\n  p_start_date VARCHAR(20),\n  p_finish_date VARCHAR(20)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_product_type_id INTEGER;\n  DECLARE v_type INTEGER;\n  DECLARE v_code VARCHAR(8);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value INTEGER;\n  DECLARE v_language VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -1;\n  END IF;\n\n  SELECT product_type_id,type,code,name,value,language,start_date,finish_date INTO v_product_type_id,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date\n  FROM discount\n  WHERE id=p_discount_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_product_type_id!=-1 THEN SET v_product_type_id=p_product_type_id; END IF;\n    IF p_type!=-1 THEN SET v_type=p_type; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=-1 THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n    IF p_start_date!=\'\' THEN SET v_start_date=p_start_date; END IF;\n    IF p_finish_date!=\'\' THEN SET v_finish_date=p_finish_date; END IF;\n\n    UPDATE discount SET product_type_id=v_product_type_id,\n                        type=v_type,\n                        code=v_code,\n                        name=v_name,\n                        value=v_value,\n                        language=v_language,\n                        start_date=v_start_date,\n                        finish_date=v_finish_date\n    WHERE id=p_discount_id;\n\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_discount_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_product_type_id INTEGER;\n  DECLARE v_type INTEGER;\n  DECLARE v_code VARCHAR(8);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value INTEGER;\n  DECLARE v_language VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -1;\n  END IF;\n\n  SELECT product_type_id,type,code,name,value,language,start_date,finish_date INTO v_product_type_id,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date\n  FROM discount\n  WHERE id=p_discount_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_product_type_id!=-1 THEN SET v_product_type_id=p_product_type_id; END IF;\n    IF p_type!=-1 THEN SET v_type=p_type; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=-1 THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n    IF p_start_date!=\'\' THEN SET v_start_date=p_start_date; END IF;\n    IF p_finish_date!=\'\' THEN SET v_finish_date=p_finish_date; END IF;\n\n    UPDATE discount SET product_type_id=v_product_type_id,\n                        type=v_type,\n                        code=v_code,\n                        name=v_name,\n                        value=v_value,\n                        language=v_language,\n                        start_date=v_start_date,\n                        finish_date=v_finish_date\n    WHERE id=p_discount_id;\n\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_discount_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_discount_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_language','FUNCTION','update_language','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_language_id INTEGER,\n  p_name VARCHAR(32),\n  p_value VARCHAR(32),\n  p_code VARCHAR(5)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(32);\n  DECLARE v_code VARCHAR(5);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_language\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,value,code INTO v_name,v_value,v_code\n  FROM language\n  WHERE id=p_language_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n\n    UPDATE language SET name=p_name,\n                        value=p_value,\n                        code=p_code\n    WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'update_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_language\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(32);\n  DECLARE v_code VARCHAR(5);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_language\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,value,code INTO v_name,v_value,v_code\n  FROM language\n  WHERE id=p_language_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n\n    UPDATE language SET name=p_name,\n                        value=p_value,\n                        code=p_code\n    WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'update_language\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_language\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_language_activity','FUNCTION','update_language_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_language_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));  \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE language SET active=p_activity WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_language_id));  \n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE language SET active=p_activity WHERE id=p_language_id;\n    \n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_language_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_language_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_language_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_manufacture','FUNCTION','update_manufacture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_manufacture_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description INTO v_name,v_description\n  FROM manufacture\n  WHERE id=p_manufacture_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n\n    UPDATE manufacture SET name=v_name,\n                           description=v_description\n    WHERE id=p_manufacture_id;\n\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description INTO v_name,v_description\n  FROM manufacture\n  WHERE id=p_manufacture_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n\n    UPDATE manufacture SET name=v_name,\n                           description=v_description\n    WHERE id=p_manufacture_id;\n\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_manufacture_picture','FUNCTION','update_manufacture_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_manufacture_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE manufacture SET picture=p_picture\n      WHERE id=p_manufacture_id;\n      CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE manufacture SET picture=p_picture\n      WHERE id=p_manufacture_id;\n      CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_manufacture_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_manufacture_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_manufacture_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB','FUNCTION','update_order_AB','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_transport_id INTEGER,\n  p_status_id INTEGER,\n  p_total_price VARCHAR(16),\n  p_route_distance INTEGER,\n  p_route_duration INTEGER,\n  p_route_data BLOB,\n  p_order_lat VARCHAR(20),\n  p_order_lon VARCHAR(20),\n  p_order_address VARCHAR(128),\n  p_delivery_lat VARCHAR(20),\n  p_delivery_lon VARCHAR(20),\n  p_delivery_address VARCHAR(128),\n  p_delivery_type_id INTEGER,\n  p_reserved_date VARCHAR(20),\n  p_reserved_hours INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_route_distance INTEGER;\n  DECLARE v_route_duration INTEGER;\n  DECLARE v_route_data BLOB;\n  DECLARE v_order_lat VARCHAR(20);\n  DECLARE v_order_lon VARCHAR(20);\n  DECLARE v_order_address VARCHAR(128);\n  DECLARE v_delivery_lat VARCHAR(20);\n  DECLARE v_delivery_lon VARCHAR(20);\n  DECLARE v_delivery_address VARCHAR(128);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours INTEGER;\n\n  DECLARE v_order_transport_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,order_status_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours\n  INTO v_user_id,v_transport_id,v_status_id,v_total_price,v_route_distance,v_route_duration,v_route_data,v_delivery_lat,v_delivery_lon,v_delivery_address,v_delivery_type_id,v_order_lat,v_order_lon,v_order_address,v_reserved_date,v_reserved_hours\n  FROM order_AB\n  WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_status_id=1) THEN\n\n    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;\n\n    IF p_transport_id!=-1 AND v_user_type=1 THEN SET v_order_transport_id=p_transport_id; END IF;\n    IF p_transport_id=-1 AND v_user_type=1 THEN SET v_order_transport_id=NULL;SET p_transport_id=NULL; END IF;\n\n    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR \n                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)\n    THEN SET v_order_status_id=p_status_id; END IF;\n\n    IF p_total_price!=\'\' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;\n    IF p_route_distance!=-1 AND v_user_type=1 THEN SET v_route_distance=p_route_distance; END IF;\n    IF p_route_duration!=-1 AND v_user_type=1 THEN SET v_route_duration=p_route_duration; END IF;\n    IF p_route_data!=\'\' AND v_user_type=1 THEN SET v_route_data=p_route_data; END IF;\n    IF p_order_lat!=\'\' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;\n    IF p_order_lon!=\'\' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;\n    IF p_order_address!=\'\' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;\n    IF p_delivery_lat!=\'\' AND v_user_type=1 THEN SET v_delivery_lat=p_delivery_lat; END IF;\n    IF p_delivery_lon!=\'\' AND v_user_type=1 THEN SET v_delivery_lon=p_delivery_lon; END IF;\n    IF p_delivery_address!=\'\' AND v_user_type=1 THEN SET v_delivery_address=p_delivery_address; END IF;\n    IF p_delivery_type_id!=-1 AND v_user_type=1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;\n    IF p_reserved_date!=\'\' AND v_user_type=1 THEN SET v_reserved_date=p_reserved_date; END IF;\n    IF p_reserved_hours!=-1 AND v_user_type=1 THEN SET v_reserved_hours=p_reserved_hours; END IF;\n\n    UPDATE order_AB SET\n           user_id=v_user_id,\n           transport_id=v_order_transport_id,\n           order_status_id=v_order_status_id,\n           total_price=v_total_price,\n           route_distance=v_route_distance,\n           route_duration=v_route_duration,\n           route_data=v_route_data,\n           order_lat=v_order_lat,\n           order_lon=v_order_lon,\n           order_address=v_order_address,\n           delivery_lat=v_delivery_lat,\n           delivery_lon=v_delivery_lon,\n           delivery_address=v_delivery_address,\n           delivery_type_id=v_delivery_type_id,\n           reserved_date=v_reserved_date,\n           reserved_hours=v_reserved_hours\n    WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN\n      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund\n      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_route_distance INTEGER;\n  DECLARE v_route_duration INTEGER;\n  DECLARE v_route_data BLOB;\n  DECLARE v_order_lat VARCHAR(20);\n  DECLARE v_order_lon VARCHAR(20);\n  DECLARE v_order_address VARCHAR(128);\n  DECLARE v_delivery_lat VARCHAR(20);\n  DECLARE v_delivery_lon VARCHAR(20);\n  DECLARE v_delivery_address VARCHAR(128);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours INTEGER;\n\n  DECLARE v_order_transport_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,order_status_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours\n  INTO v_user_id,v_transport_id,v_status_id,v_total_price,v_route_distance,v_route_duration,v_route_data,v_delivery_lat,v_delivery_lon,v_delivery_address,v_delivery_type_id,v_order_lat,v_order_lon,v_order_address,v_reserved_date,v_reserved_hours\n  FROM order_AB\n  WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_status_id=1) THEN\n\n    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;\n\n    IF p_transport_id!=-1 AND v_user_type=1 THEN SET v_order_transport_id=p_transport_id; END IF;\n    IF p_transport_id=-1 AND v_user_type=1 THEN SET v_order_transport_id=NULL;SET p_transport_id=NULL; END IF;\n\n    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR \n                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)\n    THEN SET v_order_status_id=p_status_id; END IF;\n\n    IF p_total_price!=\'\' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;\n    IF p_route_distance!=-1 AND v_user_type=1 THEN SET v_route_distance=p_route_distance; END IF;\n    IF p_route_duration!=-1 AND v_user_type=1 THEN SET v_route_duration=p_route_duration; END IF;\n    IF p_route_data!=\'\' AND v_user_type=1 THEN SET v_route_data=p_route_data; END IF;\n    IF p_order_lat!=\'\' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;\n    IF p_order_lon!=\'\' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;\n    IF p_order_address!=\'\' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;\n    IF p_delivery_lat!=\'\' AND v_user_type=1 THEN SET v_delivery_lat=p_delivery_lat; END IF;\n    IF p_delivery_lon!=\'\' AND v_user_type=1 THEN SET v_delivery_lon=p_delivery_lon; END IF;\n    IF p_delivery_address!=\'\' AND v_user_type=1 THEN SET v_delivery_address=p_delivery_address; END IF;\n    IF p_delivery_type_id!=-1 AND v_user_type=1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;\n    IF p_reserved_date!=\'\' AND v_user_type=1 THEN SET v_reserved_date=p_reserved_date; END IF;\n    IF p_reserved_hours!=-1 AND v_user_type=1 THEN SET v_reserved_hours=p_reserved_hours; END IF;\n\n    UPDATE order_AB SET\n           user_id=v_user_id,\n           transport_id=v_order_transport_id,\n           order_status_id=v_order_status_id,\n           total_price=v_total_price,\n           route_distance=v_route_distance,\n           route_duration=v_route_duration,\n           route_data=v_route_data,\n           order_lat=v_order_lat,\n           order_lon=v_order_lon,\n           order_address=v_order_address,\n           delivery_lat=v_delivery_lat,\n           delivery_lon=v_delivery_lon,\n           delivery_address=v_delivery_address,\n           delivery_type_id=v_delivery_type_id,\n           reserved_date=v_reserved_date,\n           reserved_hours=v_reserved_hours\n    WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN\n      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund\n      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_product_param_part','FUNCTION','update_order_AB_product_param_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_param_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count,price INTO v_count,v_price\n  FROM order_AB_product_param_part\n  WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    -- set price for one product without discount\n    IF p_price!=\'\'  AND v_user_type=1 THEN SET v_price=p_price; END IF;\n\n    UPDATE order_AB_product_param_part SET count=v_count,\n							               price=v_price\n    WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count,price INTO v_count,v_price\n  FROM order_AB_product_param_part\n  WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    -- set price for one product without discount\n    IF p_price!=\'\'  AND v_user_type=1 THEN SET v_price=p_price; END IF;\n\n    UPDATE order_AB_product_param_part SET count=v_count,\n							               price=v_price\n    WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_product_param_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_product_part','FUNCTION','update_order_AB_product_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_product_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count,price INTO v_count,v_price\n  FROM order_AB_product_part\n  WHERE order_id=p_order_id AND product_id=p_product_id;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    -- set price for one product without discount\n    IF p_price!=\'\'  AND v_user_type=1 THEN SET v_price=p_price; END IF;\n\n    UPDATE order_AB_product_part SET count=v_count,\n							 price=v_price\n    WHERE order_id=p_order_id AND product_id=p_product_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_order_status INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n  -- DECLARE v_discount INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count,price INTO v_count,v_price\n  FROM order_AB_product_part\n  WHERE order_id=p_order_id AND product_id=p_product_id;\n\n  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    -- set price for one product without discount\n    IF p_price!=\'\'  AND v_user_type=1 THEN SET v_price=p_price; END IF;\n\n    UPDATE order_AB_product_part SET count=v_count,\n							 price=v_price\n    WHERE order_id=p_order_id AND product_id=p_product_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_product_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_status','FUNCTION','update_order_AB_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_status_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  \n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,order_status_id INTO v_user_id,v_transport_id,v_status_id FROM order_AB WHERE id=p_order_id;\n\n  # SELECT worker (driver) account for prepaid_amount sum\n  # if sum > 0 can set status for worker (driver) transport\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN\n\n    UPDATE order_AB SET order_status_id=p_status_id WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    \n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_status_id<0 AND v_status_id>0 THEN -- current status is active and cancelling order\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  \n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,transport_id,order_status_id INTO v_user_id,v_transport_id,v_status_id FROM order_AB WHERE id=p_order_id;\n\n  # SELECT worker (driver) account for prepaid_amount sum\n  # if sum > 0 can set status for worker (driver) transport\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN\n\n    UPDATE order_AB SET order_status_id=p_status_id WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    \n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_status_id<0 AND v_status_id>0 THEN -- current status is active and cancelling order\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_transport','FUNCTION','update_order_AB_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_transport_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_order_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id,transport_id INTO v_user_id,v_status_id,v_transport_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND\n       ((p_transport_id=-1 AND is_my_transport(p_user,v_transport_id)=1) OR\n        (p_transport_id!=-1 AND v_transport_id IS NULL))) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_user_id=v_user_inner_id AND p_transport_id=-1) THEN\n\n\n    IF p_transport_id=-1 THEN\n      SET v_order_transport_id=NULL;SET p_transport_id=NULL;SET v_order_status_id=1;\n    ELSE SET v_order_transport_id=p_transport_id;SET v_order_status_id=2; END IF;\n\n    UPDATE order_AB SET transport_id=v_order_transport_id,order_status_id=v_order_status_id WHERE id=p_order_id;\n\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n\n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN\n      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund\n      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_user_id INTEGER;\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_order_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n\n  DECLARE v_keyword VARCHAR(8) DEFAULT \'E2E4F117\';\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,order_status_id,transport_id INTO v_user_id,v_status_id,v_transport_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND\n       ((p_transport_id=-1 AND is_my_transport(p_user,v_transport_id)=1) OR\n        (p_transport_id!=-1 AND v_transport_id IS NULL))) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_user_id=v_user_inner_id AND p_transport_id=-1) THEN\n\n\n    IF p_transport_id=-1 THEN\n      SET v_order_transport_id=NULL;SET p_transport_id=NULL;SET v_order_status_id=1;\n    ELSE SET v_order_transport_id=p_transport_id;SET v_order_status_id=2; END IF;\n\n    UPDATE order_AB SET transport_id=v_order_transport_id,order_status_id=v_order_status_id WHERE id=p_order_id;\n\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n\n    -- driver fee\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund\n    END IF;\n\n    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN\n	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN\n      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund\n      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' transport_id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_user_part','FUNCTION','update_order_AB_user_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_pickup_status_id INTEGER,\n  p_pickup_lat VARCHAR(20),\n  p_pickup_lon VARCHAR(20),\n  p_pickup_address VARCHAR(128),\n  p_pickup_date VARCHAR(20),\n  p_pickup_info VARCHAR(128),\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER;\n\n  DECLARE v_pickup_lat VARCHAR(20);\n  DECLARE v_pickup_lon VARCHAR(20);\n  DECLARE v_pickup_address VARCHAR(128);\n  DECLARE v_pickup_date VARCHAR(20);\n  DECLARE v_pickup_info VARCHAR(128);\n  DECLARE v_price VARCHAR(16);\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price\n  INTO v_pickup_user_id,v_pickup_status_id,v_pickup_lat,v_pickup_lon,v_pickup_address,v_pickup_date,v_pickup_info,v_price\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) \n                                   AND (v_order_user_id=v_user_inner_id OR v_pickup_user_id=v_user_inner_id) \n                                   AND v_order_status_id=1 AND v_pickup_status_id=1) THEN\n\n    IF v_user_type=1 OR (v_order_user_id=v_user_inner_id) OR (p_pickup_status_id<0 AND v_pickup_user_id=v_user_inner_id)\n    THEN SET v_pickup_status_id=p_pickup_status_id; END IF;\n\n    IF p_price!=\'\' AND (v_user_type=1 OR v_order_user_id=v_user_inner_id) THEN SET v_price=p_price; END IF;\n    \n    IF p_pickup_lat!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lat=p_pickup_lat; END IF;\n    IF p_pickup_lon!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lon=p_pickup_lon; END IF;\n    IF p_pickup_address!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_address=p_pickup_address; END IF;\n    IF p_pickup_date!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_date=p_pickup_date; END IF;\n    IF p_pickup_info!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_info=p_pickup_info; END IF;\n\n    UPDATE order_AB_user_part SET pickup_status_id=p_pickup_status_id,\n							      price=v_price,\n                                  pickup_lat=v_pickup_lat,\n                                  pickup_lon=v_pickup_lon,\n                                  pickup_address=v_pickup_address,\n                                  pickup_date=v_pickup_date,\n                                  pickup_info=v_pickup_info\n    WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER;\n\n  DECLARE v_pickup_lat VARCHAR(20);\n  DECLARE v_pickup_lon VARCHAR(20);\n  DECLARE v_pickup_address VARCHAR(128);\n  DECLARE v_pickup_date VARCHAR(20);\n  DECLARE v_pickup_info VARCHAR(128);\n  DECLARE v_price VARCHAR(16);\n  \n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price\n  INTO v_pickup_user_id,v_pickup_status_id,v_pickup_lat,v_pickup_lon,v_pickup_address,v_pickup_date,v_pickup_info,v_price\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3) \n                                   AND (v_order_user_id=v_user_inner_id OR v_pickup_user_id=v_user_inner_id) \n                                   AND v_order_status_id=1 AND v_pickup_status_id=1) THEN\n\n    IF v_user_type=1 OR (v_order_user_id=v_user_inner_id) OR (p_pickup_status_id<0 AND v_pickup_user_id=v_user_inner_id)\n    THEN SET v_pickup_status_id=p_pickup_status_id; END IF;\n\n    IF p_price!=\'\' AND (v_user_type=1 OR v_order_user_id=v_user_inner_id) THEN SET v_price=p_price; END IF;\n    \n    IF p_pickup_lat!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lat=p_pickup_lat; END IF;\n    IF p_pickup_lon!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lon=p_pickup_lon; END IF;\n    IF p_pickup_address!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_address=p_pickup_address; END IF;\n    IF p_pickup_date!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_date=p_pickup_date; END IF;\n    IF p_pickup_info!=\'\' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_info=p_pickup_info; END IF;\n\n    UPDATE order_AB_user_part SET pickup_status_id=p_pickup_status_id,\n							      price=v_price,\n                                  pickup_lat=v_pickup_lat,\n                                  pickup_lon=v_pickup_lon,\n                                  pickup_address=v_pickup_address,\n                                  pickup_date=v_pickup_date,\n                                  pickup_info=v_pickup_info\n    WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_user_part\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_AB_user_part_status','FUNCTION','update_order_AB_user_part_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_user_id INTEGER,\n  p_status_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER; /*not used*/\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3)\n                                   AND (v_order_user_id=v_user_inner_id OR (p_status_id<0 AND v_pickup_user_id=v_user_inner_id))\n                                   AND v_order_status_id=1) THEN\n\n    UPDATE order_AB_user_part SET pickup_status_id=p_status_id WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_order_user_id INTEGER;\n  DECLARE v_order_status_id INTEGER;\n  DECLARE v_pickup_user_id INTEGER;\n  DECLARE v_pickup_status_id INTEGER; /*not used*/\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id\n  FROM order_AB_user_part\n  WHERE order_id=p_order_id AND user_id=p_user_id;\n\n  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND (v_user_type=2 OR v_user_type=3)\n                                   AND (v_order_user_id=v_user_inner_id OR (p_status_id<0 AND v_pickup_user_id=v_user_inner_id))\n                                   AND v_order_status_id=1) THEN\n\n    UPDATE order_AB_user_part SET pickup_status_id=p_status_id WHERE order_id=p_order_id AND user_id=p_user_id;\n    \n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_AB_user_part_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' user_id=\',p_user_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_job','FUNCTION','update_order_job','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_customer_user_id INTEGER,\n  p_worker_user_id INTEGER,\n  p_status_id INTEGER,\n  p_total_price VARCHAR(16),\n  p_order_lat VARCHAR(20),\n  p_order_lon VARCHAR(20),\n  p_order_address VARCHAR(128),\n  p_product_id INTEGER,\n  p_reserved_date VARCHAR(20),\n  p_reserved_hours INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_worker_user_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_order_lat VARCHAR(20);\n  DECLARE v_order_lon VARCHAR(20);\n  DECLARE v_order_address VARCHAR(128);\n  DECLARE v_product_id INTEGER;\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,worker_user_id,order_status_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours\n  INTO v_customer_user_id,v_worker_user_id,v_status_id,v_total_price,v_order_lat,v_order_lon,v_order_address,v_product_id,v_reserved_date,v_reserved_hours\n  FROM order_job\n  WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_status_id=1) THEN\n\n    IF p_customer_user_id!=-1 AND v_user_type=1 THEN SET v_customer_user_id=p_customer_user_id; END IF;\n\n    IF p_worker_user_id!=-1 AND v_user_type=1 THEN SET v_worker_user_id=p_worker_user_id; END IF;\n    IF p_worker_user_id=-1 AND v_user_type=1 THEN SET v_worker_user_id=NULL; END IF;\n\n    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR \n                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)\n    THEN SET v_status_id=p_status_id; END IF;\n\n    IF p_total_price!=\'\' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;\n    IF p_order_lat!=\'\' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;\n    IF p_order_lon!=\'\' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;\n    IF p_order_address!=\'\' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;\n    IF p_product_id!=-1 AND v_user_type=1 THEN SET v_product_id=p_product_id; END IF;\n    IF p_reserved_date!=\'\' AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_date=p_reserved_date; END IF;\n    IF p_reserved_hours!=-1 AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_hours=p_reserved_hours; END IF;\n\n    UPDATE order_job SET\n           customer_user_id=v_customer_user_id,\n           worker_user_id=v_worker_user_id,\n           order_status_id=v_status_id,\n           total_price=v_total_price,\n           order_lat=v_order_lat,\n           order_lon=v_order_lon,\n           order_address=v_order_address,\n           product_id=v_product_id,\n           reserved_date=v_reserved_date,\n           reserved_hours=v_reserved_hours\n    WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_worker_user_id INTEGER;\n  DECLARE v_status_id INTEGER;\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_order_lat VARCHAR(20);\n  DECLARE v_order_lon VARCHAR(20);\n  DECLARE v_order_address VARCHAR(128);\n  DECLARE v_product_id INTEGER;\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_order_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,worker_user_id,order_status_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours\n  INTO v_customer_user_id,v_worker_user_id,v_status_id,v_total_price,v_order_lat,v_order_lon,v_order_address,v_product_id,v_reserved_date,v_reserved_hours\n  FROM order_job\n  WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_status_id=1) THEN\n\n    IF p_customer_user_id!=-1 AND v_user_type=1 THEN SET v_customer_user_id=p_customer_user_id; END IF;\n\n    IF p_worker_user_id!=-1 AND v_user_type=1 THEN SET v_worker_user_id=p_worker_user_id; END IF;\n    IF p_worker_user_id=-1 AND v_user_type=1 THEN SET v_worker_user_id=NULL; END IF;\n\n    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR \n                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)\n    THEN SET v_status_id=p_status_id; END IF;\n\n    IF p_total_price!=\'\' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;\n    IF p_order_lat!=\'\' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;\n    IF p_order_lon!=\'\' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;\n    IF p_order_address!=\'\' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;\n    IF p_product_id!=-1 AND v_user_type=1 THEN SET v_product_id=p_product_id; END IF;\n    IF p_reserved_date!=\'\' AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_date=p_reserved_date; END IF;\n    IF p_reserved_hours!=-1 AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_hours=p_reserved_hours; END IF;\n\n    UPDATE order_job SET\n           customer_user_id=v_customer_user_id,\n           worker_user_id=v_worker_user_id,\n           order_status_id=v_status_id,\n           total_price=v_total_price,\n           order_lat=v_order_lat,\n           order_lon=v_order_lon,\n           order_address=v_order_address,\n           product_id=v_product_id,\n           reserved_date=v_reserved_date,\n           reserved_hours=v_reserved_hours\n    WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_order_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_job\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_order_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_job_status','FUNCTION','update_order_job_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_order_id INTEGER,\n  p_status_id INTEGER','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_worker_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,worker_user_id,order_status_id INTO v_customer_user_id,v_worker_user_id,v_status_id FROM order_job WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_worker_user_id=v_user_inner_id AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN\n\n    UPDATE order_job SET order_status_id=p_status_id WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n  DECLARE v_transport_id INTEGER;\n  DECLARE v_status_id INTEGER;\n\n  DECLARE v_customer_user_id INTEGER;\n  DECLARE v_worker_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'error: code=-1 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT customer_user_id,worker_user_id,order_status_id INTO v_customer_user_id,v_worker_user_id,v_status_id FROM order_job WHERE id=p_order_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_worker_user_id=v_user_inner_id AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN\n\n    UPDATE order_job SET order_status_id=p_status_id WHERE id=p_order_id;\n    \n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'success: code=0 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_job_status\',CONCAT(\'error: code=-3 username=\',p_user,\' order_id=\',p_order_id,\' status_id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_order_status','FUNCTION','update_order_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM order_status\n  WHERE id=p_status_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE order_status SET name=v_name,\n                            language=v_language\n    WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM order_status\n  WHERE id=p_status_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE order_status SET name=v_name,\n                            language=v_language\n    WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_order_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_pickup_status','FUNCTION','update_pickup_status','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_status_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM order_status\n  WHERE id=p_status_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE pickup_status SET name=v_name,\n                             language=v_language\n    WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_status_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM order_status\n  WHERE id=p_status_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE pickup_status SET name=v_name,\n                             language=v_language\n    WHERE id=p_status_id;\n    \n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_status_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_pickup_status\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_status_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_prepaid_card_activity','FUNCTION','update_prepaid_card_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_prepaid_card_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE prepaid_card SET active=p_activity WHERE id=p_prepaid_card_id;\n\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_prepaid_card_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE prepaid_card SET active=p_activity WHERE id=p_prepaid_card_id;\n\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_prepaid_card_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_prepaid_card_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_prepaid_card_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product','FUNCTION','update_product','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_manufacture_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_code VARCHAR(32),\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_manufacture_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_price VARCHAR(16);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT manufacture_id,name,description,code,price INTO v_manufacture_id,v_name,v_description,v_code,v_price\n  FROM product\n  WHERE id=p_product_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_manufacture_id!=-1 THEN SET v_manufacture_id=p_manufacture_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_price!=\'\' THEN SET v_price=p_price; END IF;\n\n    UPDATE product SET manufacture_id=v_manufacture_id,\n                       name=v_name,\n                       description=v_description,\n                       code=v_code,\n                       price=v_price\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_manufacture_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_price VARCHAR(16);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT manufacture_id,name,description,code,price INTO v_manufacture_id,v_name,v_description,v_code,v_price\n  FROM product\n  WHERE id=p_product_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_manufacture_id!=-1 THEN SET v_manufacture_id=p_manufacture_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_price!=\'\' THEN SET v_price=p_price; END IF;\n\n    UPDATE product SET manufacture_id=v_manufacture_id,\n                       name=v_name,\n                       description=v_description,\n                       code=v_code,\n                       price=v_price\n    WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_discount','FUNCTION','update_product_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_discount_code VARCHAR(8)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_discount_code=\'\' THEN SET p_discount_code=NULL; END IF;\n\n    UPDATE product SET discount_code=p_discount_code WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_discount_code=\'\' THEN SET p_discount_code=NULL; END IF;\n\n    UPDATE product SET discount_code=p_discount_code WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_param','FUNCTION','update_product_param','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_param_id INTEGER,\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_value VARCHAR(64),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,value,language INTO v_parent_id,v_name,v_value,v_language\n  FROM product_param\n  WHERE id=p_param_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE product_param SET parent_id=v_parent_id,\n                             name=v_name,\n                             value=v_value,\n                             language=v_language\n    WHERE id=p_param_id;\n\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(64);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,value,language INTO v_parent_id,v_name,v_value,v_language\n  FROM product_param\n  WHERE id=p_param_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE product_param SET parent_id=v_parent_id,\n                             name=v_name,\n                             value=v_value,\n                             language=v_language\n    WHERE id=p_param_id;\n\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_param_part_picture','FUNCTION','update_product_param_part_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_param_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product_param_part SET picture=p_picture\n      WHERE product_id=p_product_id AND product_param_id=p_param_id;\n      CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product_param_part SET picture=p_picture\n      WHERE product_id=p_product_id AND product_param_id=p_param_id;\n      CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' param_id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_param_picture','FUNCTION','update_product_param_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_param_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product_param SET picture=p_picture\n      WHERE id=p_param_id;\n      CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_param_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product_param SET picture=p_picture\n      WHERE id=p_param_id;\n      CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_param_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_param_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_param_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_picture','FUNCTION','update_product_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product SET picture=p_picture\n      WHERE id=p_product_id;\n      CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE product SET picture=p_picture\n      WHERE id=p_product_id;\n      CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_review','FUNCTION','update_product_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_review_count INTEGER,\n  p_review_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE product SET review_count=p_review_count,\n                       review_value=p_review_value\n	WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE product SET review_count=p_review_count,\n                       review_value=p_review_value\n	WHERE id=p_product_id;\n\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_product_type','FUNCTION','update_product_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER,\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language\n  FROM product_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE product_type SET parent_id=v_parent_id,\n                            name=v_name,\n                            description=v_description,\n                            language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language\n  FROM product_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE product_type SET parent_id=v_parent_id,\n                            name=v_name,\n                            description=v_description,\n                            language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_product_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_project_activity','FUNCTION','update_project_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_schema_name VARCHAR(64),\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE project SET active=p_activity WHERE schema_name=p_schema_name;\n\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'success: code=0 username=\',p_user,\' schema_name=\',p_schema_name,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE project SET active=p_activity WHERE schema_name=p_schema_name;\n\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'success: code=0 username=\',p_user,\' schema_name=\',p_schema_name,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_project_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' schema_name=\',p_schema_name));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_purchase','FUNCTION','update_purchase','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_purchase_id INTEGER,\n  p_user_id INTEGER,\n  p_invoice_code VARCHAR(32),\n  p_invoice_date VARCHAR(20),\n  p_total_price VARCHAR(16),\n  p_total_tax VARCHAR(10),\n  p_order_id INTEGER,\n  p_order_date VARCHAR(20),\n  p_order_info VARCHAR(128),\n  p_delivery_id INTEGER,\n  p_delivery_code VARCHAR(32),\n  p_delivery_type_id INTEGER,\n  p_delivery_date VARCHAR(20),\n  p_delivery_price VARCHAR(16),\n  p_payment_date VARCHAR(20),\n  p_payment_info VARCHAR(128),\n  p_payment_amount VARCHAR(10)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(10);\n  DECLARE v_order_id INTEGER;\n  DECLARE v_order_date VARCHAR(20);\n  DECLARE v_order_info VARCHAR(128);\n  DECLARE v_delivery_id INTEGER;\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(128);\n  DECLARE v_payment_amount VARCHAR(10);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,invoice_code,invoice_date,total_price,total_tax,\n		 order_id,order_date,order_info,\n		 delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n		 payment_date,payment_info,payment_amount\n  INTO v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,\n       v_order_id,v_order_date,v_order_info,\n       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,\n       v_payment_date,v_payment_info,v_payment_amount\n  FROM purchase\n  WHERE id=p_purchase_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;\n    IF p_invoice_code!=\'\' THEN SET v_invoice_code=p_invoice_code; END IF;\n    IF p_invoice_date!=\'\' THEN SET v_invoice_date=p_invoice_date; END IF;\n    IF p_total_price!=\'\' THEN SET v_total_price=p_total_price; END IF;\n    IF p_total_tax!=\'\' THEN SET v_total_tax=p_total_tax; END IF;\n    IF p_order_id!=-1 THEN SET v_order_id=p_order_id; END IF;\n    IF p_order_date!=\'\' THEN SET v_order_date=p_order_date; END IF;\n    IF p_order_info!=\'\' THEN SET v_order_info=p_order_info; END IF;\n    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; END IF;\n    IF p_delivery_code!=\'\' THEN SET v_delivery_code=p_delivery_code; END IF;\n    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;\n    IF p_delivery_date!=\'\' THEN SET v_delivery_date=p_delivery_date; END IF;\n    IF p_delivery_price!=\'\' THEN SET v_delivery_price=p_delivery_price; END IF;\n    IF p_payment_date!=\'\' THEN SET v_payment_date=p_payment_date; END IF;\n    IF p_payment_info!=\'\' THEN SET v_payment_info=p_payment_info; END IF;\n    IF p_payment_amount!=\'\' THEN SET v_payment_amount=p_payment_amount; END IF;\n\n    UPDATE purchase SET\n           user_id=v_user_id,\n           invoice_code=v_invoice_code,\n           invoice_date=v_invoice_date,\n           total_price=v_total_price,\n           total_tax=v_total_tax,\n           order_id=v_order_id,\n           order_date=v_order_date,\n           order_info=v_order_info,\n           delivery_id=v_delivery_id,\n           delivery_code=v_delivery_code,\n           delivery_type_id=v_delivery_type_id,\n           delivery_date=v_delivery_date,\n           delivery_price=v_delivery_price,\n           payment_date=v_payment_date,\n           payment_info=v_payment_info,\n           payment_amount=v_payment_amount\n    WHERE id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(10);\n  DECLARE v_order_id INTEGER;\n  DECLARE v_order_date VARCHAR(20);\n  DECLARE v_order_info VARCHAR(128);\n  DECLARE v_delivery_id INTEGER;\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(128);\n  DECLARE v_payment_amount VARCHAR(10);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,invoice_code,invoice_date,total_price,total_tax,\n		 order_id,order_date,order_info,\n		 delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n		 payment_date,payment_info,payment_amount\n  INTO v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,\n       v_order_id,v_order_date,v_order_info,\n       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,\n       v_payment_date,v_payment_info,v_payment_amount\n  FROM purchase\n  WHERE id=p_purchase_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;\n    IF p_invoice_code!=\'\' THEN SET v_invoice_code=p_invoice_code; END IF;\n    IF p_invoice_date!=\'\' THEN SET v_invoice_date=p_invoice_date; END IF;\n    IF p_total_price!=\'\' THEN SET v_total_price=p_total_price; END IF;\n    IF p_total_tax!=\'\' THEN SET v_total_tax=p_total_tax; END IF;\n    IF p_order_id!=-1 THEN SET v_order_id=p_order_id; END IF;\n    IF p_order_date!=\'\' THEN SET v_order_date=p_order_date; END IF;\n    IF p_order_info!=\'\' THEN SET v_order_info=p_order_info; END IF;\n    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; END IF;\n    IF p_delivery_code!=\'\' THEN SET v_delivery_code=p_delivery_code; END IF;\n    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;\n    IF p_delivery_date!=\'\' THEN SET v_delivery_date=p_delivery_date; END IF;\n    IF p_delivery_price!=\'\' THEN SET v_delivery_price=p_delivery_price; END IF;\n    IF p_payment_date!=\'\' THEN SET v_payment_date=p_payment_date; END IF;\n    IF p_payment_info!=\'\' THEN SET v_payment_info=p_payment_info; END IF;\n    IF p_payment_amount!=\'\' THEN SET v_payment_amount=p_payment_amount; END IF;\n\n    UPDATE purchase SET\n           user_id=v_user_id,\n           invoice_code=v_invoice_code,\n           invoice_date=v_invoice_date,\n           total_price=v_total_price,\n           total_tax=v_total_tax,\n           order_id=v_order_id,\n           order_date=v_order_date,\n           order_info=v_order_info,\n           delivery_id=v_delivery_id,\n           delivery_code=v_delivery_code,\n           delivery_type_id=v_delivery_type_id,\n           delivery_date=v_delivery_date,\n           delivery_price=v_delivery_price,\n           payment_date=v_payment_date,\n           payment_info=v_payment_info,\n           payment_amount=v_payment_amount\n    WHERE id=p_purchase_id;\n    \n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_purchase_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_purchase\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_purchase_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_sensor','FUNCTION','update_sensor','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_user_id INTEGER,\n  p_name VARCHAR(32),\n  p_serial_number VARCHAR(64),\n  p_device_name VARCHAR(64),\n  p_phone VARCHAR(20)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,name,serial_number,device_name,phone\n  INTO v_user_id,v_name,v_serial_number,v_device_name,v_phone\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_serial_number!=\'\' THEN SET v_serial_number=p_serial_number; END IF;\n    IF p_device_name!=\'\' THEN SET v_device_name=p_device_name; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n\n    UPDATE sensor SET user_id=v_user_id,\n                      name=v_name,\n                      serial_number=v_serial_number,\n                      device_name=v_device_name,\n                      phone=v_phone\n    WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_serial_number VARCHAR(64);\n  DECLARE v_device_name VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id,name,serial_number,device_name,phone\n  INTO v_user_id,v_name,v_serial_number,v_device_name,v_phone\n  FROM sensor\n  WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_serial_number!=\'\' THEN SET v_serial_number=p_serial_number; END IF;\n    IF p_device_name!=\'\' THEN SET v_device_name=p_device_name; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n\n    UPDATE sensor SET user_id=v_user_id,\n                      name=v_name,\n                      serial_number=v_serial_number,\n                      device_name=v_device_name,\n                      phone=v_phone\n    WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_sensor\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_sensor_activity','FUNCTION','update_sensor_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_sensor_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    UPDATE sensor SET active=p_activity WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -1;\n  END IF;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    UPDATE sensor SET active=p_activity WHERE id=p_sensor_id;\n    \n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_sensor_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_sensor_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_sensor_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_sensor_group','FUNCTION','update_sensor_group','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_group_id INTEGER,\n  p_sensor_id INTEGER,\n  p_name VARCHAR(32),\n  p_start_date VARCHAR(20),\n  p_finish_date VARCHAR(20)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,name,start_date,finish_date\n  INTO v_sensor_id,v_name,v_start_date,v_finish_date\n  FROM sensor_group\n  WHERE id=p_group_id;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_start_date!=\'\' THEN SET v_start_date=p_start_date; END IF;\n    IF p_finish_date!=\'\' THEN SET v_finish_date=p_finish_date; END IF;\n\n    UPDATE sensor_group SET sensor_id=v_sensor_id,\n					         name=v_name,\n                             start_date=v_start_date,\n                             finish_date=v_finish_date\n    WHERE id=p_group_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_start_date VARCHAR(20);\n  DECLARE v_finish_date VARCHAR(20);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,name,start_date,finish_date\n  INTO v_sensor_id,v_name,v_start_date,v_finish_date\n  FROM sensor_group\n  WHERE id=p_group_id;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_start_date!=\'\' THEN SET v_start_date=p_start_date; END IF;\n    IF p_finish_date!=\'\' THEN SET v_finish_date=p_finish_date; END IF;\n\n    UPDATE sensor_group SET sensor_id=v_sensor_id,\n					         name=v_name,\n                             start_date=v_start_date,\n                             finish_date=v_finish_date\n    WHERE id=p_group_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_sensor_place','FUNCTION','update_sensor_place','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_place_id INTEGER,\n  p_sensor_id INTEGER,\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,latitude,longitude,name,description,language\n  INTO v_sensor_id,v_latitude,v_longitude,v_name,v_description,v_language\n  FROM sensor_place\n  WHERE id=p_place_id;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE sensor_place SET sensor_id=v_sensor_id,\n                            latitude=v_latitude,\n                            longitude=v_longitude,\n                            name=v_name,\n                            description=v_description,\n                            language=v_language\n    WHERE id=p_place_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,latitude,longitude,name,description,language\n  INTO v_sensor_id,v_latitude,v_longitude,v_name,v_description,v_language\n  FROM sensor_place\n  WHERE id=p_place_id;\n\n  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE sensor_place SET sensor_id=v_sensor_id,\n                            latitude=v_latitude,\n                            longitude=v_longitude,\n                            name=v_name,\n                            description=v_description,\n                            language=v_language\n    WHERE id=p_place_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_sensor_place_picture','FUNCTION','update_sensor_place_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_place_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE sensor_place SET picture=p_picture\n      WHERE id=p_place_id;\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE sensor_place SET picture=p_picture\n      WHERE id=p_place_id;\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_settings','FUNCTION','update_settings','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_code VARCHAR(32),\n  p_name VARCHAR(64),\n  p_value VARCHAR(64)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'error: code=-1 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE settings SET name=p_name,\n                        value=p_value\n    WHERE code=p_code;\n\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'error: code=-3 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-20 10:11:44','STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'error: code=-1 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE settings SET name=p_name,\n                        value=p_value\n    WHERE code=p_code;\n\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'success: code=0 username=\',p_user,\' settings_code=\',p_code,\' value=\',p_value));\n\n  ELSE\n    CALL add_audit(p_user,\'update_settings\',CONCAT(\'error: code=-3 username=\',p_user,\' settings_code=\',p_code));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_stock','FUNCTION','update_stock','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_product_id INTEGER,\n  p_store_id INTEGER,\n  p_count INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_count INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count INTO v_count\n  FROM stock\n  WHERE product_id=p_product_id AND store_id=p_store_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n\n    UPDATE stock SET count=v_count\n    WHERE product_id=p_product_id AND store_id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_count INTEGER;\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'error: code=-1 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  SELECT count INTO v_count\n  FROM stock\n  WHERE product_id=p_product_id AND store_id=p_store_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n\n    UPDATE stock SET count=v_count\n    WHERE product_id=p_product_id AND store_id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'success: code=0 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock\',CONCAT(\'error: code=-3 username=\',p_user,\' product_id=\',p_product_id,\' store_id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_stock_invoice','FUNCTION','update_stock_invoice','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_stock_invoice_id INTEGER,\n  p_invoice_code VARCHAR(32),\n  p_invoice_date VARCHAR(20),\n  p_total_price VARCHAR(16),\n  p_total_tax VARCHAR(10),\n  p_supplier VARCHAR(32),\n  p_phone VARCHAR(20),\n  p_delivery_id INTEGER,\n  p_delivery_code VARCHAR(32),\n  p_delivery_type_id INTEGER,\n  p_delivery_date VARCHAR(20),\n  p_delivery_price VARCHAR(16),\n  p_payment_date VARCHAR(20),\n  p_payment_info VARCHAR(32),\n  p_payment_amount VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(10);\n  DECLARE v_supplier VARCHAR(32);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_delivery_id INTEGER;\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(32);\n  DECLARE v_payment_amount VARCHAR(16);\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours VARCHAR(6);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -1;\n  END IF;\n\n  SELECT invoice_code,invoice_date,total_price,total_tax,supplier,phone,\n         delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n         payment_date,payment_info,payment_amount\n  INTO v_invoice_code,v_invoice_date,v_total_price,v_total_tax,v_supplier,v_phone,\n       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,\n       v_payment_date,v_payment_info,v_payment_amount\n  FROM stock_invoice\n  WHERE id=p_stock_invoice_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_invoice_code!=\'\' THEN SET v_invoice_code=p_invoice_code; END IF;\n    IF p_invoice_date!=\'\' THEN SET v_invoice_date=p_invoice_date; END IF;\n    IF p_total_price!=\'\' THEN SET v_total_price=p_total_price; END IF;\n    IF p_total_tax!=\'\' THEN SET v_total_tax=p_total_tax; END IF;\n    IF p_supplier!=\'\' THEN SET v_supplier=p_supplier; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; ELSE SET v_delivery_id=NULL; END IF;\n    IF p_delivery_code!=\'\' THEN SET v_delivery_code=p_delivery_code; END IF;\n    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; ELSE SET v_delivery_type_id=NULL; END IF;\n    IF p_delivery_date!=\'\' THEN SET v_delivery_date=p_delivery_date; END IF;\n    IF p_delivery_price!=\'\' THEN SET v_delivery_price=p_delivery_price; END IF;\n    IF p_payment_date!=\'\' THEN SET v_payment_date=p_payment_date; END IF;\n    IF p_payment_info!=\'\' THEN SET v_payment_info=p_payment_info; END IF;\n    IF p_payment_amount!=\'\' THEN SET v_payment_amount=p_payment_amount; END IF;\n\n    UPDATE stock_invoice SET\n           invoice_code=v_invoice_code,\n           invoice_date=v_invoice_date,\n           total_price=v_total_price,\n           total_tax=v_total_tax,\n           supplier=v_supplier,\n           phone=v_phone,\n           delivery_id=v_delivery_id,\n           delivery_code=v_delivery_code,\n           delivery_type_id=v_delivery_type_id,\n           delivery_date=v_delivery_date,\n           delivery_price=v_delivery_price,\n           payment_date=v_payment_date,\n           payment_info=v_payment_info,\n           payment_amount=v_payment_amount\n    WHERE id=p_stock_invoice_id;\n    \n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_stock_invoice_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_invoice_code VARCHAR(32);\n  DECLARE v_invoice_date VARCHAR(20);\n  DECLARE v_total_price VARCHAR(16);\n  DECLARE v_total_tax VARCHAR(10);\n  DECLARE v_supplier VARCHAR(32);\n  DECLARE v_phone VARCHAR(20);\n  DECLARE v_delivery_id INTEGER;\n  DECLARE v_delivery_code VARCHAR(32);\n  DECLARE v_delivery_type_id INTEGER;\n  DECLARE v_delivery_date VARCHAR(20);\n  DECLARE v_delivery_price VARCHAR(16);\n  DECLARE v_payment_date VARCHAR(20);\n  DECLARE v_payment_info VARCHAR(32);\n  DECLARE v_payment_amount VARCHAR(16);\n  DECLARE v_reserved_date VARCHAR(20);\n  DECLARE v_reserved_hours VARCHAR(6);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -1;\n  END IF;\n\n  SELECT invoice_code,invoice_date,total_price,total_tax,supplier,phone,\n         delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,\n         payment_date,payment_info,payment_amount\n  INTO v_invoice_code,v_invoice_date,v_total_price,v_total_tax,v_supplier,v_phone,\n       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,\n       v_payment_date,v_payment_info,v_payment_amount\n  FROM stock_invoice\n  WHERE id=p_stock_invoice_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_invoice_code!=\'\' THEN SET v_invoice_code=p_invoice_code; END IF;\n    IF p_invoice_date!=\'\' THEN SET v_invoice_date=p_invoice_date; END IF;\n    IF p_total_price!=\'\' THEN SET v_total_price=p_total_price; END IF;\n    IF p_total_tax!=\'\' THEN SET v_total_tax=p_total_tax; END IF;\n    IF p_supplier!=\'\' THEN SET v_supplier=p_supplier; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; ELSE SET v_delivery_id=NULL; END IF;\n    IF p_delivery_code!=\'\' THEN SET v_delivery_code=p_delivery_code; END IF;\n    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; ELSE SET v_delivery_type_id=NULL; END IF;\n    IF p_delivery_date!=\'\' THEN SET v_delivery_date=p_delivery_date; END IF;\n    IF p_delivery_price!=\'\' THEN SET v_delivery_price=p_delivery_price; END IF;\n    IF p_payment_date!=\'\' THEN SET v_payment_date=p_payment_date; END IF;\n    IF p_payment_info!=\'\' THEN SET v_payment_info=p_payment_info; END IF;\n    IF p_payment_amount!=\'\' THEN SET v_payment_amount=p_payment_amount; END IF;\n\n    UPDATE stock_invoice SET\n           invoice_code=v_invoice_code,\n           invoice_date=v_invoice_date,\n           total_price=v_total_price,\n           total_tax=v_total_tax,\n           supplier=v_supplier,\n           phone=v_phone,\n           delivery_id=v_delivery_id,\n           delivery_code=v_delivery_code,\n           delivery_type_id=v_delivery_type_id,\n           delivery_date=v_delivery_date,\n           delivery_price=v_delivery_price,\n           payment_date=v_payment_date,\n           payment_info=v_payment_info,\n           payment_amount=v_payment_amount\n    WHERE id=p_stock_invoice_id;\n    \n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_stock_invoice_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock_invoice\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_stock_invoice_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_stock_invoice_part','FUNCTION','update_stock_invoice_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_stock_invoice_id INTEGER,\n  p_product_id INTEGER,\n  p_tax_id INTEGER,\n  p_count INTEGER,\n  p_price VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_tax_id INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT tax_id,count,price INTO v_tax_id,v_count,v_price\n  FROM stock_invoice_part\n  WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_tax_id!=-1 THEN SET v_tax_id=p_tax_id; ELSE SET v_tax_id=NULL; END IF;\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    IF p_price!=\'\' THEN SET v_price=p_price; END IF;\n\n    UPDATE stock_invoice_part SET tax_id=v_tax_id,\n                                  count=v_count,\n                                  price=v_price\n    WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n    \n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_tax_id INTEGER;\n  DECLARE v_count INTEGER;\n  DECLARE v_price VARCHAR(16);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'error: code=-1 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n    RETURN -1;\n  END IF;\n\n  SELECT tax_id,count,price INTO v_tax_id,v_count,v_price\n  FROM stock_invoice_part\n  WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_tax_id!=-1 THEN SET v_tax_id=p_tax_id; ELSE SET v_tax_id=NULL; END IF;\n    IF p_count!=-1 THEN SET v_count=p_count; END IF;\n    IF p_price!=\'\' THEN SET v_price=p_price; END IF;\n\n    UPDATE stock_invoice_part SET tax_id=v_tax_id,\n                                  count=v_count,\n                                  price=v_price\n    WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;\n\n    -- UPDATE STOCK_INVOICE IN total_price,total_tax\n    -- UPDATE STOCK IN count\n    \n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'success: code=0 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_stock_invoice_part\',CONCAT(\'error: code=-3 username=\',p_user,\' stock_invoice_id=\',p_stock_invoice_id,\' product_id=\',p_product_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_store','FUNCTION','update_store','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_store_id INTEGER,\n  p_name VARCHAR(128),\n  p_description VARCHAR(128)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(128);\n  DECLARE v_description VARCHAR(128);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description INTO v_name,v_description\n  FROM store\n  WHERE id=p_store_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n\n    UPDATE store SET name=v_name,\n                     description=v_description\n    WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(128);\n  DECLARE v_description VARCHAR(128);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,description INTO v_name,v_description\n  FROM store\n  WHERE id=p_store_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n\n    UPDATE store SET name=v_name,\n                     description=v_description\n    WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_store\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_store_activity','FUNCTION','update_store_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_store_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE store SET active=p_activity WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE store SET active=p_activity WHERE id=p_store_id;\n    \n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_store_part','FUNCTION','update_store_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER,\n  p_store_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_latitude VARCHAR(20),\n  p_longitude VARCHAR(20),\n  p_email VARCHAR(64),\n  p_phone1 VARCHAR(20),\n  p_phone2 VARCHAR(20),\n  p_address VARCHAR(128),\n  p_city VARCHAR(64),\n  p_postcode VARCHAR(12),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_store_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone1 VARCHAR(20);\n  DECLARE v_phone2 VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n  DECLARE v_city VARCHAR(64);\n  DECLARE v_postcode VARCHAR(12);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  SELECT store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language\n  INTO v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode,v_language\n  FROM store_part\n  WHERE id=p_part_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_store_id!=-1 THEN SET v_store_id=p_store_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_email!=\'\' THEN SET v_email=p_email; END IF;\n    IF p_phone1!=\'\' THEN SET v_phone1=p_phone1; END IF;\n    IF p_phone2!=\'\' THEN SET v_phone2=p_phone2; END IF;\n    IF p_address!=\'\' THEN SET v_address=p_address; END IF;\n    IF p_city!=\'\' THEN SET v_city=p_city; END IF;\n    IF p_postcode!=\'\' THEN SET v_postcode=p_postcode; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE store_part SET store_id=v_store_id,\n                          name=v_name,\n                          description=v_description,\n                          latitude=v_latitude,\n                          longitude=v_longitude,\n                          email=v_email,\n                          phone1=v_phone1,\n                          phone2=v_phone2,\n                          address=v_address,\n                          city=v_city,\n                          postcode=v_postcode,\n                          language=v_language\n    WHERE id=p_part_id;\n    \n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_store_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_latitude VARCHAR(20);\n  DECLARE v_longitude VARCHAR(20);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone1 VARCHAR(20);\n  DECLARE v_phone2 VARCHAR(20);\n  DECLARE v_address VARCHAR(128);\n  DECLARE v_city VARCHAR(64);\n  DECLARE v_postcode VARCHAR(12);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  SELECT store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language\n  INTO v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode,v_language\n  FROM store_part\n  WHERE id=p_part_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_store_id!=-1 THEN SET v_store_id=p_store_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_latitude!=\'\' THEN SET v_latitude=p_latitude; END IF;\n    IF p_longitude!=\'\' THEN SET v_longitude=p_longitude; END IF;\n    IF p_email!=\'\' THEN SET v_email=p_email; END IF;\n    IF p_phone1!=\'\' THEN SET v_phone1=p_phone1; END IF;\n    IF p_phone2!=\'\' THEN SET v_phone2=p_phone2; END IF;\n    IF p_address!=\'\' THEN SET v_address=p_address; END IF;\n    IF p_city!=\'\' THEN SET v_city=p_city; END IF;\n    IF p_postcode!=\'\' THEN SET v_postcode=p_postcode; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE store_part SET store_id=v_store_id,\n                          name=v_name,\n                          description=v_description,\n                          latitude=v_latitude,\n                          longitude=v_longitude,\n                          email=v_email,\n                          phone1=v_phone1,\n                          phone2=v_phone2,\n                          address=v_address,\n                          city=v_city,\n                          postcode=v_postcode,\n                          language=v_language\n    WHERE id=p_part_id;\n    \n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_part\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_store_part_picture','FUNCTION','update_store_part_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE store_part SET picture=p_picture WHERE id=p_part_id;\n      CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_part_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE store_part SET picture=p_picture WHERE id=p_part_id;\n      CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_part_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_part_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_part_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_store_picture','FUNCTION','update_store_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_store_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE store SET picture=p_picture WHERE id=p_store_id;\n      CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_store_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE store SET picture=p_picture WHERE id=p_store_id;\n      CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_store_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_store_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_store_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_tax','FUNCTION','update_tax','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),  \n  p_tax_id INTEGER,\n  p_code VARCHAR(32),\n  p_name VARCHAR(32),\n  p_value VARCHAR(10),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -1;\n  END IF;\n\n  SELECT code,name,value,language INTO v_code,v_name,v_value,v_language\n  FROM tax\n  WHERE id=p_tax_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE tax SET code=v_code,\n                   name=v_name,\n                   value=v_value,\n                   language=v_language\n    WHERE id=p_tax_id;\n    \n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_tax_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_code VARCHAR(32);\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_value VARCHAR(10);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -1;\n  END IF;\n\n  SELECT code,name,value,language INTO v_code,v_name,v_value,v_language\n  FROM tax\n  WHERE id=p_tax_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_code!=\'\' THEN SET v_code=p_code; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_value!=\'\' THEN SET v_value=p_value; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE tax SET code=v_code,\n                   name=v_name,\n                   value=v_value,\n                   language=v_language\n    WHERE id=p_tax_id;\n    \n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_tax_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_tax\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_tax_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_track_part','FUNCTION','update_track_part','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER,\n  p_track_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  DECLARE v_track_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id,name,description,language\n  INTO v_track_id,v_name,v_description,v_language\n  FROM track_part\n  WHERE id=p_part_id;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_track_id!=-1 AND v_user_type=1 THEN SET v_track_id=p_track_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE track_part SET track_id=v_track_id,\n                          name=v_name,\n                          description=v_description,\n                          language=v_language\n    WHERE id=p_part_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  DECLARE v_track_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id,name,description,language\n  INTO v_track_id,v_name,v_description,v_language\n  FROM track_part\n  WHERE id=p_part_id;\n\n  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_track_id!=-1 AND v_user_type=1 THEN SET v_track_id=p_track_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE track_part SET track_id=v_track_id,\n                          name=v_name,\n                          description=v_description,\n                          language=v_language\n    WHERE id=p_part_id;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_track_part_picture','FUNCTION','update_track_part_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_part_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_track_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;\n\n  IF v_track_id IS NOT NULL THEN\n    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n    IF v_sensor_id IS NOT NULL THEN\n      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE track_part SET picture=p_picture\n      WHERE id=p_part_id;\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:31','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_track_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    RETURN -1;\n  END IF;\n\n  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;\n\n  IF v_track_id IS NOT NULL THEN\n    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;\n    IF v_sensor_id IS NOT NULL THEN\n      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n    END IF;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE track_part SET picture=p_picture\n      WHERE id=p_part_id;\n    END IF;\n\n  ELSE\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_track_type','FUNCTION','update_track_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER,\n  p_name VARCHAR(32),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM track_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE track_type SET name=v_name,\n                          language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT name,language INTO v_name,v_language\n  FROM track_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE track_type SET name=v_name,\n                          language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_track_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_transport','FUNCTION','update_transport','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_sensor_id INTEGER,\n  p_name VARCHAR(128),\n  p_color VARCHAR(16),\n  p_license_plate VARCHAR(12)','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_name VARCHAR(128);\n  DECLARE v_color VARCHAR(16);\n  DECLARE v_license_plate VARCHAR(12);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,name,color,license_plate INTO v_sensor_id,v_name,v_color,v_license_plate\n  FROM transport\n  WHERE id=p_transport_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_color!=\'\' THEN SET v_color=p_color; END IF;\n    IF p_license_plate!=\'\' THEN SET v_license_plate=p_license_plate; END IF;\n\n    UPDATE transport SET sensor_id=v_sensor_id,\n                         name=v_name,\n                         color=v_color,\n                         license_plate=v_license_plate\n    WHERE id=p_transport_id;\n    \n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n  DECLARE v_name VARCHAR(128);\n  DECLARE v_color VARCHAR(16);\n  DECLARE v_license_plate VARCHAR(12);\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id,name,color,license_plate INTO v_sensor_id,v_name,v_color,v_license_plate\n  FROM transport\n  WHERE id=p_transport_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF p_sensor_id!=-1 THEN SET v_sensor_id=p_sensor_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_color!=\'\' THEN SET v_color=p_color; END IF;\n    IF p_license_plate!=\'\' THEN SET v_license_plate=p_license_plate; END IF;\n\n    UPDATE transport SET sensor_id=v_sensor_id,\n                         name=v_name,\n                         color=v_color,\n                         license_plate=v_license_plate\n    WHERE id=p_transport_id;\n    \n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_transport_picture','FUNCTION','update_transport_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM transport\n  WHERE id=p_transport_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE transport SET picture=p_picture\n      WHERE id=p_transport_id;\n      CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_inner_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_user_id INTEGER;\n  DECLARE v_sensor_id INTEGER;\n\n  SELECT id,type INTO v_user_inner_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  SELECT sensor_id INTO v_sensor_id\n  FROM transport\n  WHERE id=p_transport_id;\n\n  IF v_sensor_id IS NOT NULL THEN\n    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE transport SET picture=p_picture\n      WHERE id=p_transport_id;\n      CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id));\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_transport_review','FUNCTION','update_transport_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_transport_id INTEGER,\n  p_review_count INTEGER,\n  p_review_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE transport SET review_count=p_review_count,\n                         review_value=p_review_value\n	WHERE id=p_transport_id;\n\n   CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id,\' count=\',p_review_count,\' value=\',p_review_value));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE transport SET review_count=p_review_count,\n                         review_value=p_review_value\n	WHERE id=p_transport_id;\n\n   CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_transport_id,\' count=\',p_review_count,\' value=\',p_review_value));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_transport_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_transport_type','FUNCTION','update_transport_type','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_type_id INTEGER,\n  p_parent_id INTEGER,\n  p_name VARCHAR(32),\n  p_description VARCHAR(128),\n  p_language VARCHAR(32)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language\n  FROM transport_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE transport_type SET parent_id=v_parent_id,\n                              name=v_name,\n                              description=v_description,\n                              language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_parent_id INTEGER;\n  DECLARE v_name VARCHAR(32);\n  DECLARE v_description VARCHAR(128);\n  DECLARE v_language VARCHAR(32);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_type_id));\n    RETURN -1;\n  END IF;\n\n  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language\n  FROM transport_type\n  WHERE id=p_type_id;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;\n    IF p_name!=\'\' THEN SET v_name=p_name; END IF;\n    IF p_description!=\'\' THEN SET v_description=p_description; END IF;\n    IF p_language!=\'\' THEN SET v_language=p_language; END IF;\n\n    UPDATE transport_type SET parent_id=v_parent_id,\n                              name=v_name,\n                              description=v_description,\n                              language=v_language\n    WHERE id=p_type_id;\n    \n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_type_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_transport_type\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_type_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user','FUNCTION','update_user','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_type INTEGER,\n  p_first_name VARCHAR(32),\n  p_last_name VARCHAR(32),\n  p_call_name VARCHAR(32),\n  p_email VARCHAR(64),\n  p_phone VARCHAR(20)','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_type INTEGER;\n  DECLARE v_first_name VARCHAR(32);\n  DECLARE v_last_name VARCHAR(32);\n  DECLARE v_call_name VARCHAR(32);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  IF v_user_type=1 THEN\n    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone\n    FROM user\n    WHERE id=p_user_id;\n  ELSE\n    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone\n    FROM user\n    WHERE username=p_user AND password=p_pass;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=p_user_id) THEN\n\n    IF p_type!=-1 AND v_user_type=1 THEN SET v_type=p_type; END IF;\n\n    IF p_first_name!=\'\' THEN SET v_first_name=p_first_name; END IF;\n    IF p_last_name!=\'\' THEN SET v_last_name=p_last_name; END IF;\n    IF p_call_name!=\'\' THEN SET v_call_name=p_call_name; END IF;\n    IF p_email!=\'\' THEN SET v_email=p_email; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n\n    UPDATE user SET type=v_type,\n                    first_name=v_first_name,\n                    last_name=v_last_name,\n                    call_name=v_call_name,\n                    email=v_email,\n                    phone=v_phone\n    WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  DECLARE v_type INTEGER;\n  DECLARE v_first_name VARCHAR(32);\n  DECLARE v_last_name VARCHAR(32);\n  DECLARE v_call_name VARCHAR(32);\n  DECLARE v_email VARCHAR(64);\n  DECLARE v_phone VARCHAR(20);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  IF v_user_type=1 THEN\n    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone\n    FROM user\n    WHERE id=p_user_id;\n  ELSE\n    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone\n    FROM user\n    WHERE username=p_user AND password=p_pass;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=p_user_id) THEN\n\n    IF p_type!=-1 AND v_user_type=1 THEN SET v_type=p_type; END IF;\n\n    IF p_first_name!=\'\' THEN SET v_first_name=p_first_name; END IF;\n    IF p_last_name!=\'\' THEN SET v_last_name=p_last_name; END IF;\n    IF p_call_name!=\'\' THEN SET v_call_name=p_call_name; END IF;\n    IF p_email!=\'\' THEN SET v_email=p_email; END IF;\n    IF p_phone!=\'\' THEN SET v_phone=p_phone; END IF;\n\n    UPDATE user SET type=v_type,\n                    first_name=v_first_name,\n                    last_name=v_last_name,\n                    call_name=v_call_name,\n                    email=v_email,\n                    phone=v_phone\n    WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_activity','FUNCTION','update_user_activity','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_activity TINYINT(1)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE user SET active=p_activity WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE user SET active=p_activity WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id,\' active=\',p_activity));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_activity\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_discount','FUNCTION','update_user_discount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_discount_code VARCHAR(8)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_discount_code=\'\' THEN SET p_discount_code=NULL; END IF;\n\n    UPDATE user SET discount_code=p_discount_code WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_discount_code=\'\' THEN SET p_discount_code=NULL; END IF;\n\n    UPDATE user SET discount_code=p_discount_code WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_discount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_password','FUNCTION','update_user_password','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_password_for_update VARCHAR(16)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF (v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n      v_user=\'fa_client@localhost\') AND p_password_for_update!=\'\' THEN\n    UPDATE user SET password=p_password_for_update\n    WHERE username=p_user;\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'success: code=0 username=\',p_user));\n  ELSE\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'error: code=-1 username=\',p_user));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF (v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n      v_user=\'fa_client@localhost\') AND p_password_for_update!=\'\' THEN\n    UPDATE user SET password=p_password_for_update\n    WHERE username=p_user;\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'success: code=0 username=\',p_user));\n  ELSE\n    CALL add_audit(p_user,\'update_user_password\',CONCAT(\'error: code=-3 username=\',p_user));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_picture','FUNCTION','update_user_picture','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_picture MEDIUMBLOB','int(11)','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=p_user_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE user SET picture=p_picture\n      WHERE id=p_user_id;\n\n      CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_id INTEGER;\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT id,type INTO v_user_id,v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) OR\n     (v_user=\'fa_client@localhost\' AND v_user_id=p_user_id) THEN\n\n    IF p_picture IS NOT NULL THEN\n      UPDATE user SET picture=p_picture\n      WHERE id=p_user_id;\n\n      CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n    END IF;\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_picture\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_prepaid_amount','FUNCTION','update_user_prepaid_amount','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_user_id INTEGER,\n  p_prepaid_amount VARCHAR(8)','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_prepaid_amount=\'\' THEN SET p_prepaid_amount=NULL; END IF;\n\n    UPDATE user SET prepaid_amount=p_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    IF p_prepaid_amount=\'\' THEN SET p_prepaid_amount=NULL; END IF;\n\n    UPDATE user SET prepaid_amount=p_prepaid_amount WHERE id=p_user_id;\n\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_prepaid_amount\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND'),('247_car_rental','update_user_prepaid_amount_by_fee_value','PROCEDURE','update_user_prepaid_amount_by_fee_value','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_user_id INTEGER,\n  p_is_increase BOOLEAN,\n  v_user_fee_value DECIMAL(6,2),\n  v_user_fee_percent DECIMAL(6,2),\n  v_total_price DECIMAL(6,2),\n  p_keyword VARCHAR(8)','','BEGIN\n  IF p_keyword=\'E2E4F117\' AND p_user_id IS NOT NULL AND (p_user_fee_value IS NOT NULL OR p_user_fee_percent IS NOT NULL) THEN\n\n    IF p_user_fee_value IS NOT NULL AND (p_total_price IS NULL OR p_user_fee_percent IS NULL) THEN\n	  IF p_is_increase THEN\n		UPDATE user SET prepaid_amount=prepaid_amount+p_user_fee_value WHERE id=p_user_id;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' +\',p_user_fee_value));\n	  ELSE\n		UPDATE user SET prepaid_amount=prepaid_amount-p_user_fee_value WHERE id=p_user_id;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' -\',p_user_fee_value));\n	  END IF;\n	END IF;\n\n	IF v_user_fee_percent IS NOT NULL AND p_total_price IS NOT NULL THEN\n	  IF p_is_increase THEN\n		UPDATE user SET prepaid_amount=prepaid_amount+(p_total_price*p_user_fee_percent)/100;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' +\',p_user_fee_percent,\'%\'));\n	  ELSE\n        UPDATE user SET prepaid_amount=prepaid_amount-(p_total_price*p_user_fee_percent)/100;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' -\',v_user_fee_percent,\'%\'));\n	  END IF;\n	END IF;\n      \n  END IF;\n\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  IF p_keyword=\'E2E4F117\' AND p_user_id IS NOT NULL AND (p_user_fee_value IS NOT NULL OR p_user_fee_percent IS NOT NULL) THEN\n\n    IF p_user_fee_value IS NOT NULL AND (p_total_price IS NULL OR p_user_fee_percent IS NULL) THEN\n	  IF p_is_increase THEN\n		UPDATE user SET prepaid_amount=prepaid_amount+p_user_fee_value WHERE id=p_user_id;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' +\',p_user_fee_value));\n	  ELSE\n		UPDATE user SET prepaid_amount=prepaid_amount-p_user_fee_value WHERE id=p_user_id;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' -\',p_user_fee_value));\n	  END IF;\n	END IF;\n\n	IF v_user_fee_percent IS NOT NULL AND p_total_price IS NOT NULL THEN\n	  IF p_is_increase THEN\n		UPDATE user SET prepaid_amount=prepaid_amount+(p_total_price*p_user_fee_percent)/100;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' +\',p_user_fee_percent,\'%\'));\n	  ELSE\n        UPDATE user SET prepaid_amount=prepaid_amount-(p_total_price*p_user_fee_percent)/100;\n		CALL add_audit(p_user,\'update_user_prepaid_amount_by_fee_value\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',p_user_id,\' -\',v_user_fee_percent,\'%\'));\n	  END IF;\n	END IF;\n      \n  END IF;\n\nEND'),('247_car_rental','update_user_prepaid_amount_by_order_AB','PROCEDURE','update_user_prepaid_amount_by_order_AB','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_order_id INTEGER,\n  p_transport_id INTEGER,\n  p_is_increase BOOLEAN,\n  p_keyword VARCHAR(8)','','BEGIN\n  DECLARE v_driver_id INTEGER;\n\n  DECLARE v_driver_fee_value DECIMAL(6,2);\n  DECLARE v_driver_fee_percent DECIMAL(6,2);\n  DECLARE v_total_price DECIMAL(6,2);\n\n  SELECT value INTO v_driver_fee_value FROM tax WHERE code=\'driver_fee_value\';\n  SELECT value INTO v_driver_fee_percent FROM tax WHERE code=\'driver_fee_percent\';\n\n  IF p_keyword=\'E2E4F117\' AND (v_driver_fee_value IS NOT NULL OR v_driver_fee_percent IS NOT NULL) THEN\n\n    SELECT u.id INTO v_driver_id\n    FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id\n    WHERE t.id=p_transport_id;\n\n	IF v_driver_id IS NOT NULL THEN\n\n      SELECT total_price INTO v_total_price FROM order_AB WHERE id=p_order_id;\n\n	  IF v_driver_fee_value IS NOT NULL AND (v_total_price IS NULL OR v_driver_fee_percent IS NULL) THEN\n        IF p_is_increase THEN\n          UPDATE user SET prepaid_amount=prepaid_amount+v_driver_fee_value WHERE id=v_driver_id;\n          CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' +\',v_driver_fee_value));\n	    ELSE\n          UPDATE user SET prepaid_amount=prepaid_amount-v_driver_fee_value WHERE id=v_driver_id;\n          CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' -\',v_driver_fee_value));\n        END IF;\n      END IF;\n\n      IF v_driver_fee_percent IS NOT NULL AND v_total_price IS NOT NULL THEN\n		IF p_is_increase THEN\n		  UPDATE user SET prepaid_amount=prepaid_amount+(v_total_price*v_driver_fee_percent)/100;\n		  CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' +\',v_driver_fee_percent,\'%\'));\n		ELSE\n		  UPDATE user SET prepaid_amount=prepaid_amount-(v_total_price*v_driver_fee_percent)/100;\n		  CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' -\',v_driver_fee_percent,\'%\'));\n		END IF;\n      END IF;\n\n    END IF;\n  END IF;\n\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_driver_id INTEGER;\n\n  DECLARE v_driver_fee_value DECIMAL(6,2);\n  DECLARE v_driver_fee_percent DECIMAL(6,2);\n  DECLARE v_total_price DECIMAL(6,2);\n\n  SELECT value INTO v_driver_fee_value FROM tax WHERE code=\'driver_fee_value\';\n  SELECT value INTO v_driver_fee_percent FROM tax WHERE code=\'driver_fee_percent\';\n\n  IF p_keyword=\'E2E4F117\' AND (v_driver_fee_value IS NOT NULL OR v_driver_fee_percent IS NOT NULL) THEN\n\n    SELECT u.id INTO v_driver_id\n    FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id\n    WHERE t.id=p_transport_id;\n\n	IF v_driver_id IS NOT NULL THEN\n\n      SELECT total_price INTO v_total_price FROM order_AB WHERE id=p_order_id;\n\n	  IF v_driver_fee_value IS NOT NULL AND (v_total_price IS NULL OR v_driver_fee_percent IS NULL) THEN\n        IF p_is_increase THEN\n          UPDATE user SET prepaid_amount=prepaid_amount+v_driver_fee_value WHERE id=v_driver_id;\n          CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' +\',v_driver_fee_value));\n	    ELSE\n          UPDATE user SET prepaid_amount=prepaid_amount-v_driver_fee_value WHERE id=v_driver_id;\n          CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' -\',v_driver_fee_value));\n        END IF;\n      END IF;\n\n      IF v_driver_fee_percent IS NOT NULL AND v_total_price IS NOT NULL THEN\n		IF p_is_increase THEN\n		  UPDATE user SET prepaid_amount=prepaid_amount+(v_total_price*v_driver_fee_percent)/100;\n		  CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' +\',v_driver_fee_percent,\'%\'));\n		ELSE\n		  UPDATE user SET prepaid_amount=prepaid_amount-(v_total_price*v_driver_fee_percent)/100;\n		  CALL add_audit(p_user,\'update_user_prepaid_amount_by_order_AB\',CONCAT(\'success: code=0 username=\',p_user,\' user_id=\',v_driver_id,\' order_id=\',p_order_id,\' -\',v_driver_fee_percent,\'%\'));\n		END IF;\n      END IF;\n\n    END IF;\n  END IF;\n\nEND'),('247_car_rental','update_user_review','FUNCTION','update_user_review','SQL','CONTAINS_SQL','NO','DEFINER','\n  p_user VARCHAR(64),\n  p_pass VARCHAR(16),\n  p_review_user_id INTEGER,\n  p_review_count INTEGER,\n  p_review_value INTEGER','int(11)','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE user SET review_count=p_review_count,\n                    review_value=p_review_value\n	WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND','root@%','2018-01-12 11:03:04','2017-10-17 09:25:30','STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION','','utf8','utf8_general_ci','utf8_general_ci','BEGIN\n  DECLARE v_user_type INTEGER;\n  DECLARE v_user VARCHAR(64);\n\n  SELECT type INTO v_user_type\n  FROM user\n  WHERE username=p_user AND password=p_pass;\n\n  IF v_user_type IS NULL THEN\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'error: code=-1 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -1;\n  END IF;\n\n  #SELECT SUBSTRING_INDEX(USER(),\"@\",1);\n  SELECT user() INTO v_user;\n\n  IF v_user=\'root@localhost\' OR v_user=\'fa_admin@localhost\' OR\n     (v_user=\'fa_client@localhost\' AND v_user_type=1) THEN\n\n    UPDATE user SET review_count=p_review_count,\n                    review_value=p_review_value\n	WHERE id=p_review_user_id;\n\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'success: code=0 username=\',p_user,\' id=\',p_review_user_id));\n\n  ELSE\n    CALL add_audit(p_user,\'update_user_review\',CONCAT(\'error: code=-3 username=\',p_user,\' id=\',p_review_user_id));\n    RETURN -3;\n  END IF;\n\n  RETURN 0;\nEND');
/*!40000 ALTER TABLE `temp_proc` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `track`
--

DROP TABLE IF EXISTS `track`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `track` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `sensor_id` mediumint(8) unsigned NOT NULL,
  `track_type_id` smallint(6) NOT NULL DEFAULT '1',
  `latitude` double NOT NULL,
  `longitude` double NOT NULL,
  `time` int(11) DEFAULT NULL,
  `altitude` double DEFAULT NULL,
  `accuracy` double DEFAULT NULL,
  `bearing` double DEFAULT NULL,
  `speed` double DEFAULT NULL,
  `satellites` tinyint(4) DEFAULT NULL,
  `battery` tinyint(4) DEFAULT NULL,
  `timezone_offset` smallint(6) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_sensor_id` (`sensor_id`),
  KEY `idx_time` (`time`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_sensor_id` (`sensor_id`),
  KEY `idx_fk_track_type_id` (`track_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `track`
--

LOCK TABLES `track` WRITE;
/*!40000 ALTER TABLE `track` DISABLE KEYS */;
/*!40000 ALTER TABLE `track` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`track_before_insert` BEFORE INSERT ON `247_car_rental`.`track` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `track_part`
--

DROP TABLE IF EXISTS `track_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `track_part` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `track_id` int(10) unsigned NOT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `language` varchar(32) DEFAULT NULL,
  `picture` mediumblob,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_track_id` (`track_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `track_part`
--

LOCK TABLES `track_part` WRITE;
/*!40000 ALTER TABLE `track_part` DISABLE KEYS */;
/*!40000 ALTER TABLE `track_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `track_type`
--

DROP TABLE IF EXISTS `track_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `track_type` (
  `id` smallint(6) NOT NULL,
  `name` varchar(32) NOT NULL,
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `track_type`
--

LOCK TABLES `track_type` WRITE;
/*!40000 ALTER TABLE `track_type` DISABLE KEYS */;
INSERT INTO `track_type` VALUES (-3,'Call a tow truck',NULL,'2017-10-17 09:25:42'),(-2,'Dangerous area',NULL,'2017-10-17 09:25:42'),(-1,'Help me',NULL,'2017-10-17 09:25:42'),(0,'Unknown type',NULL,'2017-10-17 09:25:42'),(1,'Traffic',NULL,'2017-10-17 09:25:42'),(2,'Location',NULL,'2017-10-17 09:25:42'),(3,'Car location',NULL,'2017-10-17 09:25:42'),(4,'Favorite place',NULL,'2017-10-17 09:25:42'),(5,'Historical place',NULL,'2017-10-17 09:25:42'),(6,'Return point',NULL,'2017-10-17 09:25:42'),(7,'Meeting place',NULL,'2017-10-17 09:25:42'),(8,'Rest place',NULL,'2017-10-17 09:25:42'),(9,'Beautiful scenery',NULL,'2017-10-17 09:25:42'),(10,'Place finds',NULL,'2017-10-17 09:25:42'),(11,'Purchase place',NULL,'2017-10-17 09:25:42'),(12,'Observation place',NULL,'2017-10-17 09:25:42'),(13,'Food place',NULL,'2017-10-17 09:25:42'),(14,'Sport place',NULL,'2017-10-17 09:25:42');
/*!40000 ALTER TABLE `track_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transport`
--

DROP TABLE IF EXISTS `transport`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transport` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `sensor_id` mediumint(8) unsigned DEFAULT NULL,
  `name` varchar(128) NOT NULL,
  `color` varchar(32) DEFAULT NULL,
  `license_plate` varchar(12) DEFAULT NULL,
  `picture` mediumblob,
  `review_count` int(10) unsigned DEFAULT '0',
  `review_value` int(10) unsigned DEFAULT '0',
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_sensor_id` (`sensor_id`),
  KEY `idx_name` (`name`),
  KEY `idx_license_plate` (`license_plate`),
  KEY `idx_fk_sensor_id` (`sensor_id`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transport`
--

LOCK TABLES `transport` WRITE;
/*!40000 ALTER TABLE `transport` DISABLE KEYS */;
INSERT INTO `transport` VALUES (1,NULL,'TOYOTA YARIS','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(2,NULL,'NISSAN TIIDA','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(3,NULL,'NISSAN MICRA','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(4,NULL,'NISSAN SUNNY','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(5,NULL,'TOYOTA YARIS SEDAN SE','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(6,NULL,'KIA RIO','White','DU11BAI','/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCACWAPADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAAAAYDBAUHAgEI/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAEDAv/aAAwDAQACEAMQAAAB6oAAAAAAAAAAAB8+Ho8fCQjCQ8Vy2fPoAAAAAAAAAAAAfFAaF9IZpLFdj5ZTYIraXve1y0frqDcpioatiFrRWH8gZMVIOsGNsqAAAAAABRWucDJtJnSpN+ZOy7WfklnFk3MOOM6QoZvRqoYVdlsytC/UTG24ddfeYxaa4DTRtl6wvsE6AEDLrmpTrebPVab4VYr4ZUG59F75tLxJDY2CtzbrKsc5dt7MPrTqeylLFEaPvL8mj9+UzQvYWzE1G9iKma/P1s7vS5Fqp1M5BRO2eOKMavMKnpm/k4TpnoWJ/euXi6sXRk9x1i1Qhrk0Py0VpNL2VuH9DzIp9h4j3JfebMjo3Lu76pQrvUhze6/ehTv7wJ2pqZxZkLJWRXjhxUj6EsS9P0El4shvQ0Tdqr0Bt1MnHItjn3SJbj2oN5F+eP0YjnO9GxnJsXUumdLn5LGdJUMO0sZc0R4Z13RsXleTOlcItDKI2hCgsd6SL8h28qd1WLBs7BzVsdGEynEA8mOLaI84phaEVQ2p1eMeZ+e+U6DUSPg2ZeQLmMGD8Oj5VOqZ1lmZBC0ul7BzzfZwq2gAAAAAD59COOwFGDVDDhYgV4W4E745Ak+XgFXa0A+fQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAAtEAABBQACAQMDBAAHAAAAAAACAAEDBAUGERITFBYQISIVICMwJCUzNEBQYP/aAAgBAQABBQL/AKzteTLzZebLzZebLzZd+U3bf8KexFWAuQU0XIaqfkldfJYF8kgXyOsm5DUQ7lMkFkplNsQxkevbUG1bnQ61sFDvRO8U8cw/2O/TXt4QXVnRlq8cQ5tKAb5xyWTH0VgaIetoUqxxWmjitZtP3B27j2HxZaztsRD45s/sdM9Kma9hVtxF6ubaoX2tRf1W7sNKO/qzXXoYLm0UMcALZs+2pMDyzbYejoCbgUvJYjVOuV+fQsNAAkgL7gbErQdTRC5iH4DaIJix4Z4UMriglYv6NnkI0HPUKebPsVxtlyLNFi5Xmi0vMYVe25NF3l/Mj8l2yghOzIIRZVImIrEGWRi+X0iaOuUsE114M2wwBmwChBhQn5uwq1H1+3vpFMzIpXJEImnq1yT51N0+VRdPjZ6fDznX6Bnr49QT4FBk+RSZV6gRNuaHu7dGXwm+Szdtd2ZXrwEwyG0Qj+S8F4poQAu0TM4D9x+kt8BXZuu12u15LzXf07UlgIms6c7hnTSWqzdfRuNwnLLjg0ODjyRS+K8elN4SJj8GeQl5uoidwltxV1JM0gQv3ErkvpQto1qcketQlQuEjSTkBD249OunRyjEL3m69zIaqSRWyt+rMNWH29btCgXX0c2ZHN5pyTl9+0IuStTDUq3ZpLs3HLpidX/QV8pPPZrHCar3J6rtvX2U2pbnd7MroZJDejROdV2kpy2tiWaKtdm8o4ZZE7doYu1a3aNM8/arXiM26clIa7TM5IapOhriKcgBcls/4epUp+1z4Xg14R8IjLwD79GISDZ47SsKPicDKfif2HiUyDiMai41RiRZFNxHEcXfMhNgiCJvFeC5BrFEvCNN5VpM617uo7oYyNBUZfxxI7Ysjsk6Y+32ZWk1YI4Tr1aonurQ/wBjj6/rx+q69ReomkXkvs68WX2ZSTxRotSkKhlinBvFXbA1awtJbngz6kdvSqRwScWkcqv4sntiCO4Tp5+08n3OwANLrxAvcvLaYveR5Qf5mpg9SKaOWrLHyC7GwcmlZByeNByWo6HkVF18goK1ymIWsbNuwvUI1+Swf48wSXKbHjUyaRW1XrkIakMbY/Gv460kropGZFaiZPdgX6lSFfrYdaMjXY2fxKvtyw18GOaGt9NLHCzIfGGJHxm+yLD0Y09C2C9E2RC6Zk0XaCnaNQ49kihLxFpvFuRWPWtVYZ7EEjs0Voq8XH698akEmlOaKUzTCToa7uhrIIFDlWJlFxWF1WxKNR+uvqTMQ3MWmCmtXaZhv2xQcitpuTTpuTC6DkNF18hop9+m6PbrOi24mVjZc2klKaTHnMJDq2IJd6eHtgd0Nd3Q1lFTI1Dh2DUODACiqww/uftWKssqmyJFJlTo86Zk9KVk9Q17Yl7Z17d17d16Dr0HXt3RxvG7P04b9xoYKxOoM2aVQcfN1DkVYkICDf19MvTF09eJ09KB0+bXdPkV3T4sDp8KFPgRr9AFfHxRcbjNNxSoouN0Iniz60S66/8AEf/EABsRAAIBBQAAAAAAAAAAAAAAAAECIRARQFBg/9oACAEDAQE/AdYRF8QCiMqyeU//xAAYEQEAAwEAAAAAAAAAAAAAAAABAhBgIf/aAAgBAgEBPwHALUyTwyn/xAA8EAACAQICCAIHBwIHAQAAAAABAgADERIhBBATIjEyQVFhcTAzUoGCkZIgIzRCYnKhQ7EUJEBQYHOi8P/aAAgBAQAGPwL/AHO54KMpx/0WOq4QeMyf/wAz+ofdOSrPVVJ6qrOSr8pxcfDPXW8xLrup36mYKeKs/wCmEjRlXzM3KdIze0YH9rS1VXpn9Ql0YEeluYaei2dvbPATLHWfv2mLSanwrPUpl1OcqMlNVW/ARGK2xC4h0evnj5by2xTG5wqQJURM0U5Xm2ddwco7w0qZtRHEj882QopTcde8WsOPAwX5MWE+UsaZb3THTyBj7Nitjw6WmI8eB9HjqtbsOpmE3Sn0pjr5wVNKyHsCYKaBR4am7mUqI5mP949McqgAeVoGBsRKbYGLLTP1z9HFjBotPJiN63Qa7ZwHuv8AaAzM2g2d6hIKnALyqaqYA9rDVY8fQbCgNpX/AIWGppNy/SI2kPhS9zPxF/JTOaqfgn3NFj+6LtMIQdBMQOcuTOMFOkM+/aX7cP1GB2bGX6zE7YZuvfzlqjBW7dYmwoPYX3nyEw1K4XwQS7Kah7ubzIWhHbUlZeZD9rLPVvKD5iZ0KX0z8NR+mfhafyn4ZZ+GHzM9SfqM5G+ozkb6pu0b+ZMsqBB4QoD91TyA7xeNr3iomiKzHIZyy6AieLQPXCNX6sBMREGssq2Jghvwg1sE33GVpeobn0NyYx0elkPzGY6vNcjWXqvi8ALRk0dQhIjaTpKYWGSKf76+uXUGALlOYziZcwY3Vf3G0XCcjF8tRMBrXzzuPGbtcDzyl0cMPAzCKNRoCQR4HXidgol1VreM5WHwGCngtU72jEbmjjId3iJ16/YGvw1DWXbgovDVq1MzwHaNor8OZfCLqQU0xDMNFuh8dV6NQpPXfxLvXf3G0zqv85zt85tXF1HRusajvML4ldZs2qrb82CbLR6NSop4570ptXUKqctMa8GI1GHHBLU23vZbjBbVbVkIL6uglOkPzn+I20p7RgpxH9XaBc8gflFXwhbtLzDUUMOxl1vSPhN+u58hP8vXz7PN6vTE39Jb3Ccaje+YQrj4jDbSDg7YINoMdu8wooUeGv8AwVA7552HTwm8TeLUptw4ERKvfXvToJui8421UkPKlrx2oJUanU38Pc//AAjM/EUQ386tI/6zNi7feL/I9Dv1FXzMz0mn85tKbhlPUanrHggvL8alVpR0QotTHTxmo3Xyh2N9ixIF+hlRPZaZzdE46szaZmGxHum3bjivBSNM0ELlaRXKwHWaWwYuKarTxHrqdPaFoeKtTPGcUf8AcJv0FPkZvUXHvmYqD3TnYfDPXH6TLaOjOe7cJvVmA7DKdTqS/wCZidSUh/Ub+BNIwvgYJZT5xVqPbSkXZL4YphQioaJF3HU8JWb2nnaZtOZZvVvlOVn85hSgLeUGGgqMueQ46hQVVfohPESxXec4mJ766jVQQCb4hPudLX4pu7N/Jpnorn9uc3tGrD4JmjDzWcNWSkzdoVT8MG1GzXxiogsiiwmcpKPyLGXRwS20By6cYw2fxMeOWcNOg2JWbI++LTpqSZxC+UzYn7GQvMqVh4y9a3umKnQXF3P2CrZg8YTR019HPs4riYdvjHcT1hneb1MfKb1BPlN6hY+AmStOUzhN2dfdC7cTKlKmwV6q4VJ4Xmg0VBqLRUmq3TPjKWh0FAFPNrfYsiFvKb1kHjPvGLzcpqPtZTnMynLOScpnA+gsZebMVFz62zmOpzGblImfeuF8py4z4yyqB6XlE5BOQTknLr4zmnNN4zOXwTdpL/wn/8QAKxABAAIBAwQBBAIDAAMAAAAAAQARITFBUWFxgZEQobHB0eHwIDDxQFBg/9oACAEBAAE/If8A1lOSdSdWdf5/qzg3mF/v1g2z/wAJee7qbr9lgt+3WB0b1+5/VIL+g/c5A8P3F691Gze4J4e17OhE1G2zPcoBAXV7E0qC6p09zISAY5dj3ATFuN/7QZADVYuEWH6FzM6F7tPwIdCL/vmXEqNv7UCoKUVBGgLvIXrFuOG+YPHmGKh6gi744LZn3wWqARB9DXz2jl8DXL9RyCb/AOsDV0cG8BKoLvdI0jOa5lFbtXJ6jMoO95fyfWEQoNHDNf8AVQHwNToTNg6nMF0vya/lhAX2HxeR2SN1hi9VPwINJaGNjwxrTSaAir8Z9xNdhf0o+Z+IPzKAAoIoHMU5sZY1TpvlV+pzHITQ3VohFt7BuPsJclYO5wZmGHEdwGzr/oeD3b+tzEkd4HQlSwvIukv3t34jBEmwpX8oqmeqYCM4C1jLOW8rGC7qtdg5ZjEdFtYgztqHeCMhsFsXS9IqFhj+lRa1SyQ15hwedX7Y31BEjUY4CCKJbDzAvNzDH4UGwf8ABAta+GN+xPvRk1QdzNR9Wah4YRqPZf3P7pfWLaF2/dOhy/Z+Ye9yqdKKipiPvNu3YjUR0C5sHkEr4n2Gs+sURjS/BL2HNURFxZ0SEhNodwWa+Ah1jMdg3PjSWTElLm3SHi1NDtH/AB5dl/BrooqCtUsQ695TmEQpKipQuPqkeO2kwr3je38RzBNBbgmJpdFCJiS9d2K19k/70RrcMoWljaL12TDLn0fHI1MuZIad2/wJrJcWjrLC+X916hiBw6XuEZ0cRue7rH9NEUvjWZtf3GukReoVWCos3BD7vR4lw6C+5y/C7CwyjB8Mz4Hwe8l41VRRKuJQI7WOIx6gofYllXr9/jTMx9zEpr6qrX4QtniH7+5mKNxQ9E1Iecpn1EZqXaSjCJpCHsDOokwr9NJYum1e19diUIrabp5ZsJvNI+06BuvMsnNVVeEsbu2dSNp8xoRfIxxYzUszcYUo772fzUwUVtrRCjtrO7cNWmPuRFtQXDS0FzLcXLFTbs3LAW+PqBNztUQ8k6D8ka+kFgdZ0/lms99WYKHRMXuC1hwX7l0XFgPgxOn3hXwq5TzLGmHIH5So9JEx7V7ZgnakU4d5RbEMFrBZ9ZZZYVwmWrOJOkEcxfrIju2/SJkjhbrK6QbV+XYfFsGv4YxYRi5DasOqD6TsQLK3viriJkuzBPt6tAejb4DV1PfwRo2+beswoOx8eEsmhDUW0QWmPzBTjCK9s4/2jLFrERRSOn34gqcm2qCo2hXobTbkuYBjrphqyvx1NfYlGNdrqMACQ7v0lN5bJ9ngZ9gN+5qHfKVlv9DpEHGFXpEm5b9PpFV+Rnr5lt6L7afiXRHWc/8ATmoSC7nP4CeYWezdluexOOUVBl947DFIeD+ZYfuxM5L8oNzoTgXObvSPjlpEBiyI7JSO5GgIahG1ezvy+Vgms1XeGZvAfyTbX/TWEfQn2Qj3TmX5wJQ/SIORgi0uhc0XO6UJb6rfUBBKPoQrNkJVZa91/iDNKlVSsoqsAM9SZR1wSkfljnNqYeTZVwXE2rHCJW91ZyM1qGawLpF0IPlTfGI333DClG2rYAUFHyeIKg6JANSRhfEQ2ho9jNzJ/wAYhdR3nWNAnqhgOj9TTvIzRj7mhD0xABXgVNQomx6mrb+YgAE6oOFVg77H95mhk1iGakbF3RK9HvJUKXGhA667X+RRlUJdHi41WzC72bp9TXPRAaweJjwx4p0J0/jVKZTns8xyCnWL2nDXm1u1c6xk71VEokHjJlavWTXg9D/YtsR1Xomqeiar6psibUm3RWjNhL8YYYk7Szr8LDAa95uO5S4AUAH/AMR//9oADAMBAAIAAwAAABDzzzzzzzzzzTTzzzzzzzxOgECAr4PTzzzyCbz69mCAnz/HyZ1+ckX2HWXP9OvjYccmjLl3f8Mss6OGHlGEe1RVuN9BRzOedqC2qTn/AKkQ0sgCeHvCoE8k8c888ssMscs8s888888888888888888888//xAAgEQACAgICAgMAAAAAAAAAAAABEQAQICEwQEFRMVBx/9oACAEDAQE/EOm446OqemKea915s7ii1FQQAH54DrWYtRRhUUMELPj99wl5Cj0VFmuBRRfUf//EAB8RAAMAAgICAwAAAAAAAAAAAAABERAgITAxQVBhcf/aAAgBAgEBPxDohOulKylKU8j6ktJh4SJpwKDOdXilKRVKTWxe/wA+hcbPCxCEy9nnkrKXLxSl1pSlKX4f/8QAKhABAAIBAgYBBAMBAQEAAAAAAQARITFBUWFxgZGhsRDB0fAgMOFAYPH/2gAIAQEAAT8Q/wCVQQvL/wA1nGI6+aJ7Yh/icxOc+JzHxCShJh7vPPYA7po3kgjoj/wmKLYLyDVeRA7P9QqjzNA6YHyRxOqBhs/T7moB0WB/mSPZ6fZYvQh/WqHlqZLh5H2Z6QEFKcC83jxcEylYUnKzMQwg6LbfM4xhq0PjMw1A/AfiaYeBB7n9oQWtFAS+SGrXy+ucGNSGQ/h8TOe5aQOS/sd4puoDajVW0bkUUi9uEAMqZrAFwtGohHYrkjdnJormQum0jLNqXRk4RiVVY0OKdJlO8qUb+SInW4oGoOx9yneGMo0W8rhabXsNS/cOKzXTVTyBHtC/JoxuYtuKCMaxDuK/MC8LBuxDHAq7YDKuTeIfCIwQCNj/AFNSDjK4LcYjZTwAo16adYwsgtVNuF0JoiDMHV4vP6GaBpcTfy0d42LJzaWvS4dVxK4oR8MW0KdyDYzgxWALsCBDjE724LxYGoexsB4PodYFDCgNAgcRXBqA13wZgspmeYXqCMaDLFRZuklc6WjsFoxjebwlYDJCgsabeIBkcDCCK0X6fzWi2JZACNW7rdyO8bg2S4+BsdI9Qce7gwLlqBirbJRjwhTL5ogEIunwhfzBoGlY0bzfbwS4UqhpI+U/EMCZD3iKm6HMJwjIpNOC9355BMmW2jcmOEIyTZinPJALe4lvtIqKBG2ugy+IRtRDUdF5ZL0mvscTR/fBApRm8eHB2ITPtBB6mCyDpTOEwq6toAQBIjmyX8E5yF/wqiBusvzJ4JgGnAT0jHyl9ndbP2mobs/afaC/E9Qx+IQvJxAj0SmFT1vzTJuDj+WL8gAD3mFATNe3WI27Vg6vV05BDd6Qngb4ljDBaehgbwNanQQ7kQi0Q0HBNaNJQ90A5V4R8LJmgln+TfSaBChdDFXutcZUQCqmhKwhInhUFdYKPb6KBVAM3DtSi4VjwLewMNLPnQ5Y++szVGmLmMUbzgG5u2ukCSm8FOHB+YsdgoALsuh7XGEgilUHXHjtNtCN16ErEe8hAsbW1XnD/NY5aDqp0Y0+hJf6KO/0xRwNVlcmTuGX017xCShdCytV3ZqA7oX2H3RKdFpdaloWqkFwL1hICOEjpSJqTpdeCvod/Vrsa/bzL4zgLopc3ig5LKEXcU/E6VCHyMDsSLGHG6TPXrUDo5VK8GsRWt1znFDvNb/5w6c3lEylqRTy+ZCVqUGjR5gJfSQyJi5TDdys4kdtoVsmg1Nbi4N37fIy10fSYVwR63T1/kd9CCtZqVQ4IN+cE3ioH6pi27CoWZbKOnVAujmuO8BkvKvDjhEWoU1DRckb7PGLUhF7fRoB93AVjmIcqjXRqKpK03ppjDUVArfIa9oQCab46JoyuVZx78S2hyI9EeaJ0bJkl3WzEfa1XoVVbluOGg8196vbXmQoejYq4rRbmy2GFmHiNnIeOYuNimTKF3Q0C+M3YY6vEascaiil8FIX0WND0tjXHUPZgga2NsMdbVcZky+BFoMSmdomLrmUCLwmlHAyy7QwO7l9rwmLKcdShRIVq3KeaMmkXacaDtNMVuqszUTb7EwrauN1mqhAIfM1Q4t3bq/ME2zlQne4QNBzQK/TaW4l1PtRK6t3Ge1QrMVmgPgv3CqQU6exJ6jlz2Jx3Nd6gRywdQIu4wQO6HHglnNQ0oroY0uFYpegrRGrw6zHXGqbr3BuBtUhsxWgIWy0PMULmoxVRayoa2GppttWXYGAlEtTpMYCNlZTsqM//EQTXRUw+VXqCXmoFthAwui/B4+gWbkldcO4HvW9pOZv5hOrEu6eJp1XaWakakJ0YaF3wnHF7xJgkKgzV+cY0l0/bVxHlJkCmp1nAfUpVuhxB7GiWHsEwKtV2D0EW0o6UBWlDR1reKjdbae7ccI8HlHvUryAH5GWx4ZolB5W6l6LHDCIiy2MseBktLbfQt8xoiGqgfviCwZBbXK8vuca0nyFeBU2YlfpkMUo0mM7yy8sYQ5CAKOPpa35cPvD1sBaE1UxCwcHlSYV7vaeRiQVd/vlSntHi1eIxyh+uiYsAkdE8CC6an1G7hgo4Vq7xw13VNe7LWWur8ILigk81I4mVjwhNwt9oNEJuzZOV2W0WF1gvMCVlCsOLYKKSYtqbNXKAjpYNwIVmBtct2dYM4PLB5a+IjQKb/4j1BFFzceMHqGhC0tXgUQSBWtIepUUnEORWVRmMmIuRjUwENl0Ac06WYhfcAziHkV7hdF6/QojnGNctMc4wpeCp3H4hqkWlZfYEqghvQ9mV6l1snmorDtuPskAAQ3mmfM0m3DRkg5S0FUoxxolfmooWrHib0VV61EghHUCi+brEzUC24fdQh0V9hNJ1OgdnYHeH+TrAzSlpCLl0lIOBCWzoNlOoQKaqVzyvHWIBvVeWX5LisXwd0o20rER4edCxg45Xf3Baqzl3uxrDTpXS9IUEGgFfV7N9bBSPKoPm3ld1Nh3ifQ6P+OydyIg8s3Dg4PU+0pQv9NGUBxvM/Mzv3ab4IFXJAH3hmq5Uv6nX8CWOX1vxEpDnBvVYyq2tbo0DxG2XRoOb9cDmkSLyDk4W66uNahquiJppE1ouHMsXKMrEIzHcVhie4r8CUDfUPxQ3SthXzKr+NVscYIZmxBCgVjLidIm2UsYcfPMhtT7QG7xA7vER/xM34TksRA0lMctPAI6IEQNI8SB3DIF213e1x+1Ww7yzbzYaDO/2GG7rD9mkvzDds8aQAK6BB/XQ7TUG7TXp1jUbH2gpr49psp2lpVZtJ2idjtNn6RbQ+IP1OjOW8gfeAB+6omIRpae4UGNAKP/ABH/2Q==',0,0,'2018-01-15 12:59:11'),(7,NULL,'HYUNDAI ACCENT','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(8,NULL,'NISSAN SENTRA','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(9,NULL,'CHEVROLET CRUZE','White','DU11BAI','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E8kubRhLBaKrVV/esyAiHJw9q+Tl2Mpb2iLvgfxIhTeVQXn2j/cf3g9f1+YDa+YR0GCVXAyS+atXU7zPLFBQqoVoqXW+xN3/AEn2Z/AJU2eQ5H6yhA9p44A0QyAuD5OA9NsjwzRoitFHh9mP4mf8aXbmAp9pMmCPCOD2oqCjQ5dwagekNIH+hv/aAAwDAQACAAMAAAAQ88888888888888888888888888888888888w4c2Y088888844skYJLCGq18888N4gUX00A8cQ888ypquO0R2BRWJ888s+hW45iu2gIU888s8Mss8Mc888888888888888888888888888888888888//xAAcEQACAgMBAQAAAAAAAAAAAAABEQAgECFQUTH/2gAIAQMBAT8Q6roj9qdBwxuEwby8CEj4VeFGI8YIoLrs/wD/xAAdEQADAAEFAQAAAAAAAAAAAAAAAREhECBBUFFh/9oACAECAQE/EOzhJljThkZCblG4L2RBKQhEIQhE52JC+zCUKiE/Q3Ri6tnfBgb0TKXs/wD/xAAqEAEAAgEDBAAGAgMBAAAAAAABABEhMUFRYXGBkTChscHR8BAgQHDx4f/aAAgBAQABPxD/AELdT5uwJoz7if8ACRDUO/5ovS3An3h1mcjf+LXVlZPHGa6tEAoN0W9eB7ZUU96a83G4QehL6iLsb6EtE1akB7psGEOsOD+RcPcox2qhIXcG5SCbawq2s0ru5+cN+3FK099vPuBwaxLE/wAASR3VB+8QkDsaM6+nrl0JeLctD+U5fM0F6mWUgM4bbD94hVVAdwNPcoME5u073CrtSAI/ocRNbXKF/pDq8wFr2SsKkmnIdyoJqsy2rHyVHr6om4c9GGGKbsooX59oKKBbyHdbPyneugPCbPxAFoDlmmXoNxSDDiVsK/iLi2y3rV9VvaAXI6/QCBOnRk7OSpqHYhAADiFAPMaWOm5pVHtjCzchevfpDCFcrWErQDftWuhMu1qAvQC19Q3hlX1AInQQjXY4zJsP0+sBKsqstZR3dBX6CFxOQIjruis2Sjura4PwK3ytXArzALshcXt/ERb45tEHA6M1hPmOYUOVqKqR/Rb+ICq9d2v0fiYVbtHyEZFFctWIq26QojEbc0+solgFFzdYYWaoMC1eVwHVgkeKiymBrMK0ussVoXgMDRTkrdrbLBML9kGIGjiARQW82H4Ati3waaWtQsZYuZClYTKf8ljUVgK9C2C9o0WABYnQDdH7JLVqDKDRbggD+U7BpEzUAWqXG11mVWJbHbZK2KDFtFcZiB9bLQS5xO4azKP0yJqLsN+IFStodXiazPggPoqy1ADhAwh2ZSp6qK5X6cwCmMlfkh8kWciVn6xK4Xq2cOhOkBAI30dUHTO3WMWqvX+5rcA8OsX0WoZtre5u9oH7SiV71AMo2OvcMAZaU7rTV8cQRJrjEvJpWsrLFKyDLTlytxElXdl3zqh1ruPMw6G9l94LQYcXK6SpXlRVVKcrE0qWheAwlAOajeWP8bnH+MzjNIh4veNGUGBNs1m8jQ6iRPW2DSuh84fMrqIHDX+45gVowX9pSG2kwSUhnn9YtLXYfUIhsnACPqV3YnjEvDhXCu6wNgKpZKPSSYrNrcurWopxZ9IVFbSw9oa6OBYiAc1VBdYvd1i1gugwcDR3alpQ80hXwXD7IgQAjrhFmtoVlTSG7MkXQa2kPNuNcy1KL6Wk0Xjdz0gEAAUBt/dHsB6OiMqjOUVtl95bSzyJj1e0LjjorLJazjkPtFPwn5lDHqQAuwb3rMBeWPmEGq4KrY4tib1bSiLJkLFPUZURxqqpezW0y3qNYgGIgx6CUb9xNZUq7W5PCT96G5SdEhOfdywpqRIsGhV6Q2qW29klA3LXAEFvIoqruxcUXF0pGMNKArb4K3NWqnVbVfiIDmt4fF6rrmLsBuS14OhYOhvKdo70nUt6wRlux94J7pSFICYTTtNPolFFRdiltSjihCginNBla3j7IlFTS2//ALKikdKir1XMVysPJKeiMSo7QQvdo49dSX4TVIv5RarLDNuxUIl1A0fB7CDcdVN3g+vZ0jXy4mzfhF6QrR7J9hEpV9SJW4ot94dKNSJ+TDxFuKhoadMIo7oSg2/0L//Z',0,0,'2018-01-15 12:59:11'),(10,NULL,'TOYOTA YARIS HB','White','DU11BAI','/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wAARCACWAPADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAAAAQFBgcIAwIB/8QARhAAAQMDAQQGBwcBBQYHAAAAAQIDBAAFEQYHEiExE0FRYXGBCBQiMpGhsRUjQlJywdGSFiQzYoJGU4Si4fEXGENEc4PS/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAdEQEBAQADAQADAAAAAAAAAAAAARECITEDEjJB/9oADAMBAAIRAxEAPwDVNFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRkUBRRkUZoCiktxliBCekKG8UjCU/mUThI8yQK9QWDGiNMqVvrSn2lfmV1n45oFFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRUc1Pri16YUlh5a5M5wZbhsDecV3n8o7zwoJGTimqVqS1xVKQZbS1pOFJSoHB7zyFVTftX3a+L3J8lcZhfBFugqOV9y1jio9wwPGvtu0beLihGY0a1RfwpWgFeP0jl50TVhv66tbWd6ZCb/XIT9M0ie2mWRv3r1bEf/en+ajruzK3BouSrjI3UJKlqASkADmeVZ21ZPhTby+Lep31NskNlWN5SeQJ8efhVTWoF7UrBnjqO2DwkI/muR2m6eX/tJbj/AMSn+ay5pd7TMR+QdRwrhPCgOiSw4lCU9pNWns9t2yvVl0+zWLFJjTQkuNokvlQdA54IPPrxTVWiNoen1/7Q24/8Un+a6N62sjvuXy3q8JKP5qutqGzjSOltOv3hp12E4j2WmeDiXlnknB4/OqNRc2lthaosc5/y01lsBvUcB3/DuUVf6Xkn966pvIc4sr6RP5wr2fjWXNnmlBr2/Ba4yGbVBVvPrQMdKrqQD9au/UmqYuk4TMaOlCH1pAZbCchlHLeI+grTSVXTUbFvjdNcZLDDIIUFSHAhORxGM8c0wyNtenYTa3F3ZSm0DKlNxnlpA8QmmHTVgsmum3ZK7lKeuTasurdHtbp7AeAHhwpXq7Zva4Wm5D0RDq32U7xUtWd5PXw5VnQ5wNu2m5nuXdCgThOI7p3hzB4Jp8g7XNPy3A2m727fPDdcdLSvgsCsgWpw2O7qjLBUIcjdAJxvIzvJ+XCtEKhaBuMRlxFySwXm0r3d/eCcjkcimi3YupIspAWkFSCM77ZC0/EU5sSGpKN9lYWntFZ1vehpOnN24Wxa0R1YUmTBWps8eW9un+RUl2Sa9uM26XO03WR6w/CS28l0pCVOsLyMqxwKkqHPrBoaumivKFpcSFJOQeINeqiiiiigKKKKAooooCiiigK5PvtRmlvPOIbbQN5S1HASO0mmfVmsbNom1ruV6lJYaB3UIHFx5XUlCeajVMal1hP1v/erupVvsoO8xbQrCnexTx6/08vGiW4lupdqUi6lyFpVYZjJJS7dXE5B7Q0k+9+o8PGmLT2mJl3Ut2L0jTTqsvT5BKnHz25PFX0puYtD90uNhgqX0KZ6jI6BAxuRUcSpXZvHAHjVyoQltAQhISlIwABgAUT02WbTVtsacxmQp4j2n3PaWrz6vAU64r6BXoUVWm3LVX2Fpf7NZcKJFxCgspPFDCRlZ88hI/VWaILEi53GLa2296TPcSAO9RwB4CrD2w37+0V8lPoUVR3JYtzHZ0THtOEeLih/TUQ0Lqa22HWLmoJ6Q6LeytyNHHN973UJHxznuoy97YrXG0zrR2zQGEMMRIzDfsDHSK6MErPaSSaj2lNSv6Z1Jbrw0pRVEfS4Rn3k59oeYyKddb3S6a6vbl7uSozclxKUbjSN1KUjkO/xqOfYr4PtOIA7aLsWDtx2lI1rqFLFvfK7VCTus4PBxR95X7eVV/BZlXaXDtUBJXJlL6NI7Mnn5U3SEKZWtKjnc4Zq6dgeiFBJ1NNaPSPjo4iVD3W+tXny/wC9IqzNNWi3bP8ASSIwx0UVrpX1gcXVdfmo1UC9UvasW7dZAKHXnFZbP4MEgJ8gAKmG0rViFzP7ORlZdaV0skA8lcQlJ8AM+Yqt9PwpJuFygtNKcUh/pAlIzwWAfrmrWan+zfUAsmqoi1r3WHz0DnZhXI+RxWgpkVEyK7HWAUuoKD5isyN6fuacFcR5vHHKkkUvj3K7NKBTNmJWk/71XD51DUN2iWRyy6yW0oD75K2iRyKkHIPwPyp70osPwtxR4oPDwPH+a77SWHprFtuz6t50SGy4rt3wUn5kV80hE3Ja2iMAhXyOfoaL/F/6JeTcdKxUOgL6NJZWFDOQOXyxVcFlrSO3C2JjjdiXNp6CpPUCUh1I+KT8a9RdbxNLMqacltNqUrISXTn+kHj8KZrxNvOutQWC4Wm1yz6hc2pbkp1vo29wcFAE8Twqq0PZZpbzFcPBJwkn5U91CFTS0sPDljCvDt8qkltuzclsIcWEuDkSeCqWEpzoo50VFFFFFAUUZptk3yHHdDKV9K7zKUcd0dpNA5U03y5SIcF425tmRNCT0SHVlKN7q3iATikMy+OOA8dxHYKb/WVOe0o4HZVxNULrLZTtM1pcl3O8XCPJl7xKA1JCWmk9SEIKeA+Z66iL+w7afEWVRwXMcsSkH+K1OZAFefWR21cTWSbnsy2suFKpdtuMhaE7iFNPpylPZkK5d1ONu/8AHewxW2Yke/NstjCUkBzA881qMyh215MwDrphrOsXaLt7gABy1XCRj/e20K+gFI7ptH24TwtLtsu7KFdUeCpvHgQM/OtJqnDtrz68VcBTDWOXYutHWm25GnbyUMlRRvx3PZKjlRHDrPOkLlmv6TvHTtyQe31df8VtYyFJGVqCfE14M9sciVeNMVidcO/I9613NPi0v+K4rauhGHLfO/1IV/FbcVcEYJURim6TdkOZSwlKj+bHD/rUwZO0LoifrPULUR9h5iE0Q5JWpJGE55ces8q1DOuMLROk5NycQhuNAj/dNjlkDCEjxOBSqFAK3C4oe8cknmaq/wBJCVcFQbTZ46FJhuFb7q+pSk4CU57sk/Cr4nqmIWrHXNSyLjcHd9c1wuPOK6iTxIqxdlt+hRNdXqSsl6JIjtbrqOrdHHFVXG0hdri5mJHdfB4ZbQSB51NNG7FL9dH1PS7i9bI4G6d1WHCe4Dq8akWxfA1jp9w4RJkoPbukfvXpcvTM9tQk3aEFKHsdKpKXN7qxxyfCoIzsD0+APXLpeZauvekYB+VSTT2zPTGm30ybfaUesI9154lxY7wTy8q0I/e7NqHV0L7Oi2huBFC0Hp5TnteysKBCR4U4w9maS+kXS6PKS4d7ci/djOOI3uZ4fSpnceni292QApIAxv7pIRnhvHuFcNPBFzaaQJqpzjSgXHkMlCBxGR7WOOD1CpgLPpLT9kwYNqjIc/3ik76z5njUljxpMjAbbOO3kKeI1sjx8brYJ7VcaWJGOQqsorFElN5civMTVjO7wSkNAdu9zNO01CoVlfXDY6aQ0lamkH8RSTgfLFOuDSZs7nSjHurOR48f3osuV12fapY1npaJeI6VoQ4CgoWndKVJOCCO4g1JaZdKW6BZ7WmDAa6FtK1ulGetaion4k09ZrDfKy22ePtFFeVKCQSSABxJoiD3vUzsu/OWhnpEtNpJJRyVg4O8fHhjuNNenJSpsN+Yv33ZDqMflCFlAH/L8zVc3nUj0yVeJsGU9Hfhy5cdwYxgdKpSeB7QQam+lxbp1tYRbbslE0NJXJabdBIcUApRKDniSc8qsSn1wlSxnkPrXlbxFcnI11ZOCuO4ntUgpPxBI+VJZKX2EJVKmR2N9W6gY4qPYCTxPlWmSlT+OZriuX302IMqWnfiyWX2yeCsbwPmDXlaLilZSuEpQ6lNrBB+ODQLlzu+uCpqieBpGpM7OE22UrzR/wDquiIlyWBu2t3P+ZYFApD4HFavIc6DcVp4NJ3R29dIrwm4WW0yLi/Ab3Wk5COm4rUeCUjhzJIHnVYPa7u9wdSzOjvwErX0YbaWGgo/r4qPHA4EVLcWTVnybshpe4t3Lh5IT7Sj5Ckzl0UlO87IZijsWd9f9I/c1A7bPletrhvsNwkpcUla23Mr4AH2t7P4TzNdrndZchbFtscu3v76sOPySlPApIIBSBngTjyqauH653CM8Uodmym8nKVuuFGf0oTz599O1i+5uEKOHZTiXwpaxJA3twA+0BzAzgZJ45qM3HW9s0pAiR3rI3dtXPrUIyGRlkAZQlR7uHLrxUr0laLhEjLm3iT63eJuFyXQMBPY2kdSU9niaxx/K8rvjtynznzln7JS5LZjjdbGT20hkuGYMOICk9hGRXdEFSzxBpdHt6cjNdXnRmTYumaVuICcDeSlIwMjjTlDswDaejRgEZFShqA2E8q+xWG2YyASAEDdye7hQMzVjz73ClzFpZb/AAAnvrrIvNvi5Cn0qI6kcaapOs2UZDDGe9Z/YUD2IiCgpUhJSRggjga5uxY0aI4lCG2k7pPDAqIytXzXchLiWx2IGKZ5t4edbWXHVq4H3jmgsR+9W+NnfkIJHUnjTc/rCKjg00tfeo4qBLnKUedcxJUtQGaCyLLe3bpIUhSEJTjIxSC+a1tOmWXJE+Uwwlbhwp1wIHDgOfhTCmf9m29Tgc6NRSfaB90Y4n4ZrLm07U6tVXp1199zo28ojtjihtPVnvPM1LVkbLsmurfcXID0JaHkyXQ3vIUFJweGQRzqfViT0ZL9IRqcafeWotKebfaSTndUFgHHiD8q23UqwU13iXupMZB9ogFXhTpURmTUvannw/xttNrT4Y4/WkKg+r9Bt3VUqXbiiPMkpw8g8EP4GASRyPfWbNqFtv2k9TpmpTNgOdE1uvskjCggA4UOfEVsTpmHHC2pYSsdR4Umutlt10jmJcWo0hl0Y6N4AhXkauJrL+jfSY1ZZA2xd0M32KngVK9l4DxHPzFTK67RVa4usO8WiCm529McJVAUEl6JICslXMEbyMpyO7nXzaZ6NMZ+O5c9IpUy+n2lRSrKT+k9XhVETNJ6ts8hTcqz3BtxPDeDSs/Ec6lVofQW0Oz7P7C+dZyY0GW+6pxq2xGwpTSSc43U5OScnKj119n+lXpZpRTb7HcZPYpZQ2D8yaoKx7ONXamkhuHY5hKubjrZQkeKlVZVp9Fu7ONJXdbyzHWRktsNlzHmSKBfcPSuuhCvs/TMNsdRekKV9AKYFekftCu0pMaGLdHW4oJQliPvkk9XEmpnD9Gixxx/eZdxknrwUoB+AqRWbYxp+xSG5MG2KTIbOUuqdWVA9vOr2nSF3bV1/mwI8G7XkSnGFKefdVuoT0uMBCcYGE8RntJPUKdbfIYmaFEdUhMyQoKV0CGi4oL/AAkYHDj11O4egoUPHQW2I1jrSykH44p2a084kAcgOoVLNWcs8VBprTV2awt+BKUXnSt3pAlIAAwPeOTkd1WELdDbYSlm2RG3gjdLzqi4f6cAY86kgsOPeUB4mvaLAlfunNXE1E9NaNjtXBMpRdnzgjoxIex92jsSBwSONT6Pa/UkAtguAe8nrHh/FdrdCbgs7iQN4+8e2vdzuTVshOPrUE4BIJPzqqYtU6stOlba5cLjLbjRkc1q5qP5QOZPdVJTPSptiJxRHsM12MDjpVPBKyO0JwfrVdbRdZP681JIkrfULYwtSY6CfZx1rx2nnUSkRbPKSUNOuNPdSin2SazpjaGhdqtn1baRLgvl0ci0vg40r8qhXCde33y4XHFHC1YGeHM1lHZHfpGnNasRlLKWpZ6BxOeBP4T8a0iXi6lR7SasSuzs9Sjzrj06lddDUNx48Aac4ticcxlJqobCtRFc1tOrGAknJH1qWx9NgDK8Ad9fJSrNbAOnlNbwI9lJyefdQRxq2PL/AAmlTdncR7ZB4V2m62t7GREjFf8AmXwHwphl6suVxWGWFBvfO6EtjFA1bSb4q36ZlJQr7x8iK2Aes+98qbdPQdLK0E9BEKO+uQyI7sh5O9mQXMZzzBO8nGOpNR/Xd5jSdXWO0Pvf3Vh1Lj6+3KuJ+R+NSOwRbBbWHZttDVwZmr34qZOUMoUM4c5c95OBgDFZrURLYVZHLTtzjW5ziYzjjaiB726eB8xg1t2s9bF9NxZm2XVl8Cg56i0yhBA4b7iBvH4JPxrQtRRVY6imqtW0bpcjdfaQgg96cfUVZ1UvtSt11e2gQ5cBsriphbkhXUlSVZSfHjViVXWstt120/qq42eZboj7cZ8pbWElCyjmOI7jRbtulnuJH2h0kFSBgBQLgI8hwqLekbZXUy7VquOFBuaz6vIx+F1HWfEfSqVTcXxnODjtFNMayibUtOuAFq+Q0Z7TufXFObOurZJI3L1EcPdKH81j5F0Xji2k+BNevtME8UEedNMbTj6uQUgNy2Vjudz+9KP7UucwpKvBysUCfujIKxjsrqm6upGQ+6P9RppjbzOvrGQEu3GElY4KBdTwNLBrPTmMm824H/50/wA1hUXY43i6vj3mlECW7c5TUOMHXX3lhttCQSVKJwBTTG8WJzE+OmRDeafZV7rjagpJ8xSFc5lSyHJYSB1I/moBGlK0LpGBpiO5vSENZkLB5KPFQ+J+FIWLo6ripRrTK0EXOC1xSN89p4mvL+oUpQdwAVU922h2XTzZM+4tpWB/hpO8s+QqEvbeXLld4lvtVuPQvvIaU6+eOCoDgBRpd6b+8XFEPKGTnnUI2yasdt+kJSEOnppQEdBzx9rgf+XNLWXHwrKs1Vu224qck2yGpRAG+8ofAD96lSGLZppCDqi/xmLw8WLQ04A9unCnVniED9z1CrX1PoPR0/Q64cO0MC4pmOsNvx2wl5pSVkAHHvAJweOcjjVfQdG3ePpqzXeH0rfSJXJJAylRKuHLkcJA4jwNWTCtL0+Ja7zd7gzagw704icAqUtSd0LOTnrwBjjWWmdIkGVatXQWJCSiVGnJYdH+ZKwK1TY4LktZJB3c1Q20ZgW/a8hYbUlC5UWQUEcerP0q7H9boQXE2xceMxww68fazjqSM1qJU5DMC1sdNLebZQOtZxTFctocdjLdrjheP/VcGB5Cq/n36PIWXZcyRLd7ThCfic/QUmF6SvPRCFGT+Z1QUR/V+wqiTytR3i7kp6V9wH8LYOB5Cml5SUEGTMjtceIK99XwTn54pAq52V3Bu2pStI5Nsgqx4Z4D4Uoj602f2ogohOznB1v5UD5cqmpjlJu0GMy68luTIbaG8pwgNoSO08+HwqI3DaxGjKWiEGkE8Pukkn+o5NWBI23W9+C5bmLMgw3E7i2OiSEKHYRyNV5rEWfUdrcRbNNxLdLSoLQ6wgIKsc0nHUamriBu3xy4akZuUnB3nQd08sDqq8oOoYlz0+LTLtAjW56YphlxHsfdJSlRUkfqTgHxrOryVtq3cFDiDyPMGp1YNZXm62hNibaVMkrSI8ZIbypCc597qHf2cKitM+jjb2S3qy8xd4xJlz6CMpXNTbScA/OrnqBbILLI01o23WdUYNoYby4sjBccUcqV5kmp7QFRbVbMuATc4UAT0EBMhgcF46lJ7e8VKaKCjdQ22ya0s82w3yJKtcR8h1p5TZPQuDr5ddU3dvRauhUpzT+o7XcWj7qVL3F/CtoSWGZDK2n20LbWMKSsZBFZH2x6R1Ds7u7s7Tt/VJtLyypDBeC3Y2fwkHiR2GrqYry4+j3tFt5J+wlSEj8TDiVZqNXDZxrGASJOm7mgjr6BR+lSOLtu11azupnlYHUpJH0IqR2j0iteuuJb9XbeBON5RIA8zmnR2qR7T95igh22zEdymFD9q4riTUJO/GWPFJFacG265pZR0yo7rm6N8FlJAPccca4ObcSf8W02139UdJp0ds0erSVAJ9XV5VeexHZxIs7KdX3mGpDywU22O4nClHrdIPHHUKe17c2mzlqy21tXamKjNInduUpcwTD0vTpGEncSQkdgHIU6O1inRd5uO9KcbQhThzvPr3c/vXx3ZDLuMV1Mu+uoWpBCG4iN1IVjhlR4kVAF+kJOfH3i3t8dZjikavSFua1bjc6Yk9iY4H7VoQLUGyLW1jmuIl2KdIO8cPtJLqV94IzTxsz2Q6mu2qrc/LtcmFCjvoedekJ3AAk5wM8zwqQyduN0WjLlwuCs9n/So9cdrTsrIcl3Jeeok/zU6O2mLla7Hb0nprhEbI57zgFZl9ICZb3dTw/s6S282mGEqKDwB31U0XHWi291QadcK+tSsVDbvOeuT7kp45USMDsHUKlpIvbZ+9qq5CzNKfaa08iK22Mbu+tW7gY4fm/71ItWsz9NzI0q4w27ul971VWWeKVIO8ggYOBggjHZ14qrtDrvWpLDFstolGOGZGZD4VhTDPvbwHM9Y8qso6ykW/Usi5z1KfhsFhTKVn391JScd5z8qiqx2gXgz9oUm5uIDjjbbYQFfhIT147M01P6huD2fvigdieFeLpNkajvlwuqhlUp9S89vGusaxvO4yDQI1TpLhyXVk+NCG5L54FZqSw9NAYKh8akNp0lInOBuFCekL7G0E0EHjWN94gqzTxE00lOCsVcVi2HaiuASqQ0zAbPW6cq+Aqf2XYTYoW6u4vvTVjmnO6mgzxBsIWsIYYW6s8ghOTU1suyPUt5SNy2ertK/HI9kY8OdaMtemrPZUBEC3R2MdaUDPxp0oKPtfoxWNag9e3Gnl8yhlsD5mrB09sn0XpgpXbbBDQ6nk6pAUr4mpfRQeUpSgBKQAB1CvVFFAVzeDhQQ2QD210ooIVqXTl5uqFJROeSk/hSogVVd92T3dxSlBK3T38a0TXwpB5gGgyFcdmF8ZJ/uBPfu0wStC3prOYbifBNbZVHZX7zaD5VwctMF334rR/00GGX9J3NJ9tl0eVI3NMSx7zbnwNbnd0rZ3vfhNH/AE0ie2f2B73oLfwoMPK06+OaFfCvBsDw/Ca2q9sq067/AO0SPKkT2xnT7nJoCgxqbG8Oo15+xH+w1r93YbZF53eFIndgtsV7rmKDJv2I/wBhoNjePNOfKtVK2AQz7r+K5n0f4/VJFBlSVpx59hSQPaHFOe2orJYW0tbDqShXIg9VbU/8vrCvelJx4VyX6MWnpa96YpDh7QnjQY90vfJNgnpfaefYKQULLKt1SkHmOPA+BqZv3246zbjWyO7JcixwU9M8hKQ0knJAxzUe2tNRPRe0EyoKehKdI/zEVMLHsm0bp9IEKyxwRyKxvfWgzNp7Z5cLgG2bdbH3gAAClBwPOrLsOwG6yAldxkMQkdaU+2qr5YjMRUBthptpA5BCQBXWggdk2NaYtO6t9hc50fiePD4VM4duh29sNxIrLCByDaAKU0UBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQf//Z',0,0,'2018-01-15 12:59:11'),(11,NULL,'KIA CANDENZA','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(12,NULL,'TOYOTA AVANZA','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(13,NULL,'CHEVROLET MALIBU','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(14,NULL,'NISSAN JUKE','White','DU11BAI','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',0,0,'2018-01-15 12:59:11'),(15,NULL,'KIA SPORTAGE','White','DU11BAI','/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wAARCACWAPADASIAAhEBAxEB/8QAHQAAAQUBAQEBAAAAAAAAAAAAAAQFBgcIAgMBCf/EAEkQAAEDAwEFAwgGBggFBQAAAAECAwQABREGBxIhMUETUWEIFCIycYGRoRUjQmKSsURSgrLB0RYXJCUzU3LCQ1RjouFzg9Lw8f/EABgBAQEBAQEAAAAAAAAAAAAAAAABAgQD/8QAIREBAQEAAQQBBQAAAAAAAAAAAAERAgQSITFRAyJBcZH/2gAMAwEAAhEDEQA/ANU0UUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFFFFAUUUUBRQSAMmks6fHt8VyTIeQ0y0kqWtXJIoFJUEjJIA8a8zJbzhJKj90Zqrb3t2s0cf3bAfuBJCUuOHcQSTgY4E/HFMEna7quYSI4t8BB5bqN5Q+ORU0Xj2yz6rKvecV835B5IQPaqs+P6z1RK4valfHg2Nz90imWVqm9LmNRm73cFrddS3vGSvAB4qON7okGmjTSjMzw7HHdxpDPuNxgMreTCTJCRkoQrCvdzzVFIvN7iHej6luCT3LeUofAnFPlm2sXW3uJZvZRNjE4MhtIDiB3kDAPwHvqpLKlE/bFHgI35FtdbHMhSsKT7UkZHvFIht6tZGREVj/V/4qL7aNLvays0W+2V4yDFQpfZNHHboOORHEkY4D29az8yELSCndHtJzU1Wq07ebUf0RXxP8q9U7dLSf0RY/a/8VldDLqgSlThA54UrA+dLmbTMXj6leO9R/manclsnutOL22W9QHYxxn75P8BXn/W7Jd4ssQyO4heazStoxVBDjaUrxkBQBpRHfczgNx/himrsaNRtkkxlDz3Tsp1rPFyJ6ZH7PE1MdPa0s2pWiqG+4hacb7UhpTS0n2KA+VZn06lyeVoCUBaOO6l1SSR8alEa2xDxkMSW1f5gcUr55zV1O6emjwQeIOa+1RtnTebOsPWHUslCB+jSVF9lXtSokj9kip1ZdpLBeag6jji0y3CEtv729FfV3JX9k/dVjwzVVOKK+AgjI4ivtAUUUUBRRRQFFFFAUUUUBivnKvtI59ziWtntZklphHIFxQSCaElviO5O6vCDxwQrn1qsdu91ciaLfZbcKDIWhnI+8f5A/Gp6zcmp7AkQ3USGVE4cbO8k4PHiKqnbrAu14t9qiW6DIlEylOuhpJJSEpG7ke3NFzFPx5KZMxhsn6tkFzA7+SfzPwp6bmtN8kj38aY1aZ1LbnHF/Q09IISCTHUeXHu8aQTBdkH62PKZx07NSa88rFltS1y6oQgq3U8BnlUch3FZu6XVH/DbWv3qISPlmktnbkzpxaWtzdShSiFE16z4hgXeU1yKA2j5E/xqyJmRL7jdEx7Mwd1IcWRlRHHvphVej+tUt2b6Sg323O3i/qlSoyHOyYjIUcEjmVEHOOOMcKsGJH0hH3WmbHDa449OKCfeSDViceFxBdmmtRCmC0yl5hylYbyeDTh6exX5+2oxtn0QdOXBWobY2Bb5i/7QhI4MuH7XgFdfH21LdqWgI8eOq92FkMFCVecMNcARgkLSByOccvbTpou9xdpGi/NLihLzhQYsts9VY5+8YPt9lVv9qfsNyROglpQG8gbqhjmKRXS8PxmW4aHVIW2SlZHMgcvlXnqDT902a6idhy2nFxiT5u+oYS+3048t4dR3ima63EXCQl5LXZqCQFDOc+NYx5dmci1i4EyEOSCXk8lBZJ4U/wBxiMx4YkRQpOCCfSJyDUJQ8alrN9tyoKYzjys9mEElJ7sUpy2WY9rFflwJzL+Tu726od4q1WJoWhLiFZSoAgjqKoZiS3lSVOpGeRJxxqwNMaxtaLSludcorK2cj6xwDKf/ALmqz9WX3FgJfBOQShX6yeFKPpfdZVHuDLcqK4N1YUneSR4g1D42tdPSQS1eoKsc/rQKWNamtDhwi6QlZ6dsn+dGOPPlE6sOpblpRKVW1bt4sY9eAte9IijvZUfWSP1D7j0qzbDqa0alhNyrXPZkIcB9EKwtJHMKSeIIPMGs5y72zZx59FmspaB9NIcGB4jjTVcNa6Zemt3OHfY1qvafSDiVEIfx0Xjr48/byqyunjy2NcUVUmzHbfp/UjHmVxvUOPOSQlKJDoQVnlhJPBXgR31bQIIyCDWmn2iiigKKKKAooooOapm/wXdoe0WRag48iBbsCUpJOAP1R4n+Z6VcoUDy8Ka4FlhW+TNehsBtct4vvrySVrIAzx8AOFZ5ce7xXZ0XWXpby58J91mS/G/n+PkaAi3w240NCWGGUbrbaBgJA6UnE9apIjIWXDu5Kt30R4Z76eXN0JwKYWtE2Jq8LuyLe0JKlBeQMAK/WA5ZrTjt3zSlancYU00oeKaTvJZdGHrfHcHikfyp5U0D0ryXGB6UEak2mxyV4fszKupwkcabZGitGyVKU5ZmUqVzPZjNOmrIl5RBddszcd9SUlLjDhUhSwRzSoZwRx6Uh0hb7sbaBcbe3DTzQkSC6s+3KRj50HnB0pYbUytq1rVDStW8Uj1SrvxXp9GLR6k1lQ+FOztuP6tJXbcTzTUwUztajbRVQnGrbOtwhPKLRbjoIcKSDzUr+GKiOxWwat0pfH27hb5JhSkhBUgb4BGSlXDOOo99aIftoVwU2FJ7iK+Q4oZytpAQd44IHdwqhol9jLiOx5SW3293JadAUPwmkj2zHRN0GXLDEaUr7TALf7pAqX/Wup3XEpcT3LSCK5TZIqjlMUMk9WFKb/dIoIFI2E6HXxVbZGO9EtwH86Sp2CbP1qwY9yT4GWqrJctUhtP1FweT915CXE/LB+dRO/Xu4WS5sxXYCJQfTltxlwIK1dUhKuGRw+11oGxryddniwMx5vvlKFKm/Jp2Zn/FtMt7xXNdP+6uztEg21xLdybmW9R6SGTj8Scj51JrJre0XMARbhEkZ6NupJ+AoGGP5N2ypk5Gm94/elvH/dTmzsH2ZtAAaWjED9Zxw/7qmcaVGkJ9bBpT2PdQQ3+pLZqpISrSsPdHTfc/+Vco2D7LQc/0NthP3go/mamnZEUBJFBH7Zsl0DanUvQtJWZl1BylYjJKge8EipI5b0ni04pB8DXIz312FKHWg8Mz4x4qS8n7w4/GlDM5C+DiS2rx5fGug6vrxrlaUuDikD2UCrOeVFIEFyMcpypH6p/hXpCuUeep1DS/rGTuuIPNJoFdFFFAU1XfUNqsLPbXGW2wlZISDxUo+AHGnU8BWHNtO1q43LWEq32tZdWw4WN4jewQfVSPz8aDYtp1TYtSKKLZPaedTxLYOFAd+DTq2d1W6rnWDrBqnV2mJ8SfdY0iCQoKalBO7unpvDurXOkNfJ1fplu4p3RIA7J9KfsLHP3HmPbQTNVyaCiAkkDqK+fScfqFD3VHkyVKRkKxXmqa4nmAqgkaLhEyvLmOPUHuroS4i+T7fxxUUFwRvKC0qTx9tdiQ056qxQSr6pz1VoV7DXC46T0FRr2Gu0PvI9V1Y9iqB6ciJJ9WkfmYaQkEDOMmurdOdLoQ8reSrhk8waVSZMSLvOynNxttOTnkB40CZpg5BCcilKQUj1KrLU23JiLIXHs0ZpSEcO2f5H2AU32nbpJCwbhEjvsk8VM5SofMigtZ5xKju0zah05G1FblxH8oUCFtOgek0sclCnCx320awged22QlZTwUk8FtnuUKUhBSooI4j4UFM6g1e5pzetWqbb5tIxusyijfjSQPtBWOB8DxFUVdZE+W0mcz2K3H31qAjpCt1IHLswMpx39a2xNtUO5MFibGZktK5odQFJ+BqFytjlgZuLd1s7sq0Tmlb6FsK3kg/wCk9PDOKCitO3LUMC3R37dqyY28tvf7BKiptPpYAKVkjPDlinqL5Qmv9NL83u0a3TGQrdL646goDv8ARUAflVk6k2aruIceMWIHnDvOSLcsxluKGMFTagpBPvFVy5sfubT623LxKdiq3stzYvEHoQpsrB9+KuJvykF88o2dYYkGXKm25xiakltcW2OOAY+ySXhg+FNA8rSNj05Tn7Nm/nIqFXbZ5dbZap8SVFamwFkuKQxIbUpoAH6xCScggceXTHWqanQTb5BbK0uI9Zt1PquJ6KHs6iorTR8rCCOcu58M53bU0OXPm6adI3lK6cmRw4/rS5wXORaNnQVD3gKHzrJSVAdBw6Z9/f7/AJV0l1KVA4KgMcB169/v9tBq+R5Rmlkp4a61K6e5q2MJz8UCoLf/ACmJ/nbiLNL1DKj8Nx2TKbYKuX2UN8OffSWDqfZszaoyW9Ooda3FBxJcRkje9DKjxBxnOevLhVQXh6Cu5yTARuRe0PZJznA4cMkcuBqCezvKD1fJziVNQD+tcJB/JQrRGwzULs9ph5an1vPBtTqnFlRcStIxxPE4PWsVpSp5QbbQVLOAEpGSa3HsS01Ot2j7XLfZMdaYzZO8RvObo4JA6DPMnifAcwuSiuW1hxCVjkoAiuqoTz3VMwZLyfWQ0pQ9oBr84bE6755Juiljz591e447yaHNxw+zlX6RuIDjakK5KBBrEli2Yf35rLT8xKFOW8KioTzUQpxS99PeQEoV4jh1qUOGotHSrRpRiWq/i7My21Fxh1vcUOKxvIyTkego9+BmlXk7asVEvjtikOktyUFoZP20jKD707wrzVb519j6PtckOtfRq1GY2gZWvsyQEpB4Hf3yB0wok8AarWJMf0TtAcS0SlyDKKUg9S2vh8QPnSK2my4RlJ6HFfVHNItNautd0htTIa48tt5AUAFjeTkciOhp/Tc7Y/8A4kUoP3eNVDRuArVnwNcLZB5U9iPaZCyUPqbOOR4V9+hG18WZKFUDEhbjXJR9nSl8d0Op4jChzFKXLHITyCVew0mXDfjKCi2oY8KBYzwGaqDb9tGFjjG2NukYQHZG6eKs+qircbVlsKHI1jHaxMk6z2iSIDbmA7KcKlHkhCSRk+ASkmgiKRqPX05YjNuupB9VJ3W2h4mnuBoPU1mJeiT0FxHFTbLoUPeM8acUSC4wq12V5Fts8IDziW5wyT1VjipR6JH5CrFgbGtPO6Yud5/pHc1PW9DTqnkMpCXEuNpcSUp3s/aA4nmDUVF9E7SLtpi7tSm8sSWTiQwT6D6Oox3H5Vr2wagt+rLHEvNvWFMvoyB1QeqT4g8KxLrrTdx0jdXI8qYxP83dLQlsqyAsDihfUK48j86sjycNoxtt+VpuY8RDuh3mN48G3wOX7QGPaBVRpyRLZisLeddS202kqWpRwEgcyaYZOu9OsY7S6xwk/aSrfHxTkU6SmUSGnGXUhbbiShaTyIIwRWWF6VhaU1ndLLdXyjsHkvRAoLAfYOSBvIUCOHD2g0Gk2NXafl+gxeIKyenbAfnSpttiT6SHG1jvSoGswvvtz5SvotEyKplrK0l5XpKyeI7Te4cq6g7Q9U2R5mHF1M92a8BQStlwDjjhlPTjU0aZk2yO8koeZadQeaVpCgfjUH1BsL0dqF1x/wCjWojrmCoMpwgkfaCRjB8U4z1qqrltX12IauyvUZS0pyN+K3vE928k+Hd3U32zymtZrSG1t2pagMbymSMnxwaok938kmC8FG2z3WjjgO0OB7iD+dRZ3yS7+iQMTlqZzx3WkFWPD06WN+UjtNkHdj2W0jxAB/3V6jbZtouB3Y8KE0T/AJccKx+dANeSqtIwpi7uq7+0ZQP40tY8klcl1vJfhoHrFyUlRP4U0jGtNvc/g3JcbB6ohnh/2Vz2G3i5Z7S/3BAPPdw3j44oLd0T5POlNIqS+5HTMkJ+0scPnkn448KsOderVp6GpyZLixGGk8lLCQAByA/gKytI2e7WJ7ajO1Tc0tnnvSwn8lmkqdE37RZjXKcv6TSh3fU8t8u4V9kK7hkfE1NGutJ3P6Ysrc1Cgph1aywd0pJb3ju5B4g4p6qutg9/kaj2fMS5bIZkJkOtuIAwAQc8PcRVi1QVjnaLddRWPa5qiFYocWVImz2VbshrewC1vBQVkFIAySc8q2NVA7SbdH07tqgXeahX0ZfoYYdKRgKeaIwknuOEA94JqUQq9Xm96AgOzboXnBvJckG3qASlTiclQS5vHmcAHHI94qjdeXFEzVku4xy6UurS8C4AFnKQfSxwzx44q6GJjd+uOsIl4JLTchQe3+AwlCUqAPjhZHjiqG1C8iTc5DqBhClndHcnoPhSLTpAu6milyPLU0rmNxe6alds2i6qt+6I18mbo5JWvfHwOaZdjOzVvahrRuySZL0SEhhx+Q+0BvISBgYzw4qIFa40LsC2faHhlp2KzeZJWVedXFKVrAOPRA9UAY7s8aooq27dtVwyO3EKYP8AqNbp+KSKlFv8oscBPsaweqmHv4Efxq4bpsm2Y3EqLtigsqP2oy1NfukColc/J62eSCTEutxgk8gl5K0j8Qz86gQ2/wAoXTjmA67coh++3vD5E1Jrfto0xNACNQQ+P2XwUfvAVXdy8m6InJtusYy+5MmPu/NKj+VRW47B9TwgTHlWicB/lSt0/BYFPI0PG1JbJwKo1whOg8fqnkkfI1jO+viJqC+TUkFSyWW1eClKJI+AHvp9naI1TZlEvWmWAOamfrB8Uk1Fr2hSHYrbrS21KcAWlYIPD/8AaCwrvszee0Lb7WGFxrkpAmMSAvLc1xaQVMr/AFXBgBPfjHM1M9lE1yds2kiWheYgiR5qFDBT5s8pRBH/AKW58PCmIbZNNQ0qhu3h+W0lRQ7GuEMrScHkFIAxjpnNOjWpI98mLcg6fEiLent1lbK3GHFIS1ugrJGCSVKBWSMgczjFBWekrVctYXK93+8SUwrHcXHEureBPbvqJKezTzKkqOcjkMjrUTR57p69LY7QszIMglKhzStB5j3itH2d6AwiL9G2ZuTIYaS2EtymS3EIHFtHpejg5zwyTzJqg9qQXH1pcJCmCwtTqXVNEglJUkEjI4HnRGztD6qb1npK3Xtop3pDQ7VIPqODgsfEGoptc0FL1OxFvFlaYVebdvBDboG7JaI9Js54eI8azhojajqTQiHEWaYjzV476o7yN9sqx6wHQ+ypk35TWrh/iwbQ5/7Sx/uqiP66XrechqFH0ncLYltsNuqRHWpbnfhQHKoMnTF5b4OafuKT39gv+Iq3j5St7cUlbtltilpzggr4f91fVeUnelc7Jb/xr/nUFZ2fZ5qK+vpZiWSfxPFbrZbQn2qUAKuDSex+z6Pj/SN7ejSpSRvKW6QGGfYFc/afhTKvyh747wTZren3rP8AGoPrnVV2168g3KW43GR6kSON1tJ7znOT4mguuXtB0fbQUnUdsQEj1GnAr92ndh3WkyQ2/BkxPol8IcaddCRutEJIwBkk43jk46cKyirTkXhhbw78qH8qWKjOKQlp66TVNpASEKkHAA6YoNOTm9VMNPh/VVqZUlK+zcUpDYUd1O7kEcOO/wBTzHCm+53WK0XC5tOtsQKUvCQ+hZCVJIxwUOIOCCKzcLVbScuLKz4rJpTGtNrWoBDAUf8AQT+dBcd72jae0xFmXGHrH+kU3AS1bwV7nFZzhXEcAflXtojbFb9YtyYF5t/0cCg43srbcT1Gcc6qxqLBgsuOlCWkN+tgJBJ7hx4mrB2KaUgbS9TLguJlNQYjJfecSoBWcgJT155Pwqexo/Y5HhsaPH0ekiIuS6prIIyAQM8eJ4g8anVJbZbY1ot7ECE2Go0dAbbQOgFKq0PiiQPRGTVebW9Ouas005DMJ9bzCg/GeYTvLacHIgfIjxqxKKDDmrbhrFcd2FNs9xDisBxaYbiS4RyJwnBPiarNzSWppjpU3YLng9THUPzFfpcUhXMA15qisL9Zls+1IqYMG6GOp9AR5CodsktyZWA652ZzujkkeFPT+0rWeT2hko9qTWz3bLbnxhyGyr9kU2ytC2CWD2lvZ4/dFUY1c2l6m+3IdHtzXgvaVfj60lz41rSfsZ0xNB/sbaSe5NRe5+ThY5OSx6B8KDNjm0S9q/SXfjSZevb0r9Ke+Jq7rp5MrycmI+D3Aiolc/J/1FDyW2Eugd1BW69a3lf6W7+I0zXi4y7olLsh1bimlZBUc4FTm4bMb/Az2trewOqU5pgl6dlRwpD0R5GQQcoNKJXojZtaL1Oj3crbuMycDIbiqSSzFGcKW734UCAnrjuqfXDUFgRqW3WdxgqZmQnjOfC8KejsA9ngeqn00rVwHJI6HFVpsz1jM0v59YXHOzbmIUhDqkkqYWRgOAcyO8DuyKdHrBcp+1iFcYsZTtgjhEFDyfST5t2YaUSenBRPHxqK42j6JmWzUVwulkt5kFySlMuG0pSS2pZ9B1OObawfcrIquNdOBy7vNBwuhkJZ3yrO9uJCc5PPOKu/W2vIVk0/bil7f1OzBVAeeZcBQEcjvEcFE7u8O4k9eFZ5luqkOKcJ4qOeNIhNGkSUN9mkAhPInur3blv9purSkA8iBXpa46lyN453E8/Hwp4S2wn/AISD7RmqEDIed476Uj2ClqY6043lKPDPIA/lSxqaWVhaENbw6lAp5i67u8Mp7N8Dd4D0RwoGhnT95kpStm03RxtXqqSw4Qr2YFObOzDW8ttLjOlLwptfqqUwvj7jT/G206ljAASScd9ODXlA6ma+0DQNDPk9bSZEIyU6dKE49Rb7SXT+zvZqr5U02+S5EkMvtOsqLbja04UlQ4EHPEGruHlH6oQMJSj31XevtQnaBO+kJ1tjsTzwVJYTuqc/1dFe3nQQs3rdI3GzgchnFdNagfacDiGkFQ5b2Tivh09IUfQUD7RTja9GypL6O2Svczx3Bk/Opg6hyrle3G0Olb61KCGmkJySSeQA762zsB2Zr2eaTLlwaCLvciHZA6tJA9Fv3ZJPiT3VWOx+JpbRzjUxrT779ySOEuWoOKR/oGAE+0DPjV927WbM0D6lSc94oJLRSVi4NvjIBFKgQRkVQUUUUBRRRQFFFFAUUUUBXxSEq5pBr7RQJX7ZFfBCmk8fCmC66EgXBKh2DOT3oFSmigzptH8nufdk+c2iKwZLfFJbXuE1VFx2b7VbZltyx3B9KeAUkJcOPaCa3FXwoSrmkGpg/PWfoLXb6yZOm7wVd6mCKQK0FqZri/ZZqMdC0a/RRcJhz1m0n3UldsUF71mUH3VR+ev0Fdow3TbpKAP+ma58xnJ9aM8Pak1v57Rlpf8AWjNn9kUid2b2J31ojX4RQYPESR1bWPdXYhvH7CvhW417KdPL5w2vwiuP6o9O/wDJtfhoMRpt7x/4Sz7q927PKc9WO4f2TW2UbKNPI/RG/wANKWtmtga5RG/w0GK4+lbi+RuxHPw08QtnV2kkf2ZYz4VshnRFmZ9WK3+GlrWnbaz6sdA91BlG1bH57hBWyr4VOrJsjdZ3Spr5Vfrdvit+qyke6vZLLaeSEj3UFb2nZ8YwTlA+FSuDpxMcDKRUgwBRQJ2IaWgKUAYoooCiiigKKKKAooooCiiigKKKKAooooCiiigKKKKAooooCiiigKKKKAooooCiiigKKKKAooooP//Z',0,0,'2018-01-15 12:59:11');
/*!40000 ALTER TABLE `transport` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transport_product_part`
--

DROP TABLE IF EXISTS `transport_product_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transport_product_part` (
  `transport_id` mediumint(8) unsigned NOT NULL,
  `product_id` int(10) unsigned NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`transport_id`,`product_id`),
  KEY `idx_fk_transport_id` (`transport_id`),
  KEY `idx_fk_product_id` (`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transport_product_part`
--

LOCK TABLES `transport_product_part` WRITE;
/*!40000 ALTER TABLE `transport_product_part` DISABLE KEYS */;
/*!40000 ALTER TABLE `transport_product_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transport_review`
--

DROP TABLE IF EXISTS `transport_review`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transport_review` (
  `order_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `transport_id` mediumint(8) unsigned NOT NULL,
  `description` varchar(128) DEFAULT '',
  `value` tinyint(4) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  KEY `idx_fk_order_id` (`order_id`),
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_transport_id` (`transport_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transport_review`
--

LOCK TABLES `transport_review` WRITE;
/*!40000 ALTER TABLE `transport_review` DISABLE KEYS */;
/*!40000 ALTER TABLE `transport_review` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transport_type`
--

DROP TABLE IF EXISTS `transport_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transport_type` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` smallint(5) unsigned DEFAULT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(128) DEFAULT '',
  `language` varchar(32) DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_language` (`language`),
  KEY `idx_fk_parent_id` (`parent_id`),
  FULLTEXT KEY `idx_name_description` (`name`,`description`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transport_type`
--

LOCK TABLES `transport_type` WRITE;
/*!40000 ALTER TABLE `transport_type` DISABLE KEYS */;
INSERT INTO `transport_type` VALUES (1,NULL,'SUV','SUV transport','ENGLISH','2018-01-13 11:53:04'),(2,NULL,'Minibus','Minibus transport','ENGLISH','2018-01-13 11:53:19'),(3,NULL,'Economy','Economy transport','ENGLISH','2018-01-13 11:53:32'),(4,NULL,'Compact','Compact transport','ENGLISH','2018-01-13 11:53:51'),(5,NULL,'Saloon','Saloon transport','ENGLISH','2018-01-13 11:54:19'),(6,NULL,'Executive','Executive transport','ENGLISH','2018-01-13 11:54:38'),(7,NULL,'MPV','MPV transport','ENGLISH','2018-01-13 11:54:59'),(8,NULL,'Budget','Budget transport','ENGLISH','2018-01-13 11:55:17');
/*!40000 ALTER TABLE `transport_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transport_type_part`
--

DROP TABLE IF EXISTS `transport_type_part`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `transport_type_part` (
  `transport_id` mediumint(8) unsigned NOT NULL,
  `transport_type_id` smallint(5) unsigned NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`transport_id`,`transport_type_id`),
  KEY `idx_fk_transport_id` (`transport_id`),
  KEY `idx_fk_transport_type_id` (`transport_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transport_type_part`
--

LOCK TABLES `transport_type_part` WRITE;
/*!40000 ALTER TABLE `transport_type_part` DISABLE KEYS */;
INSERT INTO `transport_type_part` VALUES (1,8,'2018-01-15 13:00:26'),(2,8,'2018-01-15 16:41:56'),(3,8,'2018-01-15 16:42:06'),(4,4,'2018-01-15 16:42:35'),(5,4,'2018-01-15 16:42:44'),(6,4,'2018-01-15 16:42:57'),(7,4,'2018-01-15 16:43:06'),(8,4,'2018-01-15 16:43:22'),(9,4,'2018-01-15 16:43:34'),(10,3,'2018-01-15 16:43:52'),(11,6,'2018-01-15 16:48:38'),(12,7,'2018-01-15 16:49:01'),(13,5,'2018-01-15 16:49:23'),(14,1,'2018-01-15 16:49:35'),(15,1,'2018-01-15 16:49:46');
/*!40000 ALTER TABLE `transport_type_part` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user`
--

DROP TABLE IF EXISTS `user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `discount_code` varchar(8) DEFAULT NULL,
  `type` tinyint(3) unsigned NOT NULL,
  `first_name` varchar(32) NOT NULL,
  `last_name` varchar(32) NOT NULL,
  `call_name` varchar(32) DEFAULT NULL,
  `email` varchar(64) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `username` varchar(64) NOT NULL,
  `password` varchar(16) DEFAULT '',
  `picture` mediumblob,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `token` varchar(64) DEFAULT NULL,
  `prepaid_amount` decimal(6,2) DEFAULT '0.00',
  `review_count` int(10) unsigned DEFAULT '0',
  `review_value` int(10) unsigned DEFAULT '0',
  `create_date` datetime DEFAULT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  UNIQUE KEY `idx_unique_username` (`username`),
  UNIQUE KEY `idx_unique_call_name` (`call_name`),
  UNIQUE KEY `idx_unique_token` (`token`),
  KEY `idx_email` (`email`),
  KEY `idx_phone` (`phone`),
  KEY `idx_active` (`active`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_fk_discount_code` (`discount_code`),
  FULLTEXT KEY `idx_first_name_last_name` (`first_name`,`last_name`),
  FULLTEXT KEY `idx_first_name` (`first_name`),
  FULLTEXT KEY `idx_last_name` (`last_name`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user`
--

LOCK TABLES `user` WRITE;
/*!40000 ALTER TABLE `user` DISABLE KEYS */;
INSERT INTO `user` VALUES (0,NULL,1,'','','car_rental@gmail.com','car_rental@gmail.com','','car_rental@gmail.com','12345678',NULL,1,NULL,0.00,0,0,'2018-01-12 13:00:42','2018-01-12 11:03:04'),(1,NULL,1,'your_admin_fn','your_admin_ln','admin',NULL,NULL,'admin','admin',NULL,1,'*4ACFE3202A5FF5CF467898FC58AAB1D615029441pXrabfE=',0.00,0,0,'2018-01-12 13:03:04','2018-01-15 09:32:57'),(2,NULL,3,'Anonymous','User','Demouser',NULL,NULL,'Demouser','demouser',NULL,1,'*C57A23ADE58BF4B9DA561011ACE44862F4EE1A88hBfmUvQpzCE=',0.00,0,0,'2018-01-12 13:03:04','2018-01-13 13:52:10'),(3,NULL,3,'','','customer',NULL,NULL,'customer','',NULL,1,NULL,0.00,0,0,'2018-01-12 13:03:04','2018-01-12 11:03:04');
/*!40000 ALTER TABLE `user` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`fa_admin`@`localhost`*/ /*!50003 TRIGGER `247_car_rental`.`user_before_insert` BEFORE INSERT ON `247_car_rental`.`user` FOR EACH ROW SET NEW.create_date = Now() */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `user_review`
--

DROP TABLE IF EXISTS `user_review`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_review` (
  `user_id` int(10) unsigned NOT NULL,
  `review_user_id` int(10) unsigned NOT NULL,
  `description` varchar(128) DEFAULT '',
  `value` tinyint(4) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  KEY `idx_fk_user_id` (`user_id`),
  KEY `idx_fk_review_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_review`
--

LOCK TABLES `user_review` WRITE;
/*!40000 ALTER TABLE `user_review` DISABLE KEYS */;
/*!40000 ALTER TABLE `user_review` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database '247_car_rental'
--

--
-- Dumping routines for database '247_car_rental'
--
/*!50003 DROP FUNCTION IF EXISTS `add_attr` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_attr`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_attr_name VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_attr',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO attr (name) VALUES (p_attr_name);
    
    CALL add_audit(p_user,'add_attr',CONCAT('success: code=0 username=',p_user,' name=',p_attr_name));

  ELSE
    CALL add_audit(p_user,'add_attr',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_attr_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_attr_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_object_id INTEGER,
  p_object_name VARCHAR(32),
  p_attr_name VARCHAR(32),
  p_attr_value VARCHAR(256),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_attr_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO attr_part (object_id,object_name,name,value,language)
    VALUES (p_object_id,p_object_name,p_attr_name,p_attr_value,p_language);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_attr_part',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_attr_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_color` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_color`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_color_name VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_color',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO color (name) VALUES (p_color_name);
    
    CALL add_audit(p_user,'add_color',CONCAT('success: code=0 username=',p_user,' name=',p_color_name));

  ELSE
    CALL add_audit(p_user,'add_color',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_currency` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_currency`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_name VARCHAR(3),
  p_description VARCHAR(128),
  p_value VARCHAR(10),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_currency',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO currency (name,description,value,language)
    VALUES (p_name,p_description,p_value,p_language);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_currency',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_currency',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_delivery` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_delivery`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_transport_id INTEGER,
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_address VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_delivery',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND (v_user_type=1 OR v_user_type=2)) THEN

    -- admin only can set user_id
    IF v_user_type=2 THEN SET p_user_id=v_user_inner_id; END IF;

    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;
    IF p_latitude='' THEN SET p_latitude=NULL; END IF;
    IF p_longitude='' THEN SET p_longitude=NULL; END IF;

    INSERT INTO delivery (user_id,transport_id,latitude,longitude,address)
    VALUES (p_user_id,p_transport_id,p_latitude,p_longitude,p_address);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_delivery',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_delivery',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_delivery_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_delivery_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_delivery_type',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO delivery_type (name,language) VALUES (p_name,p_language);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_delivery_type',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_delivery_type',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_discount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_type_id INTEGER,
  p_type INTEGER,
  p_code VARCHAR(8),
  p_name VARCHAR(32),
  p_value INTEGER,
  p_language VARCHAR(32),
  p_start_date VARCHAR(20),
  p_finish_date VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_discount',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_product_type_id=-1 THEN SET p_product_type_id=NULL; END IF;
    IF p_start_date='' THEN SET p_start_date=NULL; END IF;
    IF p_finish_date='' THEN SET p_finish_date=NULL; END IF;

    INSERT INTO discount (product_type_id,type,code,name,value,language,start_date,finish_date)
    VALUES (p_product_type_id,p_type,p_code,p_name,p_value,p_language,p_start_date,p_finish_date);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_discount',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_discount',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_geocode` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_geocode`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_geocode_address VARCHAR(128),
  p_formatted_address VARCHAR(128),
  p_latitude DOUBLE,
  p_longitude DOUBLE) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_geocode',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR v_user='fa_client@localhost' THEN

    INSERT INTO geocode (geocode_address,formatted_address,latitude,longitude)
    VALUES (p_geocode_address,p_formatted_address,p_latitude,p_longitude);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_geocode',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_geocode',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_language` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_language`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_language_id INTEGER,
  p_name VARCHAR(32),
  p_value VARCHAR(32),
  p_code VARCHAR(5)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_language',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO language (id,name,value,code) VALUES (p_language_id,p_name,p_value,p_code);
    
    CALL add_audit(p_user,'add_language',CONCAT('success: code=0 username=',p_user,' id=',p_language_id,' name=',p_name));

  ELSE
    CALL add_audit(p_user,'add_language',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_manufacture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_manufacture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_name VARCHAR(32),
  p_description VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_manufacture',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO manufacture (name,description)
    VALUES (p_name,p_description);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_manufacture',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_manufacture',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_message` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_message`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_recipient VARCHAR(64),
  p_message VARCHAR(256)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_pos INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT LOCATE('+',p_recipient) INTO v_pos;
  IF v_pos!=0 THEN
    SELECT id INTO v_user_id FROM user WHERE phone=p_recipient LIMIT 0,1;
  ELSE
    SELECT LOCATE('@',p_recipient) INTO v_pos;
    IF v_pos!=0 THEN
      SELECT id INTO v_user_id FROM user WHERE email=p_recipient LIMIT 0,1;
      ELSE
        SELECT id INTO v_user_id FROM user WHERE call_name=p_recipient LIMIT 0,1; -- call_name is UNIQUE!
    END IF;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF (v_user='root@localhost' OR v_user='fa_admin@localhost' OR
      v_user='fa_client@localhost') AND v_user_id IS NOT NULL THEN

    INSERT INTO message (type,userA_id,userB_id,message)
    VALUES (1,v_user_inner_id,v_user_id,p_message);

    SET ret_val=LAST_INSERT_ID();

    INSERT INTO message (type,userA_id,userB_id,message)
    VALUES (2,v_user_inner_id,v_user_id,p_message);

  ELSE
    RETURN -5;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_AB` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_AB`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_transport_id INTEGER,
  p_total_price VARCHAR(16),
  p_route_distance INTEGER,
  p_route_duration INTEGER,
  p_route_data BLOB,
  p_order_lat VARCHAR(20),
  p_order_lon VARCHAR(20),
  p_order_address VARCHAR(128),
  p_delivery_lat VARCHAR(20),
  p_delivery_lon VARCHAR(20),
  p_delivery_address VARCHAR(128),
  p_delivery_type_id INTEGER,
  p_reserved_date VARCHAR(20),
  p_reserved_hours INTEGER) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_keyword VARCHAR(8) DEFAULT 'E2E4F117';

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_AB',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN

    -- set inner user_id for non admin
    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;

    IF p_transport_id=-1 THEN SET p_transport_id=NULL; END IF;
    IF p_total_price='' THEN SET p_total_price=0; END IF;
    IF p_route_distance=-1 THEN SET p_route_distance=NULL; END IF;
    IF p_route_duration=-1 THEN SET p_route_duration=NULL; END IF;
    IF p_route_data='' THEN SET p_route_data=NULL; END IF;
    IF p_order_lat='' THEN SET p_order_lat=NULL; END IF;
    IF p_order_lon='' THEN SET p_order_lon=NULL; END IF;
    IF p_delivery_lat='' THEN SET p_delivery_lat=NULL; END IF;
    IF p_delivery_lon='' THEN SET p_delivery_lon=NULL; END IF;
    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;
    IF p_reserved_date='' THEN SET p_reserved_date=NULL; END IF;
    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;

    INSERT INTO order_AB (user_id,transport_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours)
    VALUES (p_user_id,p_transport_id,p_total_price,p_route_distance,p_route_duration,p_route_data,p_delivery_lat,p_delivery_lon,p_delivery_address,p_delivery_type_id,p_order_lat,p_order_lon,p_order_address,p_reserved_date,p_reserved_hours);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_order_AB',CONCAT('success: code=0 username=',p_user,' id=',ret_val));
    
    IF p_transport_id IS NOT NULL THEN
	  CALL update_user_prepaid_amount_by_order_AB(p_user,ret_val,p_transport_id,FALSE,v_keyword); -- transfer fund
    END IF;

  ELSE
    CALL add_audit(p_user,'add_order_AB',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_AB_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_AB_product_param_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_param_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;
  DECLARE v_price VARCHAR(16);
  -- DECLARE v_discount INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_AB_product_param_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    -- set price for one product without discount
    IF v_user_type=3 THEN
      SELECT price INTO v_price FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;
      SET p_price=v_price;
    END IF;

    INSERT INTO order_AB_product_param_part (order_id,product_id,product_param_id,count,price)
    VALUES (p_order_id,p_product_id,p_param_id,p_count,p_price);

    CALL add_audit(p_user,'add_order_AB_product_param_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'add_order_AB_product_param_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_AB_product_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_AB_product_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;
  DECLARE v_price VARCHAR(16);
  -- DECLARE v_discount INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_AB_product_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    -- set price for one product without discount
    IF v_user_type=2 OR v_user_type=3 THEN
      SELECT price INTO v_price FROM product WHERE id=p_product_id;
      SET p_price=v_price;
    END IF;

    INSERT INTO order_AB_product_part (order_id,product_id,count,price)
    VALUES (p_order_id,p_product_id,p_count,p_price);
    
    CALL add_audit(p_user,'add_order_AB_product_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'add_order_AB_product_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_AB_user_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_AB_user_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_product_param_id_1 INTEGER,
  p_product_param_id_2 INTEGER,
  p_pickup_status_id INTEGER,
  p_pickup_lat VARCHAR(20),
  p_pickup_lon VARCHAR(20),
  p_pickup_address VARCHAR(128),
  p_pickup_date VARCHAR(20),
  p_pickup_info VARCHAR(128),
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_status_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_AB_user_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  SELECT order_status_id INTO v_status_id FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_status_id=1) THEN

    -- set inner user_id for non admin
    IF v_user_type=2 OR v_user_type=3 THEN SET p_user_id=v_user_inner_id;END IF;

    INSERT INTO order_AB_user_part (order_id,user_id,product_param_id_1,product_param_id_2,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price)
    VALUES (p_order_id,p_user_id,p_product_param_id_1,p_product_param_id_2,p_pickup_lat,p_pickup_lon,p_pickup_address,p_pickup_date,p_pickip_info,p_price);
    
    CALL add_audit(p_user,'add_order_AB_user_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'add_order_AB_user_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_job` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_job`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_customer_user_id INTEGER,
  p_worker_user_id INTEGER,
  p_total_price VARCHAR(16),
  p_order_lat VARCHAR(20),
  p_order_lon VARCHAR(20),
  p_order_address VARCHAR(128),
  p_product_id INTEGER,
  p_reserved_date VARCHAR(20),
  p_reserved_hours INTEGER) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_job',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND (v_user_type=1 OR v_user_type=2 OR v_user_type=3)) THEN

    -- set inner user_id for non admin
    IF v_user_type=2 OR v_user_type=3 THEN SET p_customer_user_id=v_user_inner_id;END IF;

    IF p_worker_user_id=-1 THEN SET p_worker_user_id=NULL; END IF;
    IF p_total_price='' THEN SET p_total_price=0; END IF;
    IF p_order_lat='' THEN SET p_order_lat=NULL; END IF;
    IF p_order_lon='' THEN SET p_order_lon=NULL; END IF;
    IF p_product_id=-1 THEN SET p_product_id=NULL; END IF;
    IF p_reserved_date='' THEN SET p_reserved_date=NULL; END IF;
    IF p_reserved_hours=-1 THEN SET p_reserved_hours=NULL; END IF;

    INSERT INTO order_job (customer_user_id,worker_user_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours)
    VALUES (p_customer_user_id,p_worker_user_id,p_total_price,p_order_lat,p_order_lon,p_order_address,p_product_id,p_reserved_date,p_reserved_hours);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_order_job',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_order_job',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_order_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_order_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_order_status',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO order_status (id,name,language) VALUES (p_status_id,p_name,p_language);
    
    CALL add_audit(p_user,'add_order_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id,' name=',p_name));

  ELSE
    CALL add_audit(p_user,'add_order_status',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_payment` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_payment`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_purchase_id INTEGER,
  p_amount VARCHAR(10),
  p_currency VARCHAR(3),
  p_description VARCHAR(128),
  p_status VARCHAR(20),
  p_transaction_id VARCHAR(128),
  p_phone VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_payment',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_amount='' THEN SET p_amount=0; END IF;

    INSERT INTO payment (purchase_id,amount,currency,description,status,transaction_id,phone)
    VALUES (p_purchase_id,p_amount,p_currency,p_description,p_status,p_transaction_id,p_phone);
    
    CALL add_audit(p_user,'add_payment',CONCAT('success: code=0 username=',p_user));

  ELSE
    CALL add_audit(p_user,'add_payment',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_pickup_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_pickup_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_pickup_status',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO pickup_status (id,name,language) VALUES (p_status_id,p_name,p_language);
    
    CALL add_audit(p_user,'add_pickup_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id,' name=',p_name));

  ELSE
    CALL add_audit(p_user,'add_pickup_status',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_prepaid_card` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_prepaid_card`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_serial_number VARCHAR(64),
  p_prepaid_code VARCHAR(16),
  p_amount VARCHAR(8)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_prepaid_card',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_amount='' THEN SET p_amount='0.00'; END IF;

    INSERT INTO prepaid_card (serial_number,prepaid_code,amount)
    VALUES (p_serial_number,p_prepaid_code,p_amount);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_prepaid_card',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_prepaid_card',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_manufacture_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_code VARCHAR(32),
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT SUBSTRING_INDEX(USER(),"@",1) INTO v_user;

  IF v_user='root' OR v_user='fa_admin' OR
     (v_user='fa_client' AND v_user_type=1) THEN

    IF p_manufacture_id=-1 THEN SET p_manufacture_id=NULL; END IF;

    INSERT INTO product (manufacture_id,name,description,code,price)
    VALUES (p_manufacture_id,p_name,p_description,p_code,p_price);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_product',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_product',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_circle`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_productA_id INTEGER,
  p_productB_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_circle',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO product_circle (productA_id,productB_id)
    VALUES (p_productA_id,p_productB_id);

    CALL add_audit(p_user,'add_product_circle',CONCAT('success: code=0 username=',p_user,' productA_id=',p_productA_id,' productB_id=',p_productB_id));

  ELSE
    CALL add_audit(p_user,'add_product_circle',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_param` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_param`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_value VARCHAR(64),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_param',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;

    INSERT INTO product_param (parent_id,name,value,language)
    VALUES (p_parent_id,p_name,p_value,p_language);

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_user,'add_product_param',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_product_param',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_param_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_param_id INTEGER,
  p_value VARCHAR(64),
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_param_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO product_param_part (product_id,product_param_id,value,price)
    VALUES (p_product_id,p_param_id,p_value,p_price);
    
    CALL add_audit(p_user,'add_product_param_part',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'add_product_param_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_product_id INTEGER,
  p_description VARCHAR(128),
  p_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_count INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_review',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT count(*) INTO v_count
  FROM product_review
  WHERE user_id=p_user_id AND product_id=p_product_id;

  IF v_count>0 THEN
    CALL add_audit(p_user,'add_product_review',CONCAT('error: code=-4 username=',p_user,' id=',p_product_id,' value=',p_value));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR v_user_id=p_user_id THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM product
    WHERE id=p_product_id;

    SET v_review_count=v_review_count+1;
    SET v_review_value=v_review_value+p_value;

    INSERT INTO product_review (user_id,product_id,description,value)
    VALUES (p_user_id,p_product_id,p_description,p_value);

    UPDATE product SET review_count=v_review_count,
                       review_value=v_review_value
    WHERE id=p_product_id;

    CALL add_audit(p_user,'add_product_review',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'add_product_review',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_type',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;

    INSERT INTO product_type (parent_id,name,description,language)
    VALUES (p_parent_id,p_name,p_description,p_language);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_product_type',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_product_type',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_product_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_product_type_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_product_type_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO product_type_part (product_id,product_type_id)
    VALUES (p_product_id,p_type_id);
    
    CALL add_audit(p_user,'add_product_type_part',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' type_id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'add_product_type_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_project` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_project`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_name VARCHAR(64),
  p_description VARCHAR(128),
  p_ip_address VARCHAR(15)) RETURNS int(11)
BEGIN

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  
  DECLARE v_api_key VARCHAR(64);
  DECLARE v_name VARCHAR(64);
  DECLARE v_schema_name VARCHAR(64);
  DECLARE v_schema_prefix_name VARCHAR(256); -- as settings value
  DECLARE v_ip_address VARCHAR(15);
  DECLARE v_time_left INTEGER; -- in hours
  
  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_project',CONCAT('error: code=-1 username=',p_user,' name=',p_name,' ip_address=',p_ip_address));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT SUBSTRING_INDEX(USER(),"@",1) INTO v_user;

  IF v_user='root' OR v_user='fa_admin' OR v_user='fa_client' THEN

    -- name verify for unique
    SELECT name INTO v_name FROM project WHERE name=p_name;
    
    IF v_name IS NOT NULL THEN
      CALL add_audit(p_user,'add_project',CONCAT('error: code=-11 username=',p_user,' name=',p_name,' ip_address=',p_ip_address));
      RETURN -11;
	END IF;
        
    -- ip_address and time creation verify
    IF v_user_type>1 THEN
      SELECT ip_address,(UNIX_TIMESTAMP(Now())-UNIX_TIMESTAMP(create_date))/3600 INTO v_ip_address,v_time_left FROM project WHERE ip_address=p_ip_address ORDER BY create_date ASC LIMIT 0,1;

      IF v_ip_address IS NOT NULL AND v_time_left < 2 THEN
        CALL add_audit(p_user,'add_project',CONCAT('error: code=-12 username=',p_user,' name=',p_name,' ip_address=',p_ip_address));
        RETURN -12;
      END IF;
    END IF;

	-- api_key
    SELECT value INTO v_schema_prefix_name FROM settings WHERE code='schema_prefix_name';
    IF v_schema_prefix_name IS NULL THEN SET v_schema_prefix_name='_'; END IF;

    SET v_schema_name=LOWER(CONCAT(v_schema_prefix_name,REPLACE(p_name,' ','_')));
    SET v_api_key=TO_BASE64(ENCODE(Now()/*v_schema_name*/,p_pass));
    -- SET v_api_key=v_schema_name;

    INSERT INTO project (user_id,name,description,ip_address,api_key,schema_name,active)
    VALUES (v_user_inner_id,p_name,p_description,p_ip_address,v_api_key,v_schema_name,TRUE);

    CALL add_audit(p_user,'add_project',CONCAT('success: code=0 username=',p_user,' api_key=',v_api_key,/*' schema_name=',v_schema_name,*/' ip_address=',p_ip_address));

  ELSE
    CALL add_audit(p_user,'add_project',CONCAT('error: code=-3 username=',p_user,' name=',p_name,' ip_address=',p_ip_address));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_purchase` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_purchase`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_invoice_code VARCHAR(32),
  p_invoice_date VARCHAR(20),
  p_total_price VARCHAR(16),
  p_total_tax VARCHAR(10),
  p_order_id INTEGER,
  p_order_date VARCHAR(20),
  p_order_info VARCHAR(128),
  p_delivery_id INTEGER,
  p_delivery_code VARCHAR(32),
  p_delivery_type_id INTEGER,
  p_delivery_date VARCHAR(20),
  p_delivery_price VARCHAR(16),
  p_payment_date VARCHAR(20),
  p_payment_info VARCHAR(128),
  p_payment_amount VARCHAR(10)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  DECLARE v_count INTEGER;

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_purchase',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  SELECT count(*) INTO v_count
  FROM purchase
  WHERE order_id=p_order_id AND user_id=p_user_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     ((v_user='fa_client@localhost' AND v_user_type=1) OR 
      (v_user='fa_client@localhost' AND v_user_type=2 AND is_driver_of_order(p_user,p_order_id)=1 AND v_count<1)) THEN

    IF p_invoice_date='' THEN SET p_invoice_date=NULL; END IF;
    IF p_order_id=-1 THEN SET p_order_id=NULL; END IF;
    IF p_order_date='' THEN SET p_order_date=NULL; END IF;
    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;
    IF p_delivery_date='' THEN SET p_delivery_date=NULL; END IF;
    IF p_delivery_price='' THEN SET p_delivery_price=NULL; END IF;
    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;
    IF p_payment_date='' THEN SET p_payment_date=NULL; END IF;
    IF p_payment_amount='' THEN SET p_payment_amount=NULL; END IF;

    INSERT INTO purchase (user_id,invoice_code,invoice_date,total_price,total_tax,
                          order_id,order_date,order_info,
                          delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,
                          payment_date,payment_info,payment_amount)
    VALUES (p_user_id,p_invoice_code,p_invoice_date,p_total_price,p_total_tax,
            p_order_id,p_order_date,p_order_info,
            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,
            p_payment_date,p_payment_info,p_payment_amount);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_purchase',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_purchase',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_name VARCHAR(32),
  p_serial_number VARCHAR(64),
  p_device_name VARCHAR(64),
  p_phone VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_sensor',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     v_user='fa_client@localhost' THEN

    -- set inner user_id for non adminadd_sensoradd_sensor
    IF v_user_type=3 OR v_user_type=2 THEN SET p_user_id=v_user_inner_id;END IF;

    SELECT id INTO ret_val FROM sensor WHERE user_id=p_user_id AND device_name=p_device_name AND phone=p_phone;

    IF ret_val IS NULL THEN
      INSERT INTO sensor (user_id,name,serial_number,device_name,phone)
      VALUES (p_user_id,p_name,p_serial_number,p_device_name,p_phone);

      SET ret_val=LAST_INSERT_ID();
      
      CALL add_audit(p_user,'add_sensor',CONCAT('success: code=0 username=',p_user,' id=',ret_val));
      
    END IF;

  ELSE
    CALL add_audit(p_user,'add_sensor',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor_circle`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensorA_id INTEGER,
  p_sensorB_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_create_date DATE;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    SELECT create_date INTO v_create_date FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;

    IF v_create_date IS NULL THEN
      INSERT INTO sensor_circle (sensorA_id,sensorB_id)
      VALUES (p_sensorA_id,p_sensorB_id);
    END IF;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor_circle_to_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor_circle_to_user`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_user_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;

  DECLARE c_sensor CURSOR FOR
  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_sensor;
  get_data: LOOP

  FETCH c_sensor INTO v_id;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  SELECT add_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;

  END LOOP get_data;
  CLOSE c_sensor;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor_group` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor_group`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_name VARCHAR(32),
  p_start_date VARCHAR(20),
  p_finish_date VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    INSERT INTO sensor_group (sensor_id,name,start_date,finish_date)
    VALUES (p_sensor_id,p_name,p_start_date,p_finish_date);

    SET ret_val=LAST_INSERT_ID();

  ELSE
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor_group_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor_group_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_group_id INTEGER,
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    INSERT INTO sensor_group_part (sensor_group_id,sensor_id)
    VALUES (p_group_id,p_sensor_id);

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_sensor_place` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_sensor_place`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    INSERT INTO sensor_place (sensor_id,latitude,longitude,name,description,language)
    VALUES (p_sensor_id,p_latitude,p_longitude,p_name,p_description,p_language);

    SET ret_val=LAST_INSERT_ID();

  ELSE
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_settings` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_settings`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_code VARCHAR(32),
  p_name VARCHAR(64),
  p_value VARCHAR(64)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_settings',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

	INSERT INTO settings (code,name,value)
	VALUES (p_code,p_name,p_value);
      
	CALL add_audit(p_user,'add_settings',CONCAT('success: code=0 username=',p_user,' settings_code=',p_code,' value=',p_value));

  ELSE
    CALL add_audit(p_user,'add_settings',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_stock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_stock`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_store_id INTEGER,
  p_count INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_stock',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO stock (product_id,store_id,count)
    VALUES (p_product_id,p_store_id,p_count);
    
    CALL add_audit(p_user,'add_stock',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));

  ELSE
    CALL add_audit(p_user,'add_stock',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_stock_invoice` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_stock_invoice`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_invoice_code VARCHAR(32),
  p_invoice_date VARCHAR(20),
  p_total_price VARCHAR(16),
  p_total_tax VARCHAR(10),
  p_supplier VARCHAR(32),
  p_phone VARCHAR(20),
  p_delivery_id INTEGER,
  p_delivery_code VARCHAR(32),
  p_delivery_type_id INTEGER,
  p_delivery_date VARCHAR(20),
  p_delivery_price VARCHAR(16),
  p_payment_date VARCHAR(20),
  p_payment_info VARCHAR(32),
  p_payment_amount VARCHAR(10)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_stock_invoice',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_invoice_date='' THEN SET p_invoice_date=NULL; END IF;
    IF p_delivery_id=-1 THEN SET p_delivery_id=NULL; END IF;
    IF p_delivery_date='' THEN SET p_delivery_date=NULL; END IF;
    IF p_delivery_price='' THEN SET p_delivery_price=NULL; END IF;
    IF p_delivery_type_id=-1 THEN SET p_delivery_type_id=NULL; END IF;
    IF p_payment_date='' THEN SET p_payment_date=NULL; END IF;
    IF p_payment_amount='' THEN SET p_payment_amount=NULL; END IF;

    INSERT INTO stock_invoice (invoice_code,invoice_date,total_price,total_tax,supplier,phone,
                               delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,
                               payment_date,payment_info,payment_amount)
    VALUES (p_invoice_code,p_invoice_date,p_total_price,p_total_tax,p_supplier,p_phone,
            p_delivery_id,p_delivery_code,p_delivery_type_id,p_delivery_date,p_delivery_price,
            p_payment_date,p_payment_info,p_payment_amount);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_stock_invoice',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_stock_invoice',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_stock_invoice_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_stock_invoice_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_stock_invoice_id INTEGER,
  p_product_id INTEGER,
  p_tax_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_stock_invoice_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_tax_id=-1 THEN SET p_tax_id=NULL; END IF;

    INSERT INTO stock_invoice_part (stock_invoice_id,product_id,tax_id,count,price)
    VALUES (p_stock_invoice_id,p_product_id,p_tax_id,p_count,p_price);

    -- UPDATE STOCK_INVOICE IN total_price,total_tax
    -- UPDATE STOCK IN count
    
    CALL add_audit(p_user,'add_stock_invoice_part',CONCAT('success: code=0 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'add_stock_invoice_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_store` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_store`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_name VARCHAR(128),
  p_description VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_store',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO store (name,description) VALUES (p_name,p_description);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_store',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_store',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_store_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_store_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_store_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_email VARCHAR(64),
  p_phone1 VARCHAR(20),
  p_phone2 VARCHAR(20),
  p_address VARCHAR(128),
  p_city VARCHAR(64),
  p_postcode VARCHAR(12),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_store_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_latitude='' THEN SET p_latitude=NULL; END IF;
    IF p_longitude='' THEN SET p_longitude=NULL; END IF;

    INSERT INTO store_part (store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language)
    VALUES (p_store_id,p_name,p_description,p_latitude,p_longitude,p_email,p_phone1,p_phone2,p_address,p_city,p_postcode,p_language);
    
    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_store_part',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_store_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_tax` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_tax`(
  p_user VARCHAR(64),  
  p_pass VARCHAR(16),
  p_code VARCHAR(32),
  p_name VARCHAR(32),
  p_value VARCHAR(10),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_tax',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO tax (code,name,value,language) VALUES (p_code,p_name,p_value,p_language);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_tax',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_tax',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_track` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_track`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_type_id INTEGER,
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_time VARCHAR(20),
  p_altitude VARCHAR(20),
  p_accuracy VARCHAR(20),
  p_bearing VARCHAR(20),
  p_speed VARCHAR(20),
  p_satellites VARCHAR(3),
  p_battery VARCHAR(3),
  p_timezone_offset VARCHAR(6)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_time='' THEN SET p_time=NULL; END IF;
    IF p_altitude='' THEN SET p_altitude=NULL; END IF;
    IF p_accuracy='' THEN SET p_accuracy=NULL; END IF;
    IF p_bearing='' THEN SET p_bearing=NULL; END IF;
    IF p_speed='' THEN SET p_speed=NULL; END IF;
    IF p_satellites='' THEN SET p_satellites=NULL; END IF;
    IF p_battery='' THEN SET p_battery=NULL; END IF;
    IF p_timezone_offset='' THEN SET p_timezone_offset=NULL; END IF;

    INSERT INTO track (sensor_id,track_type_id,latitude,longitude,time,altitude,accuracy,bearing,speed,satellites,battery,timezone_offset)
    VALUES (p_sensor_id,p_type_id,p_latitude,p_longitude,p_time,p_altitude,p_accuracy,p_bearing,p_speed,p_satellites,p_battery,p_timezone_offset);

    SET ret_val=LAST_INSERT_ID();

  ELSE
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_track_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_track_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_track_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    INSERT INTO track_part (track_id,name,description,language)
    VALUES (p_track_id,p_name,p_description,p_language);

    SET ret_val=LAST_INSERT_ID();

  ELSE
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_track_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_track_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_track_type',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO track_type (id,name,language) VALUES (p_type_id,p_name,p_language);
    
    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_track_type',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_track_type',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_transport`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_name VARCHAR(128),
  p_color VARCHAR(16),
  p_license_plate VARCHAR(12)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_transport',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND (v_user_type=1 OR v_user_type=2)) THEN

    IF p_sensor_id=-1 THEN SET p_sensor_id=NULL; END IF;

    INSERT INTO transport (sensor_id,name,color,license_plate)
    VALUES (p_sensor_id,p_name,p_color,p_license_plate);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_transport',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_transport',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_transport_product_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_transport_product_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_transport_product_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO transport_product_part (transport_id,product_id)
    VALUES (p_transport_id,p_product_id);

    CALL add_audit(p_user,'add_transport_product_part',CONCAT('success: code=0 username=',p_user,' transport_id=',p_transport_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'add_transport_product_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_transport_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_transport_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_transport_id INTEGER,
  p_description VARCHAR(128),
  p_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_count INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_transport_review',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT count(*) INTO v_count
  FROM transport_review
  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;

  IF v_count>0 THEN
    CALL add_audit(p_user,'add_transport_review',CONCAT('error: code=-4 username=',p_user,' id=',p_transport_id));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR (v_user_id=p_user_id AND is_my_order(p_user,p_order_id)) THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM transport
    WHERE id=p_transport_id;

    SET v_review_count=v_review_count+1;
    SET v_review_value=v_review_value+p_value;

    INSERT INTO transport_review (order_id,user_id,transport_id,description,value)
    VALUES (p_order_id,p_user_id,p_transport_id,p_description,p_value);

    UPDATE transport SET review_count=v_review_count,
                         review_value=v_review_value
    WHERE id=p_transport_id;

    CALL add_audit(p_user,'add_transport_review',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id,' value=',p_value));

  ELSE
    CALL add_audit(p_user,'add_transport_review',CONCAT('error: code=-3 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_transport_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_transport_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_transport_type',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id=-1 THEN SET p_parent_id=NULL; END IF;

    INSERT INTO transport_type (parent_id,name,description,language)
    VALUES (p_parent_id,p_name,p_description,p_language);

    SET ret_val=LAST_INSERT_ID();
    
    CALL add_audit(p_user,'add_transport_type',CONCAT('success: code=0 username=',p_user,' id=',ret_val));

  ELSE
    CALL add_audit(p_user,'add_transport_type',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_transport_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_transport_type_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_transport_type_part',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    INSERT INTO transport_type_part (transport_id,transport_type_id)
    VALUES (p_transport_id,p_type_id);
    
    CALL add_audit(p_user,'add_transport_type_part',CONCAT('success: code=0 username=',p_user,' transport_id=',p_transport_id,' type_id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'add_transport_type_part',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_user`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type INTEGER,
  p_first_name VARCHAR(32),
  p_last_name VARCHAR(32),
  p_call_name VARCHAR(32),
  p_email VARCHAR(64),
  p_phone VARCHAR(20),
  p_username VARCHAR(64),
  p_password VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE ret_val INTEGER;

  DECLARE v_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user_count INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT count(*) INTO v_user_count
  FROM user
  WHERE username=p_username;

  IF v_user_count>0 THEN

    SELECT id INTO v_id
    FROM user
    WHERE username=p_username AND password=p_password;

    IF v_id IS NULL THEN
      CALL add_audit(p_username,'add_user',CONCAT('error: code=-2 username=',p_username));
      RETURN -2;
    ELSE
      RETURN v_id;
    END IF;

  END IF;

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     v_user='fa_client@localhost' THEN

    IF v_user_type=1 THEN
      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)
      VALUES (p_type,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);
    ELSE
      INSERT INTO user (type,first_name,last_name,call_name,email,phone,username,password)
      VALUES (3,p_first_name,p_last_name,p_call_name,p_email,p_phone,p_username,p_password);
    END IF;

    SET ret_val=LAST_INSERT_ID();

    CALL add_audit(p_username,'add_user',CONCAT('success: code=0 username=',p_username,' id=',ret_val));

  ELSE
    CALL add_audit(p_username,'add_user',CONCAT('error: code=-3 username=',p_username));
    RETURN -3;
  END IF;

  -- RETURN 0;
  RETURN ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `add_user_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `add_user_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_review_user_id INTEGER,
  p_description VARCHAR(128),
  p_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_count INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'add_user_review',CONCAT('error: code=-1 username=',p_user,' id=',p_review_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT count(*) INTO v_count
  FROM user_review
  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;

  IF v_count>10 THEN
    CALL add_audit(p_user,'add_user_review',CONCAT('error: code=-4 username=',p_user,' id=',p_review_user_id,' value=',p_value));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR v_user_id=p_user_id THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM user
    WHERE id=p_review_user_id;

    SET v_review_count=v_review_count+1;
    SET v_review_value=v_review_value+p_value;

    INSERT INTO user_review (user_id,review_user_id,description,value)
    VALUES (p_user_id,p_review_user_id,p_description,p_value);

    UPDATE user SET review_count=v_review_count,
                    review_value=v_review_value
    WHERE id=p_review_user_id;

    CALL add_audit(p_user,'add_user_review',CONCAT('success: code=0 username=',p_user,' id=',p_review_user_id));

  ELSE
    CALL add_audit(p_user,'add_user_review',CONCAT('error: code=-3 username=',p_user,' id=',p_review_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `decrease_user_prepaid_amount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `decrease_user_prepaid_amount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_amount DECIMAL(6,2)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  
  DECLARE v_prepaid_amount DECIMAL(6,2);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'decrease_user_prepaid_amount',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1 AND p_prepaid_amount!='') THEN

    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;

    SET v_prepaid_amount=v_prepaid_amount-p_amount;

    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;

    CALL add_audit(p_user,'decrease_user_prepaid_amount',CONCAT('success: code=0 username=',p_user,' id=',p_user_id,' -',p_amount));

  ELSE
    CALL add_audit(p_user,'decrease_user_prepaid_amount',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_attr_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_attr_part`(
  p_object_id INTEGER,
  p_object_name VARCHAR(64),
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(256);

  DECLARE v_attr MEDIUMTEXT DEFAULT '';

  DECLARE c_attr CURSOR FOR
  SELECT id,
         replace_text(name),
         IF(value IS NULL,'',replace_text(value))
  FROM attr_part
  WHERE object_name=p_object_name AND object_id=p_object_id AND language LIKE p_language
  ORDER BY id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_attr;
  get_data: LOOP

  FETCH c_attr INTO v_id,v_name,v_value;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_attr=CONCAT(v_attr,'{',
      CONCAT(CHAR(34),'attr_part_id',CHAR(34),':',v_id,',',
      CHAR(34),'attr_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'attr_value',CHAR(34),':',CHAR(34),v_value,CHAR(34)),'},');

  END LOOP get_data;
  CLOSE c_attr;

  SET v_attr=SUBSTR(v_attr,1,CHAR_LENGTH(v_attr)-1);

  RETURN v_attr;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_attr_part_value` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_attr_part_value`(
  p_object_id INTEGER,
  p_object_name VARCHAR(64),
  p_attr_name  VARCHAR(32),
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_attr_value MEDIUMTEXT DEFAULT '';
  
  SELECT value INTO v_attr_value FROM attr_part
  WHERE object_name=p_object_name AND object_id=p_object_id AND name=p_attr_name AND language LIKE p_language;

  RETURN v_attr_value;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_discount`(
  p_discount_code VARCHAR(8),
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_id INTEGER;
  DECLARE v_product_type_id VARCHAR(10);
  DECLARE v_discount_attr MEDIUMTEXT;
  DECLARE v_type VARCHAR(2);
  DECLARE v_code VARCHAR(8);
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(10);
  DECLARE v_language VARCHAR(32);
  DECLARE v_start_date VARCHAR(20);
  DECLARE v_finish_date VARCHAR(20);

  DECLARE v_discount MEDIUMTEXT DEFAULT '';

  SELECT id,IFNULL(product_type_id,'null'),get_attr_part(id,'discount',p_language),type,code,
         replace_text(name),
         value,IFNULL(language,''),IFNULL(start_date,''),IFNULL(finish_date,'')
  INTO v_id,v_product_type_id,v_discount_attr,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date
  FROM discount
  WHERE code=p_discount_code;

  -- json
  SET v_discount=CONCAT('{',
      CONCAT(CHAR(34),'discount_id',CHAR(34),':',v_id,',',
      CHAR(34),'product_type_id',CHAR(34),':',v_product_type_id,',',
      CHAR(34),'discount_attr',CHAR(34),':[',v_discount_attr,']',',',
      CHAR(34),'discount_type',CHAR(34),':',CHAR(34),v_type,CHAR(34),',',
      CHAR(34),'discount_code',CHAR(34),':',CHAR(34),v_code,CHAR(34),',',
      CHAR(34),'discount_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'discount_value',CHAR(34),':',CHAR(34),v_value,CHAR(34),',',
      CHAR(34),'language',CHAR(34),':',CHAR(34),v_language,CHAR(34),',',
      CHAR(34),'start_date',CHAR(34),':',CHAR(34),v_start_date,CHAR(34),',',
      CHAR(34),'finish_date',CHAR(34),':',CHAR(34),v_finish_date,CHAR(34)),'},');

  IF v_discount IS NULL THEN
    SET v_discount='';
  ELSE
    SET v_discount=SUBSTR(v_discount,1,CHAR_LENGTH(v_discount)-1);
  END IF;

  -- ONE DISCOUNT RETURN
  RETURN v_discount;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_order_AB_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_order_AB_product_param_part`(
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(64);
  DECLARE v_part_value VARCHAR(64);
  DECLARE v_count VARCHAR(10);
  DECLARE v_price VARCHAR(16);
  DECLARE v_param_attr MEDIUMTEXT;

  DECLARE v_order_AB_product_param_part MEDIUMTEXT DEFAULT '';

  DECLARE c_order_AB_product_param_part CURSOR FOR
  SELECT pp.id,
         replace_text(pp.name),
         IF(pp.value IS NULL,'',replace_text(pp.value)),
         IF(ppp.value IS NULL,'',replace_text(ppp.value)),
         oppp.count,oppp.price,get_attr_part(pp.id,'product_param',p_language)
  FROM product_param pp,product_param_part ppp,order_AB_product_param_part oppp
  WHERE oppp.order_id=p_order_id AND oppp.product_id=p_product_id AND
        oppp.product_id=ppp.product_id AND oppp.product_param_id=ppp.product_param_id AND ppp.product_param_id=pp.id
  ORDER BY pp.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_order_AB_product_param_part;
  get_data: LOOP

  FETCH c_order_AB_product_param_part INTO v_id,v_name,v_value,v_part_value,v_count,v_price,v_param_attr;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_order_AB_product_param_part=CONCAT(v_order_AB_product_param_part,'{',
      CONCAT(CHAR(34),'param_id',CHAR(34),':',v_id,',',
      CHAR(34),'param_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'param_value',CHAR(34),':',CHAR(34),v_value,CHAR(34),',',
      CHAR(34),'param_part_value',CHAR(34),':',CHAR(34),v_part_value,CHAR(34),',',
      CHAR(34),'param_part_count',CHAR(34),':',v_count,',',
      CHAR(34),'param_part_price',CHAR(34),':',v_price,',',
      CHAR(34),'param_attr',CHAR(34),':[',v_param_attr,']'),'},');

  END LOOP get_data;
  CLOSE c_order_AB_product_param_part;

  SET v_order_AB_product_param_part=SUBSTR(v_order_AB_product_param_part,1,CHAR_LENGTH(v_order_AB_product_param_part)-1);

  RETURN v_order_AB_product_param_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_product` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_product`(
  p_product_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_manufacture_id INTEGER;
  DECLARE v_discount_code VARCHAR(8);
  DECLARE v_discount MEDIUMTEXT;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_code VARCHAR(32);
  DECLARE v_price VARCHAR(16);
  DECLARE v_rate VARCHAR(10);
  DECLARE v_count INTEGER;

  DECLARE v_product MEDIUMTEXT DEFAULT '';

  DECLARE c_product CURSOR FOR
  SELECT p.id,p.manufacture_id,IFNULL(p.discount_code,''),
         IF(p.discount_code IS NULL,'',get_discount(d.id,p_language)),
         replace_text(p.name),
         replace_text(p.description),
         p.code,p.price,
         IF(p.review_count=0,0,ROUND(p.review_value/p.review_count,2)),
         get_stock_count(p.id)
  FROM product p LEFT JOIN discount d ON d.code=p.discount_code
  WHERE p.id=p_product_id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_product;
  get_data: LOOP

  FETCH c_product INTO v_id,v_manufacture_id,v_discount_code,v_discount,v_name,v_description,v_code,v_price,v_rate,v_count;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_product=CONCAT(v_product,'{',
        CONCAT(CHAR(34),'product_id',CHAR(34),':',v_id,',',
        CHAR(34),'manufacture_id',CHAR(34),':',v_manufacture_id,',',
        CHAR(34),'discount_code',CHAR(34),':',CHAR(34),v_discount_code,CHAR(34),',',
        CHAR(34),'discount',CHAR(34),':[',v_discount,'],',
        CHAR(34),'product_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
        CHAR(34),'description',CHAR(34),':',CHAR(34),v_description,CHAR(34),',',
        CHAR(34),'product_code',CHAR(34),':',CHAR(34),v_code,CHAR(34),',',
        CHAR(34),'product_price',CHAR(34),':',v_price,',',
        CHAR(34),'product_rate',CHAR(34),':',v_rate,',',
        CHAR(34),'stock_count',CHAR(34),':',v_count),'},');

  END LOOP get_data;
  CLOSE c_product;

  SET v_product=SUBSTR(v_product,1,CHAR_LENGTH(v_product)-1);

  -- ONE PRODUCT RETURN (but code writing for cursor->WHERE id LIKE)
  RETURN v_product;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_product_param_part`(
  p_product_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(64);
  DECLARE v_part_value VARCHAR(64);
  DECLARE v_price VARCHAR(16);
  DECLARE v_param_attr MEDIUMTEXT;

  DECLARE v_product_param_part MEDIUMTEXT DEFAULT '';

  DECLARE c_product_param_part CURSOR FOR
  SELECT pp.id,
         replace_text(pp.name),
         IF(pp.value IS NULL,'',replace_text(pp.value)),
         IF(ppp.value IS NULL,'',replace_text(ppp.value)),
         ppp.price,get_attr_part(pp.id,'product_param',p_language)
  FROM product_param pp,product_param_part ppp
  WHERE ppp.product_id=p_product_id AND ppp.product_param_id=pp.id
  ORDER BY pp.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_product_param_part;
  get_data: LOOP

  FETCH c_product_param_part INTO v_id,v_name,v_value,v_part_value,v_price,v_param_attr;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_product_param_part=CONCAT(v_product_param_part,'{',
      CONCAT(CHAR(34),'param_id',CHAR(34),':',v_id,',',
      CHAR(34),'param_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'param_value',CHAR(34),':',CHAR(34),v_value,CHAR(34),',',
      CHAR(34),'param_part_value',CHAR(34),':',CHAR(34),v_part_value,CHAR(34),',',
      CHAR(34),'param_part_price',CHAR(34),':',v_price,',',
      CHAR(34),'param_attr',CHAR(34),':[',v_param_attr,']'),'},');

  END LOOP get_data;
  CLOSE c_product_param_part;

  SET v_product_param_part=SUBSTR(v_product_param_part,1,CHAR_LENGTH(v_product_param_part)-1);

  RETURN v_product_param_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_product_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_product_type_part`(
  p_product_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_type_attr MEDIUMTEXT;

  DECLARE v_product_type_part MEDIUMTEXT DEFAULT '';

  DECLARE c_product_type_part CURSOR FOR
  SELECT pt.id,
         replace_text(pt.name),
         replace_text(pt.description),
         get_attr_part(pt.id,'product_type',p_language)
  FROM product_type pt,product_type_part ptp
  WHERE ptp.product_id=p_product_id AND ptp.product_type_id=pt.id
  ORDER BY pt.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_product_type_part;
  get_data: LOOP

  FETCH c_product_type_part INTO v_id,v_name,v_description,v_type_attr;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_product_type_part=CONCAT(v_product_type_part,'{',
      CONCAT(CHAR(34),'type_id',CHAR(34),':',v_id,',',
      CHAR(34),'type_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'description',CHAR(34),':',CHAR(34),v_description,CHAR(34),',',
      CHAR(34),'type_attr',CHAR(34),':[',v_type_attr,']'),'},');

  END LOOP get_data;
  CLOSE c_product_type_part;

  SET v_product_type_part=SUBSTR(v_product_type_part,1,CHAR_LENGTH(v_product_type_part)-1);

  RETURN v_product_type_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_purchase` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_purchase`(
  p_order_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_user_id INTEGER;
  DECLARE v_invoice_code VARCHAR(32);
  DECLARE v_invoice_date VARCHAR(20);
  DECLARE v_total_price VARCHAR(16);
  DECLARE v_total_tax VARCHAR(16);
  DECLARE v_order_id VARCHAR(10);
  DECLARE v_order_date VARCHAR(20);
  DECLARE v_order_info VARCHAR(128);
  DECLARE v_delivery_id VARCHAR(10);
  DECLARE v_delivery_code VARCHAR(32);
  DECLARE v_delivery_type_id VARCHAR(2);
  DECLARE v_delivery_type_name VARCHAR(32);
  DECLARE v_delivery_type_attr MEDIUMTEXT;
  DECLARE v_delivery_date VARCHAR(20);
  DECLARE v_delivery_price VARCHAR(16);
  DECLARE v_payment_date VARCHAR(20);
  DECLARE v_payment_info VARCHAR(128);
  DECLARE v_payment_amount VARCHAR(16);

  DECLARE v_purchase MEDIUMTEXT DEFAULT '';

  DECLARE c_purchase CURSOR FOR
  SELECT p.id,p.user_id,IF(p.invoice_code IS NULL,'',replace_text(p.invoice_code)),
         IFNULL(p.invoice_date,''),p.total_price,p.total_tax,IFNULL(p.order_id,'null'),IFNULL(p.order_date,''),
         replace_text(p.order_info),IFNULL(p.delivery_id,'null'),
         IF(p.delivery_code IS NULL,'',replace_text(p.delivery_code)),
         IFNULL(p.delivery_type_id,'null'),
         IF(p.delivery_type_id IS NULL,'',replace_text(dt.name)),
         IF(p.delivery_type_id IS NULL,'',get_attr_part(p.delivery_type_id,'delivery_type',p_language)),
         IFNULL(p.delivery_date,''),IFNULL(p.delivery_price,'null'),IFNULL(p.payment_date,''),
         replace_text(p.payment_info),IFNULL(p.payment_amount,'null')
  FROM purchase p LEFT JOIN delivery_type dt ON dt.id=p.delivery_type_id
  WHERE p.order_id=p_order_id
  ORDER BY p.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_purchase;
  get_data: LOOP

  FETCH c_purchase INTO v_id,v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,
        v_order_id,v_order_date,v_order_info,
        v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_type_name,v_delivery_type_attr,
        v_delivery_date,v_delivery_price,v_payment_date,v_payment_info,v_payment_amount;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_purchase=CONCAT(v_purchase,'{',
      CHAR(34),'purchase_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_id',CHAR(34),':',v_user_id,',',
      CHAR(34),'invoice_code',CHAR(34),':',CHAR(34),v_invoice_code,CHAR(34),',',
      CHAR(34),'invoice_date',CHAR(34),':',CHAR(34),v_invoice_date,CHAR(34),',',
      CHAR(34),'total_price',CHAR(34),':',v_total_price,',',
      CHAR(34),'total_tax',CHAR(34),':',v_total_tax,',',
      CHAR(34),'order_id',CHAR(34),':',v_order_id,',',
      CHAR(34),'order_date',CHAR(34),':',CHAR(34),v_order_date,CHAR(34),',',
      CHAR(34),'order_info',CHAR(34),':',CHAR(34),v_order_info,CHAR(34),',',
      CHAR(34),'delivery_id',CHAR(34),':',v_delivery_id,',',
      CHAR(34),'delivery_code',CHAR(34),':',CHAR(34),v_delivery_code,CHAR(34),',',
      CHAR(34),'delivery_type_id',CHAR(34),':',v_delivery_type_id,',',
      CHAR(34),'delivery_type_name',CHAR(34),':',CHAR(34),v_delivery_type_name,CHAR(34),',',
      CHAR(34),'delivery_type_attr',CHAR(34),':[',v_delivery_type_attr,'],',
      CHAR(34),'delivery_date',CHAR(34),':',CHAR(34),v_delivery_date,CHAR(34),',',
      CHAR(34),'delivery_price',CHAR(34),':',v_delivery_price,',',
      CHAR(34),'payment_date',CHAR(34),':',CHAR(34),v_payment_date,CHAR(34),',',
      CHAR(34),'payment_info',CHAR(34),':',CHAR(34),v_payment_info,CHAR(34),',',
      CHAR(34),'payment_amount',CHAR(34),':',v_payment_amount,'},');

  END LOOP get_data;
  CLOSE c_purchase;

  SET v_purchase=SUBSTR(v_purchase,1,CHAR_LENGTH(v_purchase)-1);

  RETURN v_purchase;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_schema_name` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_schema_name`(
  p_api_key VARCHAR(64)) RETURNS varchar(64) CHARSET utf8
BEGIN
  DECLARE v_schema_name VARCHAR(64);

  SELECT schema_name INTO v_schema_name
  FROM project
  WHERE api_key=p_api_key AND active IS TRUE;

  RETURN v_schema_name;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_sensor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_sensor`(
  p_sensor_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_id INTEGER;
  DECLARE v_user_id INTEGER;
  DECLARE v_user MEDIUMTEXT;
  DECLARE v_sensor_circle MEDIUMTEXT;
  DECLARE v_name VARCHAR(32);
  DECLARE v_serial_number VARCHAR(64);
  DECLARE v_device_name VARCHAR(64);
  DECLARE v_phone VARCHAR(20);
  DECLARE v_active VARCHAR(5);

  DECLARE v_sensor MEDIUMTEXT DEFAULT '';

  SELECT id,user_id,get_user(user_id,p_language),/*get_sensor_circle(id,p_language)*/ '',
         replace_text(name),
         IFNULL(serial_number,''),IFNULL(device_name,''),IFNULL(phone,''),IF(active=1,'true','false')
  INTO v_id,v_user_id,v_user,v_sensor_circle,v_name,v_serial_number,v_device_name,v_phone,v_active
  FROM sensor
  WHERE id=p_sensor_id;

  -- json
  SET v_sensor=CONCAT('{',
      CONCAT(CHAR(34),'sensor_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_id',CHAR(34),':',v_user_id,',',
      CHAR(34),'user',CHAR(34),':[',v_user,'],',
      CHAR(34),'sensor_circle',CHAR(34),':[',v_sensor_circle,'],',
      CHAR(34),'sensor_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'serial_number',CHAR(34),':',CHAR(34),v_serial_number,CHAR(34),',',
      CHAR(34),'device_name',CHAR(34),':',CHAR(34),v_device_name,CHAR(34),',',
      CHAR(34),'phone',CHAR(34),':',CHAR(34),v_phone,CHAR(34),',',
      CHAR(34),'active',CHAR(34),':',v_active),'},');

  IF v_sensor IS NULL THEN
    SET v_sensor='';
  ELSE
    SET v_sensor=SUBSTR(v_sensor,1,CHAR_LENGTH(v_sensor)-1);
  END IF;

  -- ONE SENSOR RETURN
  RETURN v_sensor;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_sensor_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_sensor_circle`(
  p_sensor_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_user_id INTEGER;
  DECLARE v_user MEDIUMTEXT;
  DECLARE v_name VARCHAR(32);
  DECLARE v_serial_number VARCHAR(64);
  DECLARE v_device_name VARCHAR(64);
  DECLARE v_phone VARCHAR(20);
  DECLARE v_active VARCHAR(5);

  DECLARE v_sensor_circle MEDIUMTEXT DEFAULT '';

  DECLARE c_sensor_circle CURSOR FOR
  SELECT s.id,s.user_id,get_user(s.user_id,p_language),
         replace_text(s.name),
         IFNULL(s.serial_number,''),IFNULL(s.device_name,''),IFNULL(s.phone,''),IF(s.active=1,'true','false')
  FROM sensor s,sensor_circle sc
  WHERE sc.sensorA_id=p_sensor_id AND sc.sensorB_id=s.id
  ORDER BY s.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_sensor_circle;
  get_data: LOOP

  FETCH c_sensor_circle INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_sensor_circle=CONCAT(v_sensor_circle,'{',
      CONCAT(CHAR(34),'sensor_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_id',CHAR(34),':',v_user_id,',',
      CHAR(34),'user',CHAR(34),':[',v_user,'],',
      CHAR(34),'sensor_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'serial_number',CHAR(34),':',CHAR(34),v_serial_number,CHAR(34),',',
      CHAR(34),'device_name',CHAR(34),':',CHAR(34),v_device_name,CHAR(34),',',
      CHAR(34),'phone',CHAR(34),':',CHAR(34),v_phone,CHAR(34),',',
      CHAR(34),'active',CHAR(34),':',v_active),'},');

  END LOOP get_data;
  CLOSE c_sensor_circle;

  SET v_sensor_circle=SUBSTR(v_sensor_circle,1,CHAR_LENGTH(v_sensor_circle)-1);

  RETURN v_sensor_circle;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_sensor_group_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_sensor_group_part`(
  p_sensor_group_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_user_id INTEGER;
  DECLARE v_user MEDIUMTEXT;
  DECLARE v_name VARCHAR(32);
  DECLARE v_serial_number VARCHAR(64);
  DECLARE v_device_name VARCHAR(64);
  DECLARE v_phone VARCHAR(20);
  DECLARE v_active VARCHAR(5);

  DECLARE v_sensor_group_part MEDIUMTEXT DEFAULT '';

  DECLARE c_sensor_group_part CURSOR FOR
  SELECT s.id,s.user_id,get_user(s.user_id,p_language),
         replace_text(s.name),
         IFNULL(s.serial_number,''),IFNULL(s.device_name,''),IFNULL(s.phone,''),IF(s.active=1,'true','false')
  FROM sensor s,sensor_group_part sgp
  WHERE sgp.sensor_group_id=p_sensor_group_id AND sgp.sensor_id=s.id
  ORDER BY s.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_sensor_group_part;
  get_data: LOOP

  FETCH c_sensor_group_part INTO v_id,v_user_id,v_user,v_name,v_serial_number,v_device_name,v_phone,v_active;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_sensor_group_part=CONCAT(v_sensor_group_part,'{',
      CONCAT(CHAR(34),'sensor_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_id',CHAR(34),':',v_user_id,',',
      CHAR(34),'user',CHAR(34),':[',v_user,'],',
      CHAR(34),'sensor_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'serial_number',CHAR(34),':',CHAR(34),v_serial_number,CHAR(34),',',
      CHAR(34),'device_name',CHAR(34),':',CHAR(34),v_device_name,CHAR(34),',',
      CHAR(34),'phone',CHAR(34),':',CHAR(34),v_phone,CHAR(34),',',
      CHAR(34),'active',CHAR(34),':',v_active),'},');

  END LOOP get_data;
  CLOSE c_sensor_group_part;

  SET v_sensor_group_part=SUBSTR(v_sensor_group_part,1,CHAR_LENGTH(v_sensor_group_part)-1);

  RETURN v_sensor_group_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_stock_count` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_stock_count`(
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;
  DECLARE v_count INTEGER;
  DECLARE v_stock_count INTEGER DEFAULT 0;

  DECLARE c_stock CURSOR FOR
  SELECT count
  FROM product p,stock s
  WHERE p.id=p_product_id AND s.product_id=p.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_stock;
  get_data: LOOP

  FETCH c_stock INTO v_count;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  IF v_count IS NULL THEN SET v_count=0; END IF;
  SET v_stock_count=v_stock_count+v_count;

  END LOOP get_data;
  CLOSE c_stock;

  RETURN v_stock_count;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_stock_count_in_store` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_stock_count_in_store`(
  p_product_id INTEGER,
  p_store_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_count INTEGER DEFAULT 0;

  SELECT IF(s.count IS NULL,0,count) INTO v_count
  FROM product p,stock s
  WHERE p.id=p_product_id AND s.product_id=p.id AND s.store_id=p_store_id;

  RETURN v_count;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_store_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_store_part`(
  p_store_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_store_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_latitude VARCHAR(20);
  DECLARE v_longitude VARCHAR(20);
  DECLARE v_email VARCHAR(64);
  DECLARE v_phone1 VARCHAR(20);
  DECLARE v_phone2 VARCHAR(20);
  DECLARE v_address VARCHAR(128);
  DECLARE v_city VARCHAR(64);
  DECLARE v_postcode VARCHAR(12);

  DECLARE v_store_part MEDIUMTEXT DEFAULT '';

  DECLARE c_store_part CURSOR FOR
  SELECT id,
         store_id,
         replace_text(name),
         replace_text(description),
         IFNULL(latitude,'null'),IFNULL(longitude,'null'),IFNULL(email,''),IFNULL(phone1,''),IFNULL(phone2,''),
         IF(address IS NULL,'',replace_text(address)),
         IF(city IS NULL,'',replace_text(city)),
         IFNULL(postcode,'')
  FROM store_part
  WHERE store_id=p_store_id AND language LIKE p_language
  ORDER BY id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_store_part;
  get_data: LOOP

  FETCH c_store_part INTO v_id,v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_store_part=CONCAT(v_store_part,'{',
      CONCAT(CHAR(34),'part_id',CHAR(34),':',v_id,',',
      CHAR(34),'store_id',CHAR(34),':',v_store_id,',',
      CHAR(34),'part_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'description',CHAR(34),':',CHAR(34),v_description,CHAR(34),',',
      CHAR(34),'latitude',CHAR(34),':',v_latitude,',',
      CHAR(34),'longitude',CHAR(34),':',v_longitude,',',
      CHAR(34),'email',CHAR(34),':',CHAR(34),v_email,CHAR(34),',',
      CHAR(34),'phone1',CHAR(34),':',CHAR(34),v_phone1,CHAR(34),',',
      CHAR(34),'phone2',CHAR(34),':',CHAR(34),v_phone2,CHAR(34),',',
      CHAR(34),'address',CHAR(34),':',CHAR(34),v_address,CHAR(34),',',
      CHAR(34),'city',CHAR(34),':',CHAR(34),v_city,CHAR(34),',',
      CHAR(34),'postcode',CHAR(34),':',CHAR(34),v_postcode,CHAR(34)),'},');

  END LOOP get_data;
  CLOSE c_store_part;

  SET v_store_part=SUBSTR(v_store_part,1,CHAR_LENGTH(v_store_part)-1);

  RETURN v_store_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_token` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_token`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16)) RETURNS varchar(64) CHARSET utf8
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_token VARCHAR(64) DEFAULT '';

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NOT NULL THEN

    -- SELECT BASE64(ENCODE(p_user,p_pass)) INTO v_token;
    -- SELECT PASSWORD(p_user) INTO v_token;
    SELECT CONCAT(PASSWORD(p_user),TO_BASE64(ENCODE(p_user,p_pass))) INTO v_token;

    UPDATE user SET token=v_token
    WHERE username=p_user AND password=p_pass;

  END IF;

  RETURN v_token;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_track_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_track_part`(
  p_track_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);

  DECLARE v_track_part MEDIUMTEXT DEFAULT '';

  DECLARE c_track_part CURSOR FOR
  SELECT id,
         replace_text(name),
         replace_text(description)
  FROM track_part
  WHERE track_id=p_track_id AND language LIKE p_language
  ORDER BY id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_track_part;
  get_data: LOOP

  FETCH c_track_part INTO v_id,v_name,v_description;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_track_part=CONCAT(v_track_part,'{',
      CONCAT(CHAR(34),'type_id',CHAR(34),':',v_id,',',
      CHAR(34),'type_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'description',CHAR(34),':',CHAR(34),v_description,CHAR(34)),'},');

  END LOOP get_data;
  CLOSE c_track_part;

  SET v_track_part=SUBSTR(v_track_part,1,CHAR_LENGTH(v_track_part)-1);

  RETURN v_track_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_transport`(
  p_transport_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_id INTEGER;
  DECLARE v_user_id VARCHAR(10);
  DECLARE v_sensor_id VARCHAR(10);
  DECLARE v_sensor_active VARCHAR(5);
  DECLARE v_sensor MEDIUMTEXT;
  DECLARE v_type_part MEDIUMTEXT;
  DECLARE v_transport_name VARCHAR(128);
  DECLARE v_transport_color VARCHAR(32);
  DECLARE v_license_plate VARCHAR(12);
  DECLARE v_transport_rate VARCHAR(10);
  DECLARE v_transport_reserved INTEGER;

  DECLARE v_transport MEDIUMTEXT DEFAULT '';

  SELECT t.id,IFNULL(u.id,'null'),IFNULL(t.sensor_id,'null'),IF(s.active=1,'true','false'),
         IF(t.sensor_id IS NULL,'',get_sensor(t.sensor_id,p_language)),
         get_transport_type_part(t.id,p_language),
         replace_text(t.name),
         IF(t.color IS NULL,'',replace_text(t.color)),
         IF(t.license_plate IS NULL,'',replace_text(t.license_plate)),
         IF(t.review_count=0,0,ROUND(t.review_value/t.review_count,2)),
         is_transport_reserved(t.id)
  INTO v_id,v_user_id,v_sensor_id,v_sensor_active,v_sensor,v_type_part,v_transport_name,v_transport_color,v_license_plate,v_transport_rate,v_transport_reserved
  FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id
  WHERE t.id=p_transport_id;

  -- json
  SET v_transport=CONCAT('{',
      CONCAT(CHAR(34),'transport_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_id',CHAR(34),':',v_user_id,',',
      CHAR(34),'sensor_id',CHAR(34),':',v_sensor_id,',',
      CHAR(34),'sensor_active',CHAR(34),':',v_sensor_active,',',
      CHAR(34),'sensor',CHAR(34),':[',v_sensor,'],',
      CHAR(34),'type_part',CHAR(34),':[',v_type_part,'],',
      CHAR(34),'transport_name',CHAR(34),':',CHAR(34),v_transport_name,CHAR(34),',',
      CHAR(34),'transport_color',CHAR(34),':',CHAR(34),v_transport_color,CHAR(34),',',
      CHAR(34),'license_plate',CHAR(34),':',CHAR(34),v_license_plate,CHAR(34),',',
      CHAR(34),'transport_rate',CHAR(34),':',v_transport_rate,',',
      CHAR(34),'transport_reserved',CHAR(34),':',v_transport_reserved),'},');
  IF v_transport IS NULL THEN
    SET v_transport='';
  ELSE
    SET v_transport=SUBSTR(v_transport,1,CHAR_LENGTH(v_transport)-1);
  END IF;

  -- ONE TRANSPORT RETURN
  RETURN v_transport;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_transport_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_transport_type_part`(
  p_transport_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_type_attr MEDIUMTEXT;

  DECLARE v_transport_type_part MEDIUMTEXT DEFAULT '';

  DECLARE c_transport_type_part CURSOR FOR
  SELECT tt.id, -- tt.parent_id
         replace_text(tt.name),
         replace_text(tt.description),
         get_attr_part(tt.id,'transport_type',p_language)
  FROM transport_type tt,transport_type_part ttp
  WHERE ttp.transport_id=p_transport_id AND ttp.transport_type_id=tt.id
  ORDER BY tt.id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_transport_type_part;
  get_data: LOOP

  FETCH c_transport_type_part INTO v_id,v_name,v_description,v_type_attr;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  -- json
  SET v_transport_type_part=CONCAT(v_transport_type_part,'{',
      CONCAT(CHAR(34),'type_id',CHAR(34),':',v_id,',',
      CHAR(34),'type_name',CHAR(34),':',CHAR(34),v_name,CHAR(34),',',
      CHAR(34),'description',CHAR(34),':',CHAR(34),v_description,CHAR(34),',',
      CHAR(34),'type_attr',CHAR(34),':[',v_type_attr,']'),'},');

  END LOOP get_data;
  CLOSE c_transport_type_part;

  SET v_transport_type_part=SUBSTR(v_transport_type_part,1,CHAR_LENGTH(v_transport_type_part)-1);

  RETURN v_transport_type_part;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_user`(
  p_user_id INTEGER,
  p_language VARCHAR(32)) RETURNS mediumtext CHARSET utf8
BEGIN
  DECLARE v_id INTEGER;
  DECLARE v_type VARCHAR(2);
  DECLARE v_discount_code VARCHAR(8);
  DECLARE v_discount MEDIUMTEXT;
  DECLARE v_first_name VARCHAR(32);
  DECLARE v_last_name VARCHAR(32);
  DECLARE v_call_name VARCHAR(32);
  DECLARE v_email VARCHAR(64);
  DECLARE v_phone VARCHAR(20);
  DECLARE v_rate VARCHAR(10);
  DECLARE v_active VARCHAR(5);

  DECLARE v_user MEDIUMTEXT DEFAULT '';

  SELECT id,IFNULL(discount_code,''),IF(discount_code IS NULL,'',get_discount(discount_code,p_language)),type,
         replace_text(first_name),
         replace_text(last_name),
         replace_text(call_name),
         IFNULL(email,''),IFNULL(phone,''),IF(review_count=0,0,ROUND(review_value/review_count,2)),IF(active=1,'true','false')
  INTO v_id,v_discount_code,v_discount,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone,v_rate,v_active
  FROM user
  WHERE id=p_user_id;

  -- json
  SET v_user=CONCAT('{',
      CONCAT(CHAR(34),'user_id',CHAR(34),':',v_id,',',
      CHAR(34),'user_type',CHAR(34),':',v_type,',',
      CHAR(34),'discount_code',CHAR(34),':',CHAR(34),v_discount_code,CHAR(34),',',
      CHAR(34),'discount',CHAR(34),':[',v_discount,']',',',
      CHAR(34),'first_name',CHAR(34),':',CHAR(34),v_first_name,CHAR(34),',',
      CHAR(34),'last_name',CHAR(34),':',CHAR(34),v_last_name,CHAR(34),',',
      CHAR(34),'call_name',CHAR(34),':',CHAR(34),v_call_name,CHAR(34),',',
      CHAR(34),'email',CHAR(34),':',CHAR(34),v_email,CHAR(34),',',
      CHAR(34),'phone',CHAR(34),':',CHAR(34),v_phone,CHAR(34),',',
      CHAR(34),'user_rate',CHAR(34),':',v_rate,',',
      CHAR(34),'active',CHAR(34),':',v_active),'},');

  IF v_user IS NULL THEN
    SET v_user='';
  ELSE
    SET v_user=SUBSTR(v_user,1,CHAR_LENGTH(v_user)-1);
  END IF;

  -- ONE USER RETURN
  RETURN v_user;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_user_credentials` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_user_credentials`(
  p_token VARCHAR(64)) RETURNS varchar(82) CHARSET utf8
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_username VARCHAR(64);
  DECLARE v_password VARCHAR(16);
  DECLARE v_ret_val VARCHAR(82) DEFAULT '';

  SELECT type,username,password INTO v_user_type,v_username,v_password
  FROM user
  WHERE token=p_token;

  IF v_user_type IS NOT NULL THEN

    SET v_ret_val=CONCAT(v_username,'\\\\',v_password);

  END IF;

  RETURN v_ret_val;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_user_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_user_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  RETURN v_user_type;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `get_user_type_is_active` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `get_user_type_is_active`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass AND active IS TRUE;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  RETURN v_user_type;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `increase_user_prepaid_amount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `increase_user_prepaid_amount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_amount DECIMAL(6,2)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  
  DECLARE v_prepaid_amount DECIMAL(6,2);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'increase_user_prepaid_amount',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1 AND p_prepaid_amount!='') THEN

    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=p_user_id;

    SET v_prepaid_amount=v_prepaid_amount+p_amount;

    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=p_user_id;

    CALL add_audit(p_user,'increase_user_prepaid_amount',CONCAT('success: code=0 username=',p_user,' id=',p_user_id,' +',p_amount));

  ELSE
    CALL add_audit(p_user,'increase_user_prepaid_amount',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `increase_user_prepaid_amount_by_prepaid_code` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `increase_user_prepaid_amount_by_prepaid_code`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_prepaid_code VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  
  DECLARE v_prepaid_amount DECIMAL(6,2);
  DECLARE v_amount DECIMAL(6,2);
  
  DECLARE v_prepaid_card_id INTEGER;
  DECLARE v_active BOOLEAN;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'increase_user_prepaid_amount_by_prepaid_code',CONCAT('error: code=-1 username=',p_user,' prepaid_code=',p_prepaid_code));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND p_prepaid_code!='') THEN

    SELECT id,amount,active INTO v_prepaid_card_id,v_amount,v_active FROM prepaid_card WHERE prepaid_code=p_prepaid_code;

    IF (v_active IS NULL) OR (v_active IS FALSE) THEN
      CALL add_audit(p_user,'increase_user_prepaid_amount_by_prepaid_code',CONCAT('error: code=-4 username=',p_user,' prepaid_code=',p_prepaid_code));
      RETURN -4;
    END IF;

    SELECT prepaid_amount INTO v_prepaid_amount FROM user WHERE id=v_user_id;

    SET v_prepaid_amount=v_prepaid_amount+v_amount;

    UPDATE user SET prepaid_amount=v_prepaid_amount WHERE id=v_user_id;
    
    UPDATE prepaid_card SET active=FALSE WHERE id=v_prepaid_card_id;

    CALL add_audit(p_user,'increase_user_prepaid_amount_by_prepaid_code',CONCAT('success: code=0 username=',p_user,' prepaid_code=',p_prepaid_code,' id=',p_user_id,' +',v_amount));

  ELSE
    CALL add_audit(p_user,'increase_user_prepaid_amount_by_prepaid_code',CONCAT('error: code=-3 username=',p_user,' prepaid_code=',p_prepaid_code));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_driver_of_order` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_driver_of_order`(
  p_user VARCHAR(64),
  p_order_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT s.user_id INTO v_value
  FROM order_AB o,transport t,sensor s
  WHERE o.id=p_order_id AND o.transport_id=t.id AND t.sensor_id=s.id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_delivery` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_delivery`(
  p_user VARCHAR(64),
  p_delivery_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT p.user_id INTO v_value
  FROM purchase p,delivery d
  WHERE d.id=p_delivery_id AND d.id=p.delivery_id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_order` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_order`(
  p_user VARCHAR(64),
  p_order_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_value
  FROM order_AB
  WHERE id=p_order_id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_purchase` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_purchase`(
  p_user VARCHAR(64),
  p_purchase_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_value
  FROM purchase
  WHERE id=p_purchase_id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_sensor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_sensor`(
  p_user VARCHAR(64),
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_value
  FROM sensor
  WHERE id=p_sensor_id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_sensor_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_sensor_circle`(
  p_user VARCHAR(64),
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT count(*) INTO v_value
  FROM sensor_circle
  WHERE sensorA_id=p_sensor_id AND sensorB_id IN (SELECT id FROM sensor WHERE user_id=v_user_id);

  IF v_value>0 THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_sensor_or_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_sensor_or_circle`(
  p_user VARCHAR(64),
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT count(*) INTO v_value
  FROM sensor
  WHERE user_id=v_user_id AND (id=p_sensor_id OR id IN (SELECT sensorB_id FROM sensor_circle WHERE sensorA_id=p_sensor_id));

  IF v_value>0 THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_sensor_place` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_sensor_place`(
  p_user VARCHAR(64),
  p_place_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_sensor_id INTEGER;
  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id
  FROM sensor_place
  WHERE id=p_place_id;

  IF v_sensor_id IS NULL THEN
    RETURN -100;
  END IF;

  SELECT user_id INTO v_value
  FROM sensor
  WHERE id=v_sensor_id;

  IF v_value=v_user_id THEN
    RETURN 1;
  END IF;

  RETURN -100;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_my_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_my_transport`(
  p_user VARCHAR(64),
  p_transport_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_sensor_id INTEGER;

  SELECT sensor_id INTO v_sensor_id
  FROM transport
  WHERE id=p_transport_id;

  RETURN is_my_sensor(p_user,v_sensor_id);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `is_transport_reserved` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `is_transport_reserved`(
  p_transport_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_count INTEGER;

  SELECT COUNT(transport_id) INTO v_count
  FROM order_AB
  WHERE transport_id=p_transport_id AND order_status_id<=5 AND order_status_id>0;

  RETURN v_count;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_attr` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_attr`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_attr_name VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_attr',CONCAT('error: code=-1 username=',p_user,' name=',p_attr_name));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM attr WHERE name=p_attr_name;
    
    CALL add_audit(p_user,'remove_attr',CONCAT('success: code=0 username=',p_user,' name=',p_attr_name));

  ELSE
    CALL add_audit(p_user,'remove_attr',CONCAT('error: code=-3 username=',p_user,' name=',p_attr_name));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_attr_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_attr_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_attr_part_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_manufacture',CONCAT('error: code=-1 username=',p_user,' id=',p_attr_part_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM attr_part WHERE id=p_attr_part_id;

    CALL add_audit(p_user,'remove_manufacture',CONCAT('success: code=0 username=',p_user,' id=',p_attr_part_id));

  ELSE
    CALL add_audit(p_user,'remove_manufacture',CONCAT('error: code=-3 username=',p_user,' id=',p_attr_part_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_color` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_color`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_color_name VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_color',CONCAT('error: code=-1 username=',p_user,' name=',p_color_name));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM color WHERE name=p_color_name;
    
    CALL add_audit(p_user,'remove_color',CONCAT('success: code=0 username=',p_user,' name=',p_color_name));

  ELSE
    CALL add_audit(p_user,'remove_color',CONCAT('error: code=-3 username=',p_user,' name=',p_color_name));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_currency` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_currency`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_currency_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_currency',CONCAT('error: code=-1 username=',p_user,' id=',p_currency_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM currency WHERE id=p_currency_id;

    CALL add_audit(p_user,'remove_currency',CONCAT('success: code=0 username=',p_user,' id=',p_currency_id));

  ELSE
    CALL add_audit(p_user,'remove_currency',CONCAT('error: code=-3 username=',p_user,' id=',p_currency_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_delivery` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_delivery`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_delivery_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_delivery',CONCAT('error: code=-1 username=',p_user,' id=',p_delivery_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM delivery WHERE id=p_delivery_id;
    
    CALL add_audit(p_user,'remove_delivery',CONCAT('success: code=0 username=',p_user,' id=',p_delivery_id));

  ELSE
    CALL add_audit(p_user,'remove_delivery',CONCAT('error: code=-3 username=',p_user,' id=',p_delivery_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_delivery_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_delivery_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_delivery_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM delivery_type WHERE id=p_type_id;
    
    CALL add_audit(p_user,'remove_delivery_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_delivery_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_discount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_discount_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_discount',CONCAT('error: code=-1 username=',p_user,' id=',p_discount_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM discount WHERE id=p_discount_id;

    CALL add_audit(p_user,'remove_discount',CONCAT('success: code=0 username=',p_user,' id=',p_discount_id));

  ELSE
    CALL add_audit(p_user,'remove_discount',CONCAT('error: code=-3 username=',p_user,' id=',p_discount_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_language` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_language`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_language_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_language',CONCAT('error: code=-1 username=',p_user,' id=',p_language_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM language WHERE id=p_language_id;
    
    CALL add_audit(p_user,'remove_language',CONCAT('success: code=0 username=',p_user,' id=',p_language_id));

  ELSE
    CALL add_audit(p_user,'remove_language',CONCAT('error: code=-3 username=',p_user,' id=',p_language_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_manufacture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_manufacture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_manufacture_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_manufacture',CONCAT('error: code=-1 username=',p_user,' id=',p_manufacture_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM manufacture WHERE id=p_manufacture_id;

    CALL add_audit(p_user,'remove_manufacture',CONCAT('success: code=0 username=',p_user,' id=',p_manufacture_id));

  ELSE
    CALL add_audit(p_user,'remove_manufacture',CONCAT('error: code=-3 username=',p_user,' id=',p_manufacture_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_message` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_message`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_message_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_userA_id INTEGER;
  DECLARE v_userB_id INTEGER;
  DECLARE v_type INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT userA_id,userB_id,type
  INTO v_userA_id,v_userB_id,v_type
  FROM message WHERE id=p_message_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_userB_id=v_user_inner_id AND v_type=1) OR
     (v_user='fa_client@localhost' AND v_userA_id=v_user_inner_id AND v_type=2) THEN

    DELETE FROM message WHERE id=p_message_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_AB` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_AB`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_AB',CONCAT('error: code=-1 username=',p_user,' id=',p_order_id));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    DELETE FROM order_AB_user_part WHERE order_id=p_order_id;
    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id;
    DELETE FROM order_AB_product_part WHERE order_id=p_order_id;
    DELETE FROM order_AB WHERE id=p_order_id;
    
    CALL add_audit(p_user,'remove_order_AB',CONCAT('success: code=0 username=',p_user,' id=',p_order_id));

  ELSE
    CALL add_audit(p_user,'remove_order_AB',CONCAT('error: code=-3 username=',p_user,' id=',p_order_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_AB_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_AB_product_param_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_param_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_AB_product_param_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    DELETE FROM order_AB_product_param_part WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;
    
    CALL add_audit(p_user,'remove_order_AB_product_param_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'remove_order_AB_product_param_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_AB_product_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_AB_product_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_AB_product_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    DELETE FROM order_AB_product_part WHERE order_id=p_order_id AND product_id=p_product_id;
    
    CALL add_audit(p_user,'remove_order_AB_product_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'remove_order_AB_product_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_AB_user_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_AB_user_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_order_user_id INTEGER;
  DECLARE v_order_status_id INTEGER;
  DECLARE v_pickup_user_id INTEGER;
  DECLARE v_pickup_status_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_AB_user_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));
    RETURN -1;
  END IF;

  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id
  FROM order_AB_user_part
  WHERE order_id=p_order_id AND user_id=p_user_id;

  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3)
                                   AND (v_order_user_id=v_user_inner_id OR (v_pickup_status_id=1 AND v_pickup_user_id=v_user_inner_id))
                                   AND v_order_status_id=1) THEN

    DELETE FROM order_AB_user_part WHERE order_id=p_order_id AND user_id=p_user_id;
    
    CALL add_audit(p_user,'remove_order_AB_user_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'remove_order_AB_user_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_job` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_job`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_customer_user_id INTEGER;
  DECLARE v_order_status INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_job',CONCAT('error: code=-1 username=',p_user,' id=',p_order_id));
    RETURN -1;
  END IF;

  SELECT customer_user_id,order_status_id INTO v_customer_user_id,v_order_status FROM order_job WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_order_status=1) THEN

    DELETE FROM order_job WHERE id=p_order_id;
    
    CALL add_audit(p_user,'remove_order_job',CONCAT('success: code=0 username=',p_user,' id=',p_order_id));

  ELSE
    CALL add_audit(p_user,'remove_order_job',CONCAT('error: code=-3 username=',p_user,' id=',p_order_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_order_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_order_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_order_status',CONCAT('error: code=-1 username=',p_user,' id=',p_status_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM order_status WHERE id=p_status_id;
    
    CALL add_audit(p_user,'remove_order_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'remove_order_status',CONCAT('error: code=-3 username=',p_user,' id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_payment` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_payment`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_purchase_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_payment',CONCAT('error: code=-1 username=',p_user,' id=',p_purchase_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM payment WHERE purchase_id=p_purchase_id;
    
    CALL add_audit(p_user,'remove_payment',CONCAT('success: code=0 username=',p_user,' id=',p_purchase_id));

  ELSE
    CALL add_audit(p_user,'remove_payment',CONCAT('error: code=-3 username=',p_user,' id=',p_purchase_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_pickup_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_pickup_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_pickup_status',CONCAT('error: code=-1 username=',p_user,' id=',p_status_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM pickup_status WHERE id=p_status_id;
    
    CALL add_audit(p_user,'remove_pickup_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'remove_pickup_status',CONCAT('error: code=-3 username=',p_user,' id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_prepaid_card` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_prepaid_card`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_prepaid_card_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_prepaid_card',CONCAT('error: code=-1 username=',p_user,' id=',p_prepaid_card_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM prepaid_card WHERE id=p_prepaid_card_id;

    CALL add_audit(p_user,'remove_prepaid_card',CONCAT('success: code=0 username=',p_user,' id=',p_prepaid_card_id));

  ELSE
    CALL add_audit(p_user,'remove_prepaid_card',CONCAT('error: code=-3 username=',p_user,' id=',p_prepaid_card_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product WHERE id=p_product_id;

    CALL add_audit(p_user,'remove_product',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'remove_product',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_circle`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_productA_id INTEGER,
  p_productB_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_circle',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product_circle WHERE productA_id=p_productA_id AND productB_id=p_productB_id;

    CALL add_audit(p_user,'remove_product_circle',CONCAT('success: code=0 username=',p_user,' productA_id=',p_productA_id,' productB_id=',p_productB_id));

  ELSE
    CALL add_audit(p_user,'remove_product_circle',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_param` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_param`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_param_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_param',CONCAT('error: code=-1 username=',p_user,' id=',p_param_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product_param WHERE id=p_param_id;

    CALL add_audit(p_user,'remove_product_param',CONCAT('success: code=0 username=',p_user,' id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'remove_product_param',CONCAT('error: code=-3 username=',p_user,' id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_param_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_param_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_param',CONCAT('error: code=-1 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product_param_part WHERE product_id=p_product_id AND product_param_id=p_param_id;
    
    CALL add_audit(p_user,'remove_product_param_part',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'remove_product_param_part',CONCAT('error: code=-3 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_review',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT value INTO v_value
  FROM product_review
  WHERE user_id=p_user_id AND product_id=p_product_id;

  IF v_value IS NULL THEN
    CALL add_audit(p_user,'remove_product_review',CONCAT('error: code=-4 username=',p_user,' id=',p_product_id));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR v_user_id=p_user_id THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM product
    WHERE id=p_product_id;

    SET v_review_count=v_review_count-1;
    SET v_review_value=v_review_value-v_value;

    DELETE FROM product_review
    WHERE user_id=p_user_id AND product_id=p_product_id;

    UPDATE product SET review_count=v_review_count,
                       review_value=v_review_value
    WHERE id=p_product_id;

    CALL add_audit(p_user,'remove_product_review',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'remove_product_review',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product_type WHERE id=p_type_id;
    
    CALL add_audit(p_user,'remove_product_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_product_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_product_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_product_type_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_product_type_part',CONCAT('error: code=-1 username=',p_user,' product_id=',p_product_id,' type_id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM product_type_part WHERE product_id=p_product_id AND product_type_id=p_type_id;
    
    CALL add_audit(p_user,'remove_product_type_part',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' type_id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_product_type_part',CONCAT('error: code=-3 username=',p_user,' product_id=',p_product_id,' type_id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_project` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_project`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_schema_name VARCHAR(64)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_project',CONCAT('error: code=-1 username=',p_user,' schema_name=',p_schema_name));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM project WHERE schema_name=p_schema_name;    

    CALL add_audit(p_user,'remove_project',CONCAT('success: code=0 username=',p_user,' schema_name=',p_schema_name));

  ELSE
    CALL add_audit(p_user,'remove_project',CONCAT('error: code=-3 username=',p_user,' schema_name=',p_schema_name));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_purchase` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_purchase`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_purchase_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_purchase',CONCAT('error: code=-1 username=',p_user,' id=',p_purchase_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN
    
    DELETE FROM purchase WHERE id=p_purchase_id;
    
    CALL add_audit(p_user,'remove_purchase',CONCAT('success: code=0 username=',p_user,' id=',p_purchase_id));

  ELSE
    CALL add_audit(p_user,'remove_purchase',CONCAT('error: code=-3 username=',p_user,' id=',p_purchase_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_sensor',CONCAT('error: code=-1 username=',p_user,' id=',p_sensor_id));
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM sensor WHERE id=p_sensor_id;
    
    CALL add_audit(p_user,'remove_sensor',CONCAT('success: code=0 username=',p_user,' id=',p_sensor_id));

  ELSE
    CALL add_audit(p_user,'remove_sensor',CONCAT('error: code=-3 username=',p_user,' id=',p_sensor_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor_circle` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor_circle`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensorA_id INTEGER,
  p_sensorB_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensorA_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM sensor_circle WHERE sensorA_id=p_sensorA_id AND sensorB_id=p_sensorB_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor_circle_to_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor_circle_to_user`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_user_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_finished INTEGER DEFAULT 0;

  DECLARE v_id INTEGER;

  DECLARE c_sensor CURSOR FOR
  SELECT id FROM sensor WHERE user_id=p_user_id ORDER BY id;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_finished=1;

  OPEN c_sensor;
  get_data: LOOP

  FETCH c_sensor INTO v_id;

  IF v_finished=1 THEN LEAVE get_data;
  END IF;

  SELECT remove_sensor_circle(p_user,p_pass,p_sensor_id,v_id) INTO v_id;

  END LOOP get_data;
  CLOSE c_sensor;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor_group` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor_group`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_group_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM sensor_group WHERE id=p_group_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor_group_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor_group_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_group_id INTEGER,
  p_sensor_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_user_group_master_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  -- admin, joiner to group and group master can remove

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  SELECT sensor_id INTO v_sensor_id FROM sensor_group WHERE id=p_group_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_group_master_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) OR
     (v_user='fa_client@localhost' AND v_user_group_master_id=v_user_inner_id) THEN

    DELETE FROM sensor_group_part WHERE sensor_group_id=p_group_id AND sensor_id=p_sensor_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_sensor_place` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_sensor_place`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_place_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM sensor_place WHERE id=p_place_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_settings` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_settings`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_code VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_settings',CONCAT('error: code=-1 username=',p_user,' settings_code=',p_code));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM settings WHERE code=p_code;
    
    CALL add_audit(p_user,'remove_settings',CONCAT('success: code=0 username=',p_user,' settings_code=',p_code));

  ELSE
    CALL add_audit(p_user,'remove_settings',CONCAT('error: code=-3 username=',p_user,' settings_code=',p_code));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_stock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_stock`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_store_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_stock',CONCAT('error: code=-1 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));    
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM stock WHERE product_id=p_product_id AND store_id=p_store_id;
    
    CALL add_audit(p_user,'remove_stock',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));

  ELSE
    CALL add_audit(p_user,'remove_stock',CONCAT('error: code=-3 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));      
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_stock_invoice` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_stock_invoice`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_stock_invoice_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_stock_invoice',CONCAT('error: code=-1 username=',p_user,' id=',p_stock_invoice_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM stock_invoice WHERE id=p_stock_invoice_id;
    
    CALL add_audit(p_user,'remove_stock_invoice',CONCAT('success: code=0 username=',p_user,' id=',p_stock_invoice_id));

  ELSE
    CALL add_audit(p_user,'remove_stock_invoice',CONCAT('error: code=-3 username=',p_user,' id=',p_stock_invoice_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_stock_invoice_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_stock_invoice_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_stock_invoice_id INTEGER,
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_stock_invoice_part',CONCAT('error: code=-1 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));  
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM stock_invoice_part WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;

    -- UPDATE STOCK_INVOICE IN total_price,total_tax
    -- UPDATE STOCK IN count

    CALL add_audit(p_user,'remove_stock_invoice_part',CONCAT('success: code=0 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'remove_stock_invoice_part',CONCAT('error: code=-3 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));  
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_store` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_store`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_store_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_store',CONCAT('error: code=-1 username=',p_user,' id=',p_store_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM store WHERE id=p_store_id;
    
    CALL add_audit(p_user,'remove_store',CONCAT('success: code=0 username=',p_user,' id=',p_store_id));

  ELSE
    CALL add_audit(p_user,'remove_store',CONCAT('error: code=-3 username=',p_user,' id=',p_store_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_store_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_store_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_store_part',CONCAT('error: code=-1 username=',p_user,' id=',p_part_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM store_part WHERE id=p_part_id;
    
    CALL add_audit(p_user,'remove_store_part',CONCAT('success: code=0 username=',p_user,' id=',p_part_id));

  ELSE
    CALL add_audit(p_user,'remove_store_part',CONCAT('error: code=-3 username=',p_user,' id=',p_part_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_tax` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_tax`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_tax_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_tax',CONCAT('error: code=-1 username=',p_user,' id=',p_tax_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM tax WHERE id=p_tax_id;
    
    CALL add_audit(p_user,'remove_tax',CONCAT('success: code=0 username=',p_user,' id=',p_tax_id));

  ELSE
    CALL add_audit(p_user,'remove_tax',CONCAT('error: code=-3 username=',p_user,' id=',p_tax_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_track` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_track`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_track_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=p_track_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM track WHERE id=p_track_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_track_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_track_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;
  DECLARE v_track_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;

  IF v_track_id IS NOT NULL THEN
    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;
    IF v_sensor_id IS NOT NULL THEN
      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
    END IF;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    DELETE FROM track_part WHERE id=p_part_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_track_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_track_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_track_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM track_type WHERE id=p_type_id;
    
    CALL add_audit(p_user,'remove_track_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_track_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_transport`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_transport',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM transport WHERE id=p_transport_id;
    
    CALL add_audit(p_user,'remove_transport',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id));

  ELSE
    CALL add_audit(p_user,'remove_transport',CONCAT('error: code=-3 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_transport_product_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_transport_product_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_product_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_transport_product_part',CONCAT('error: code=-1 username=',p_user,' transport_id=',p_transport_id,' product_id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM transport_product_part WHERE transport_id=p_transport_id AND product_id=p_product_id;

    CALL add_audit(p_user,'remove_transport_product_part',CONCAT('success: code=0 username=',p_user,' transport_id=',p_transport_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'remove_transport_product_part',CONCAT('error: code=-3 username=',p_user,' transport_id=',p_transport_id,' product_id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_transport_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_transport_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_transport_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_transport_review',CONCAT('error: code=-4 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT value INTO v_value
  FROM transport_review
  WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;

  IF v_value IS NULL THEN
    CALL add_audit(p_user,'remove_transport_review',CONCAT('error: code=-4 username=',p_user,' id=',p_transport_id));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR v_user_id=p_user_id THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM transport
    WHERE id=p_transport_id;

    SET v_review_count=v_review_count-1;
    SET v_review_value=v_review_value-v_value;

    DELETE FROM transport_review
    WHERE order_id=p_order_id AND user_id=p_user_id AND transport_id=p_transport_id;

    UPDATE transport SET review_count=v_review_count,
                         review_value=v_review_value
    WHERE id=p_transport_id;

    CALL add_audit(p_user,'remove_transport_review',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id));

  ELSE
    CALL add_audit(p_user,'remove_transport_review',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_transport_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_transport_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_transport_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM transport_type WHERE id=p_type_id;
    
    CALL add_audit(p_user,'remove_transport_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_transport_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_transport_type_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_transport_type_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_type_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_transport_type_part',CONCAT('error: code=-1 username=',p_user,' transport_id=',p_transport_id,' type_id=',p_type_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM transport_type_part WHERE transport_id=p_transport_id AND transport_type_id=p_type_id;
    
    CALL add_audit(p_user,'remove_transport_type_part',CONCAT('success: code=0 username=',p_user,' transport_id=',p_transport_id,' type_id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'remove_transport_type_part',CONCAT('error: code=-3 username=',p_user,' transport_id=',p_transport_id,' type_id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_user`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_user',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    DELETE FROM user WHERE id=p_user_id;

    CALL add_audit(p_user,'remove_user',CONCAT('success: code=0 username=',p_user,' id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'remove_user',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `remove_user_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `remove_user_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_review_user_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_review_count INTEGER;
  DECLARE v_review_value INTEGER;

  DECLARE v_value INTEGER;

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'remove_user_review',CONCAT('error: code=-1 username=',p_user,' id=',p_review_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  SELECT value INTO v_value
  FROM user_review
  WHERE user_id=p_user_id AND review_user_id=p_review_user_id;

  IF v_value IS NULL THEN
    CALL add_audit(p_user,'remove_user_review',CONCAT('error: code=-4 username=',p_user,' id=',p_review_user_id));
    RETURN -4;
  END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR v_user_id=p_user_id THEN

    SELECT review_count,review_value INTO v_review_count,v_review_value
    FROM user
    WHERE id=p_review_user_id;

    SET v_review_count=v_review_count-1;
    SET v_review_value=v_review_value-v_value;

    DELETE FROM user_review
    WHERE user_id=p_user_id AND review_user_id=p_review_user_id;

    UPDATE user SET review_count=v_review_count,
                    review_value=v_review_value
    WHERE id=p_review_user_id;

    CALL add_audit(p_user,'remove_user_review',CONCAT('success: code=0 username=',p_user,' id=',p_review_user_id));

  ELSE
    CALL add_audit(p_user,'remove_user_review',CONCAT('error: code=-1 username=',p_user,' id=',p_review_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `replace_text` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `replace_text`(
  p_text TEXT) RETURNS text CHARSET utf8
BEGIN
  RETURN CAST(REPLACE(REPLACE(p_text,'\\','\\\\'),CHAR(34),CONCAT('\\',CHAR(34))) AS CHAR);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `restore_user_pass` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `restore_user_pass`(
  p_user VARCHAR(64)) RETURNS varchar(16) CHARSET utf8
BEGIN
  DECLARE v_user_pass VARCHAR(16);

  SELECT password INTO v_user_pass
  FROM user
  WHERE username=p_user;

  CALL add_audit(p_user,'password_recovery',CONCAT('username=',p_user));

  RETURN v_user_pass;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_attr_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_attr_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_attr_part_id INTEGER,
  p_object_id INTEGER,
  p_object_name VARCHAR(32),
  p_attr_name VARCHAR(32),
  p_attr_value VARCHAR(256),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_object_id INTEGER;
  DECLARE v_object_name VARCHAR(64);
  DECLARE v_attr_name VARCHAR(32);
  DECLARE v_attr_value VARCHAR(256);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_attr_part',CONCAT('error: code=-1 username=',p_user,' id=',p_attr_part_id));
    RETURN -1;
  END IF;

  SELECT object_id,object_name,name,value,language INTO v_object_id,v_object_name,v_attr_name,v_attr_value,v_language
  FROM attr_part
  WHERE id=p_attr_part_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_object_id!=-1 THEN SET v_object_id=p_object_id; END IF;
    IF p_object_name!='' THEN SET v_object_name=p_object_name; END IF;
    IF p_attr_name!='' THEN SET v_attr_name=p_attr_name; END IF;
    IF p_attr_value!='' THEN SET v_attr_value=p_attr_value; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE attr_part SET object_id=v_object_id,
                         object_name=v_object_name,
                         name=v_attr_name,
                         value=v_attr_value,
                         language=v_language
    WHERE id=p_attr_part_id;

    CALL add_audit(p_user,'update_attr_part',CONCAT('success: code=0 username=',p_user,' id=',p_attr_part_id));

  ELSE
    CALL add_audit(p_user,'update_manufacture',CONCAT('error: code=-3 username=',p_user,' id=',p_attr_part_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_currency` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_currency`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_currency_id INTEGER,
  p_name VARCHAR(3),
  p_description VARCHAR(128),
  p_value VARCHAR(10),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(3);
  DECLARE v_description VARCHAR(128);
  DECLARE v_value VARCHAR(10);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_currency',CONCAT('error: code=-1 username=',p_user,' id=',p_currency_id));
    RETURN -1;
  END IF;

  SELECT name,description,value,language INTO v_name,v_description,v_value,v_language
  FROM currency
  WHERE id=p_currency_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_value!='' THEN SET v_value=p_value; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE currency SET name=v_name,
                        description=v_description,
                        value=v_value,
                        language=v_language
    WHERE id=p_currency_id;
    
    CALL add_audit(p_user,'update_currency',CONCAT('success: code=0 username=',p_user,' id=',p_currency_id));

  ELSE
    CALL add_audit(p_user,'update_currency',CONCAT('error: code=-3 username=',p_user,' id=',p_currency_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_currency_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_currency_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_currency_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_currency_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_currency_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE currency SET active=p_activity WHERE id=p_currency_id;
    
    CALL add_audit(p_user,'update_currency_activity',CONCAT('success: code=0 username=',p_user,' id=',p_currency_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_currency_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_currency_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_delivery` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_delivery`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_delivery_id INTEGER,
  p_user_id INTEGER,
  p_transport_id INTEGER,
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_address VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_transport_id INTEGER;
  DECLARE v_latitude VARCHAR(20);
  DECLARE v_longitude VARCHAR(20);
  DECLARE v_address VARCHAR(128);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_delivery',CONCAT('error: code=-1 username=',p_user,' id=',p_delivery_id));
    RETURN -1;
  END IF;

  SELECT user_id,transport_id,latitude,longitude,address
  INTO v_user_id,v_transport_id,v_latitude,v_longitude,v_address
  FROM delivery
  WHERE id=p_delivery_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN

    IF v_user_type=1 THEN -- admin can changing user or transport in action
      IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;
      IF p_transport_id!=-1 THEN SET v_transport_id=p_transport_id; END IF;
    END IF;

    IF p_latitude!='' THEN SET v_latitude=p_latitude; END IF;
    IF p_longitude!='' THEN SET v_longitude=p_longitude; END IF;
    IF p_address!='' THEN SET v_address=p_address; END IF;

    UPDATE delivery SET user_id=v_user_id,
                        transport_id=v_transport_id,
                        latitude=v_latitude,
                        longitude=v_longitude,
                        address=v_address
    WHERE id=p_delivery_id;
    
    CALL add_audit(p_user,'update_delivery',CONCAT('success: code=0 username=',p_user,' id=',p_delivery_id));

  ELSE
    CALL add_audit(p_user,'update_delivery',CONCAT('error: code=-3 username=',p_user,' id=',p_delivery_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_delivery_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_delivery_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_delivery_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  SELECT name,language INTO v_name,v_language
  FROM delivery_type
  WHERE id=p_type_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE delivery_type SET name=v_name,
                             language=v_language
    WHERE id=p_type_id;

    CALL add_audit(p_user,'update_delivery_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'update_delivery_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_discount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_discount_id INTEGER,
  p_product_type_id INTEGER,
  p_type INTEGER,
  p_code VARCHAR(8),
  p_name VARCHAR(32),
  p_value INTEGER,
  p_language VARCHAR(32),
  p_start_date VARCHAR(20),
  p_finish_date VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_product_type_id INTEGER;
  DECLARE v_type INTEGER;
  DECLARE v_code VARCHAR(8);
  DECLARE v_name VARCHAR(32);
  DECLARE v_value INTEGER;
  DECLARE v_language VARCHAR(32);
  DECLARE v_start_date VARCHAR(20);
  DECLARE v_finish_date VARCHAR(20);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_discount',CONCAT('error: code=-1 username=',p_user,' id=',p_discount_id));
    RETURN -1;
  END IF;

  SELECT product_type_id,type,code,name,value,language,start_date,finish_date INTO v_product_type_id,v_type,v_code,v_name,v_value,v_language,v_start_date,v_finish_date
  FROM discount
  WHERE id=p_discount_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_product_type_id!=-1 THEN SET v_product_type_id=p_product_type_id; END IF;
    IF p_type!=-1 THEN SET v_type=p_type; END IF;
    IF p_code!='' THEN SET v_code=p_code; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_value!=-1 THEN SET v_value=p_value; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;
    IF p_start_date!='' THEN SET v_start_date=p_start_date; END IF;
    IF p_finish_date!='' THEN SET v_finish_date=p_finish_date; END IF;

    UPDATE discount SET product_type_id=v_product_type_id,
                        type=v_type,
                        code=v_code,
                        name=v_name,
                        value=v_value,
                        language=v_language,
                        start_date=v_start_date,
                        finish_date=v_finish_date
    WHERE id=p_discount_id;

    CALL add_audit(p_user,'update_discount',CONCAT('success: code=0 username=',p_user,' id=',p_discount_id));

  ELSE
    CALL add_audit(p_user,'update_discount',CONCAT('error: code=-3 username=',p_user,' id=',p_discount_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_language` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_language`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_language_id INTEGER,
  p_name VARCHAR(32),
  p_value VARCHAR(32),
  p_code VARCHAR(5)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(32);
  DECLARE v_code VARCHAR(5);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_language',CONCAT('error: code=-1 username=',p_user,' id=',p_language_id));
    RETURN -1;
  END IF;

  SELECT name,value,code INTO v_name,v_value,v_code
  FROM language
  WHERE id=p_language_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_value!='' THEN SET v_value=p_value; END IF;
    IF p_code!='' THEN SET v_code=p_code; END IF;

    UPDATE language SET name=p_name,
                        value=p_value,
                        code=p_code
    WHERE id=p_language_id;
    
    CALL add_audit(p_user,'update_language',CONCAT('success: code=0 username=',p_user,' id=',p_language_id));

  ELSE
    CALL add_audit(p_user,'update_language',CONCAT('error: code=-3 username=',p_user,' id=',p_language_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_language_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_language_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_language_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_language_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_language_id));  
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE language SET active=p_activity WHERE id=p_language_id;
    
    CALL add_audit(p_user,'update_language_activity',CONCAT('success: code=0 username=',p_user,' id=',p_language_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_language_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_language_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_manufacture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_manufacture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_manufacture_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_manufacture',CONCAT('error: code=-1 username=',p_user,' id=',p_manufacture_id));
    RETURN -1;
  END IF;

  SELECT name,description INTO v_name,v_description
  FROM manufacture
  WHERE id=p_manufacture_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;

    UPDATE manufacture SET name=v_name,
                           description=v_description
    WHERE id=p_manufacture_id;

    CALL add_audit(p_user,'update_manufacture',CONCAT('success: code=0 username=',p_user,' id=',p_manufacture_id));

  ELSE
    CALL add_audit(p_user,'update_manufacture',CONCAT('error: code=-3 username=',p_user,' id=',p_manufacture_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_manufacture_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_manufacture_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_manufacture_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_manufacture_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_manufacture_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE manufacture SET picture=p_picture
      WHERE id=p_manufacture_id;
      CALL add_audit(p_user,'update_manufacture_picture',CONCAT('success: code=0 username=',p_user,' id=',p_manufacture_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_manufacture_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_manufacture_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_transport_id INTEGER,
  p_status_id INTEGER,
  p_total_price VARCHAR(16),
  p_route_distance INTEGER,
  p_route_duration INTEGER,
  p_route_data BLOB,
  p_order_lat VARCHAR(20),
  p_order_lon VARCHAR(20),
  p_order_address VARCHAR(128),
  p_delivery_lat VARCHAR(20),
  p_delivery_lon VARCHAR(20),
  p_delivery_address VARCHAR(128),
  p_delivery_type_id INTEGER,
  p_reserved_date VARCHAR(20),
  p_reserved_hours INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_transport_id INTEGER;
  DECLARE v_status_id INTEGER;
  DECLARE v_total_price VARCHAR(16);
  DECLARE v_route_distance INTEGER;
  DECLARE v_route_duration INTEGER;
  DECLARE v_route_data BLOB;
  DECLARE v_order_lat VARCHAR(20);
  DECLARE v_order_lon VARCHAR(20);
  DECLARE v_order_address VARCHAR(128);
  DECLARE v_delivery_lat VARCHAR(20);
  DECLARE v_delivery_lon VARCHAR(20);
  DECLARE v_delivery_address VARCHAR(128);
  DECLARE v_delivery_type_id INTEGER;
  DECLARE v_reserved_date VARCHAR(20);
  DECLARE v_reserved_hours INTEGER;

  DECLARE v_order_transport_id INTEGER;
  DECLARE v_order_status_id INTEGER;

  DECLARE v_keyword VARCHAR(8) DEFAULT 'E2E4F117';

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB',CONCAT('error: code=-1 username=',p_user,' id=',p_order_id));
    RETURN -1;
  END IF;

  SELECT user_id,transport_id,order_status_id,total_price,route_distance,route_duration,route_data,delivery_lat,delivery_lon,delivery_address,delivery_type_id,order_lat,order_lon,order_address,reserved_date,reserved_hours
  INTO v_user_id,v_transport_id,v_status_id,v_total_price,v_route_distance,v_route_duration,v_route_data,v_delivery_lat,v_delivery_lon,v_delivery_address,v_delivery_type_id,v_order_lat,v_order_lon,v_order_address,v_reserved_date,v_reserved_hours
  FROM order_AB
  WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_status_id=1) THEN

    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;

    IF p_transport_id!=-1 AND v_user_type=1 THEN SET v_order_transport_id=p_transport_id; END IF;
    IF p_transport_id=-1 AND v_user_type=1 THEN SET v_order_transport_id=NULL;SET p_transport_id=NULL; END IF;

    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR 
                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)
    THEN SET v_order_status_id=p_status_id; END IF;

    IF p_total_price!='' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;
    IF p_route_distance!=-1 AND v_user_type=1 THEN SET v_route_distance=p_route_distance; END IF;
    IF p_route_duration!=-1 AND v_user_type=1 THEN SET v_route_duration=p_route_duration; END IF;
    IF p_route_data!='' AND v_user_type=1 THEN SET v_route_data=p_route_data; END IF;
    IF p_order_lat!='' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;
    IF p_order_lon!='' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;
    IF p_order_address!='' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;
    IF p_delivery_lat!='' AND v_user_type=1 THEN SET v_delivery_lat=p_delivery_lat; END IF;
    IF p_delivery_lon!='' AND v_user_type=1 THEN SET v_delivery_lon=p_delivery_lon; END IF;
    IF p_delivery_address!='' AND v_user_type=1 THEN SET v_delivery_address=p_delivery_address; END IF;
    IF p_delivery_type_id!=-1 AND v_user_type=1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;
    IF p_reserved_date!='' AND v_user_type=1 THEN SET v_reserved_date=p_reserved_date; END IF;
    IF p_reserved_hours!=-1 AND v_user_type=1 THEN SET v_reserved_hours=p_reserved_hours; END IF;

    UPDATE order_AB SET
           user_id=v_user_id,
           transport_id=v_order_transport_id,
           order_status_id=v_order_status_id,
           total_price=v_total_price,
           route_distance=v_route_distance,
           route_duration=v_route_duration,
           route_data=v_route_data,
           order_lat=v_order_lat,
           order_lon=v_order_lon,
           order_address=v_order_address,
           delivery_lat=v_delivery_lat,
           delivery_lon=v_delivery_lon,
           delivery_address=v_delivery_address,
           delivery_type_id=v_delivery_type_id,
           reserved_date=v_reserved_date,
           reserved_hours=v_reserved_hours
    WHERE id=p_order_id;
    
    CALL add_audit(p_user,'update_order_AB',CONCAT('success: code=0 username=',p_user,' id=',p_order_id));

    -- driver fee
    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN
	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund
    END IF;

    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN
	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund
    END IF;

    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN
      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund
      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund
    END IF;

  ELSE
    CALL add_audit(p_user,'update_order_AB',CONCAT('error: code=-3 username=',p_user,' id=',p_order_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_product_param_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_product_param_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_param_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;
  DECLARE v_count INTEGER;
  DECLARE v_price VARCHAR(16);
  -- DECLARE v_discount INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_product_param_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -1;
  END IF;

  SELECT count,price INTO v_count,v_price
  FROM order_AB_product_param_part
  WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    IF p_count!=-1 THEN SET v_count=p_count; END IF;
    -- set price for one product without discount
    IF p_price!=''  AND v_user_type=1 THEN SET v_price=p_price; END IF;

    UPDATE order_AB_product_param_part SET count=v_count,
							               price=v_price
    WHERE order_id=p_order_id AND product_id=p_product_id AND product_param_id=p_param_id;
    
    CALL add_audit(p_user,'update_order_AB_product_param_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'update_order_AB_product_param_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_product_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_product_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_product_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_order_status INTEGER;
  DECLARE v_count INTEGER;
  DECLARE v_price VARCHAR(16);
  -- DECLARE v_discount INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_product_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));
    RETURN -1;
  END IF;

  SELECT count,price INTO v_count,v_price
  FROM order_AB_product_part
  WHERE order_id=p_order_id AND product_id=p_product_id;

  SELECT user_id,order_status_id INTO v_user_id,v_order_status FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND v_order_status=1) THEN

    IF p_count!=-1 THEN SET v_count=p_count; END IF;
    -- set price for one product without discount
    IF p_price!=''  AND v_user_type=1 THEN SET v_price=p_price; END IF;

    UPDATE order_AB_product_part SET count=v_count,
							 price=v_price
    WHERE order_id=p_order_id AND product_id=p_product_id;
    
    CALL add_audit(p_user,'update_order_AB_product_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'update_order_AB_product_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' product_id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_status_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  DECLARE v_user_id INTEGER;
  DECLARE v_transport_id INTEGER;
  DECLARE v_status_id INTEGER;
  
  DECLARE v_keyword VARCHAR(8) DEFAULT 'E2E4F117';

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_status',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));
    RETURN -1;
  END IF;

  SELECT user_id,transport_id,order_status_id INTO v_user_id,v_transport_id,v_status_id FROM order_AB WHERE id=p_order_id;

  # SELECT worker (driver) account for prepaid_amount sum
  # if sum > 0 can set status for worker (driver) transport

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND is_my_transport(p_user,v_transport_id)=1 AND p_status_id>0 AND v_status_id<5 AND v_status_id>0) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) AND v_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN

    UPDATE order_AB SET order_status_id=p_status_id WHERE id=p_order_id;
    
    CALL add_audit(p_user,'update_order_AB_status',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));
    
    -- driver fee
    IF v_transport_id IS NOT NULL AND p_status_id<0 AND v_status_id>0 THEN -- current status is active and cancelling order
	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund
    END IF;

  ELSE
    CALL add_audit(p_user,'update_order_AB_status',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_transport`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_transport_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  DECLARE v_user_id INTEGER;
  DECLARE v_transport_id INTEGER;
  DECLARE v_order_transport_id INTEGER;
  DECLARE v_status_id INTEGER;
  DECLARE v_order_status_id INTEGER;

  DECLARE v_keyword VARCHAR(8) DEFAULT 'E2E4F117';
  
  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_transport',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' transport_id=',p_transport_id));
    RETURN -1;
  END IF;

  SELECT user_id,order_status_id,transport_id INTO v_user_id,v_status_id,v_transport_id FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND
       ((p_transport_id=-1 AND is_my_transport(p_user,v_transport_id)=1) OR
        (p_transport_id!=-1 AND v_transport_id IS NULL))) OR
     (v_user='fa_client@localhost' AND v_user_type=3 AND v_user_id=v_user_inner_id AND p_transport_id=-1) THEN


    IF p_transport_id=-1 THEN
      SET v_order_transport_id=NULL;SET p_transport_id=NULL;SET v_order_status_id=1;
    ELSE SET v_order_transport_id=p_transport_id;SET v_order_status_id=2; END IF;

    UPDATE order_AB SET transport_id=v_order_transport_id,order_status_id=v_order_status_id WHERE id=p_order_id;

    CALL add_audit(p_user,'update_order_AB_transport',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' transport_id=',p_transport_id));

    -- driver fee
    IF v_transport_id IS NOT NULL AND p_transport_id IS NULL AND v_status_id>0 THEN
	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); -- return fund
    END IF;

    IF v_transport_id IS NULL AND p_transport_id IS NOT NULL THEN
	  CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund
    END IF;

    IF v_transport_id IS NOT NULL AND p_transport_id IS NOT NULL THEN
      IF v_status_id>0 THEN CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,v_transport_id,TRUE,v_keyword); END IF; -- return fund
      CALL update_user_prepaid_amount_by_order_AB(p_user,p_order_id,p_transport_id,FALSE,v_keyword); -- transfer fund
    END IF;

  ELSE
    CALL add_audit(p_user,'update_order_AB_transport',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' transport_id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_user_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_user_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_pickup_status_id INTEGER,
  p_pickup_lat VARCHAR(20),
  p_pickup_lon VARCHAR(20),
  p_pickup_address VARCHAR(128),
  p_pickup_date VARCHAR(20),
  p_pickup_info VARCHAR(128),
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_order_user_id INTEGER;
  DECLARE v_order_status_id INTEGER;
  DECLARE v_pickup_user_id INTEGER;
  DECLARE v_pickup_status_id INTEGER;

  DECLARE v_pickup_lat VARCHAR(20);
  DECLARE v_pickup_lon VARCHAR(20);
  DECLARE v_pickup_address VARCHAR(128);
  DECLARE v_pickup_date VARCHAR(20);
  DECLARE v_pickup_info VARCHAR(128);
  DECLARE v_price VARCHAR(16);
  
  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_user_part',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));
    RETURN -1;
  END IF;

  SELECT user_id,pickup_status_id,pickup_lat,pickup_lon,pickup_address,pickup_date,pickup_info,price
  INTO v_pickup_user_id,v_pickup_status_id,v_pickup_lat,v_pickup_lon,v_pickup_address,v_pickup_date,v_pickup_info,v_price
  FROM order_AB_user_part
  WHERE order_id=p_order_id AND user_id=p_user_id;

  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3) 
                                   AND (v_order_user_id=v_user_inner_id OR v_pickup_user_id=v_user_inner_id) 
                                   AND v_order_status_id=1 AND v_pickup_status_id=1) THEN

    IF v_user_type=1 OR (v_order_user_id=v_user_inner_id) OR (p_pickup_status_id<0 AND v_pickup_user_id=v_user_inner_id)
    THEN SET v_pickup_status_id=p_pickup_status_id; END IF;

    IF p_price!='' AND (v_user_type=1 OR v_order_user_id=v_user_inner_id) THEN SET v_price=p_price; END IF;
    
    IF p_pickup_lat!='' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lat=p_pickup_lat; END IF;
    IF p_pickup_lon!='' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_lon=p_pickup_lon; END IF;
    IF p_pickup_address!='' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_address=p_pickup_address; END IF;
    IF p_pickup_date!='' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_date=p_pickup_date; END IF;
    IF p_pickup_info!='' AND (v_user_type=1 OR v_pickup_user_id=v_user_inner_id) THEN SET v_pickup_info=p_pickup_info; END IF;

    UPDATE order_AB_user_part SET pickup_status_id=p_pickup_status_id,
							      price=v_price,
                                  pickup_lat=v_pickup_lat,
                                  pickup_lon=v_pickup_lon,
                                  pickup_address=v_pickup_address,
                                  pickup_date=v_pickup_date,
                                  pickup_info=v_pickup_info
    WHERE order_id=p_order_id AND user_id=p_user_id;
    
    CALL add_audit(p_user,'update_order_AB_user_part',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'update_order_AB_user_part',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_AB_user_part_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_AB_user_part_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_user_id INTEGER,
  p_status_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_order_user_id INTEGER;
  DECLARE v_order_status_id INTEGER;
  DECLARE v_pickup_user_id INTEGER;
  DECLARE v_pickup_status_id INTEGER; /*not used*/

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_AB_user_part_status',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id,' status_id=',p_status_id));
    RETURN -1;
  END IF;

  SELECT user_id,pickup_status_id INTO v_pickup_user_id,v_pickup_status_id
  FROM order_AB_user_part
  WHERE order_id=p_order_id AND user_id=p_user_id;

  SELECT user_id,order_status_id INTO v_order_user_id,v_order_status_id FROM order_AB WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND (v_user_type=2 OR v_user_type=3)
                                   AND (v_order_user_id=v_user_inner_id OR (p_status_id<0 AND v_pickup_user_id=v_user_inner_id))
                                   AND v_order_status_id=1) THEN

    UPDATE order_AB_user_part SET pickup_status_id=p_status_id WHERE order_id=p_order_id AND user_id=p_user_id;
    
    CALL add_audit(p_user,'update_order_AB_user_part_status',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id,' status_id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'update_order_AB_user_part_status',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' user_id=',p_user_id,' status_id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_job` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_job`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_customer_user_id INTEGER,
  p_worker_user_id INTEGER,
  p_status_id INTEGER,
  p_total_price VARCHAR(16),
  p_order_lat VARCHAR(20),
  p_order_lon VARCHAR(20),
  p_order_address VARCHAR(128),
  p_product_id INTEGER,
  p_reserved_date VARCHAR(20),
  p_reserved_hours INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_customer_user_id INTEGER;
  DECLARE v_worker_user_id INTEGER;
  DECLARE v_status_id INTEGER;
  DECLARE v_total_price VARCHAR(16);
  DECLARE v_order_lat VARCHAR(20);
  DECLARE v_order_lon VARCHAR(20);
  DECLARE v_order_address VARCHAR(128);
  DECLARE v_product_id INTEGER;
  DECLARE v_reserved_date VARCHAR(20);
  DECLARE v_reserved_hours INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_job',CONCAT('error: code=-1 username=',p_user,' id=',p_order_id));
    RETURN -1;
  END IF;

  SELECT customer_user_id,worker_user_id,order_status_id,total_price,order_lat,order_lon,order_address,product_id,reserved_date,reserved_hours
  INTO v_customer_user_id,v_worker_user_id,v_status_id,v_total_price,v_order_lat,v_order_lon,v_order_address,v_product_id,v_reserved_date,v_reserved_hours
  FROM order_job
  WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND v_status_id=1) THEN

    IF p_customer_user_id!=-1 AND v_user_type=1 THEN SET v_customer_user_id=p_customer_user_id; END IF;

    IF p_worker_user_id!=-1 AND v_user_type=1 THEN SET v_worker_user_id=p_worker_user_id; END IF;
    IF p_worker_user_id=-1 AND v_user_type=1 THEN SET v_worker_user_id=NULL; END IF;

    IF v_user_type=1 OR (v_user_type=2 AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR 
                        (v_user_type=3 AND p_status_id<0 AND v_status_id<3 AND v_status_id>0)
    THEN SET v_status_id=p_status_id; END IF;

    IF p_total_price!='' AND v_user_type=1 THEN SET v_total_price=p_total_price; END IF;
    IF p_order_lat!='' AND v_user_type=1 THEN SET v_order_lat=p_order_lat; END IF;
    IF p_order_lon!='' AND v_user_type=1 THEN SET v_order_lon=p_order_lon; END IF;
    IF p_order_address!='' AND v_user_type=1 THEN SET v_order_address=p_order_address; END IF;
    IF p_product_id!=-1 AND v_user_type=1 THEN SET v_product_id=p_product_id; END IF;
    IF p_reserved_date!='' AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_date=p_reserved_date; END IF;
    IF p_reserved_hours!=-1 AND (v_user_type=1 OR v_user_type=3) THEN SET v_reserved_hours=p_reserved_hours; END IF;

    UPDATE order_job SET
           customer_user_id=v_customer_user_id,
           worker_user_id=v_worker_user_id,
           order_status_id=v_status_id,
           total_price=v_total_price,
           order_lat=v_order_lat,
           order_lon=v_order_lon,
           order_address=v_order_address,
           product_id=v_product_id,
           reserved_date=v_reserved_date,
           reserved_hours=v_reserved_hours
    WHERE id=p_order_id;
    
    CALL add_audit(p_user,'update_order_job',CONCAT('success: code=0 username=',p_user,' id=',p_order_id));

  ELSE
    CALL add_audit(p_user,'update_order_job',CONCAT('error: code=-3 username=',p_user,' id=',p_order_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_job_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_job_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_order_id INTEGER,
  p_status_id INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);
  DECLARE v_transport_id INTEGER;
  DECLARE v_status_id INTEGER;

  DECLARE v_customer_user_id INTEGER;
  DECLARE v_worker_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_job_status',CONCAT('error: code=-1 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));
    RETURN -1;
  END IF;

  SELECT customer_user_id,worker_user_id,order_status_id INTO v_customer_user_id,v_worker_user_id,v_status_id FROM order_job WHERE id=p_order_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND v_worker_user_id=v_user_inner_id AND p_status_id>0 AND v_status_id<4 AND v_status_id>0) OR
     (v_user='fa_client@localhost' AND v_user_type=3 AND v_customer_user_id=v_user_inner_id AND p_status_id<0 AND v_status_id<3 AND v_status_id>0) THEN

    UPDATE order_job SET order_status_id=p_status_id WHERE id=p_order_id;
    
    CALL add_audit(p_user,'update_order_job_status',CONCAT('success: code=0 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'update_order_job_status',CONCAT('error: code=-3 username=',p_user,' order_id=',p_order_id,' status_id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_order_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_order_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_order_status',CONCAT('error: code=-1 username=',p_user,' id=',p_status_id));
    RETURN -1;
  END IF;

  SELECT name,language INTO v_name,v_language
  FROM order_status
  WHERE id=p_status_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE order_status SET name=v_name,
                            language=v_language
    WHERE id=p_status_id;
    
    CALL add_audit(p_user,'update_order_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'update_order_status',CONCAT('error: code=-3 username=',p_user,' id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_pickup_status` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_pickup_status`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_status_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_pickup_status',CONCAT('error: code=-1 username=',p_user,' id=',p_status_id));
    RETURN -1;
  END IF;

  SELECT name,language INTO v_name,v_language
  FROM order_status
  WHERE id=p_status_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE pickup_status SET name=v_name,
                             language=v_language
    WHERE id=p_status_id;
    
    CALL add_audit(p_user,'update_pickup_status',CONCAT('success: code=0 username=',p_user,' id=',p_status_id));

  ELSE
    CALL add_audit(p_user,'update_pickup_status',CONCAT('error: code=-3 username=',p_user,' id=',p_status_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_prepaid_card_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_prepaid_card_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_prepaid_card_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_prepaid_card_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_prepaid_card_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE prepaid_card SET active=p_activity WHERE id=p_prepaid_card_id;

    CALL add_audit(p_user,'update_prepaid_card_activity',CONCAT('success: code=0 username=',p_user,' id=',p_prepaid_card_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_prepaid_card_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_prepaid_card_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_manufacture_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_code VARCHAR(32),
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_manufacture_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_code VARCHAR(32);
  DECLARE v_price VARCHAR(16);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  SELECT manufacture_id,name,description,code,price INTO v_manufacture_id,v_name,v_description,v_code,v_price
  FROM product
  WHERE id=p_product_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_manufacture_id!=-1 THEN SET v_manufacture_id=p_manufacture_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_code!='' THEN SET v_code=p_code; END IF;
    IF p_price!='' THEN SET v_price=p_price; END IF;

    UPDATE product SET manufacture_id=v_manufacture_id,
                       name=v_name,
                       description=v_description,
                       code=v_code,
                       price=v_price
    WHERE id=p_product_id;

    CALL add_audit(p_user,'update_product',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'update_product',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_discount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_discount_code VARCHAR(8)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_discount',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_discount_code='' THEN SET p_discount_code=NULL; END IF;

    UPDATE product SET discount_code=p_discount_code WHERE id=p_product_id;

    CALL add_audit(p_user,'update_product_discount',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'update_product_discount',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_param` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_param`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_param_id INTEGER,
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_value VARCHAR(64),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_parent_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(64);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_param',CONCAT('error: code=-1 username=',p_user,' id=',p_param_id));
    RETURN -1;
  END IF;

  SELECT parent_id,name,value,language INTO v_parent_id,v_name,v_value,v_language
  FROM product_param
  WHERE id=p_param_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_value!='' THEN SET v_value=p_value; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE product_param SET parent_id=v_parent_id,
                             name=v_name,
                             value=v_value,
                             language=v_language
    WHERE id=p_param_id;

    CALL add_audit(p_user,'update_product_param',CONCAT('success: code=0 username=',p_user,' id=',p_param_id));

  ELSE
    CALL add_audit(p_user,'update_product_param',CONCAT('error: code=-3 username=',p_user,' id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_param_part_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_param_part_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_param_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_param_picture',CONCAT('error: code=-1 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE product_param_part SET picture=p_picture
      WHERE product_id=p_product_id AND product_param_id=p_param_id;
      CALL add_audit(p_user,'update_product_param_picture',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_product_param_picture',CONCAT('error: code=-3 username=',p_user,' product_id=',p_product_id,' param_id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_param_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_param_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_param_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_param_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_param_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE product_param SET picture=p_picture
      WHERE id=p_param_id;
      CALL add_audit(p_user,'update_product_param_picture',CONCAT('success: code=0 username=',p_user,' id=',p_param_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_product_param_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_param_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE product SET picture=p_picture
      WHERE id=p_product_id;
      CALL add_audit(p_user,'update_product_picture',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_product_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_review_count INTEGER,
  p_review_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_review',CONCAT('error: code=-1 username=',p_user,' id=',p_product_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE product SET review_count=p_review_count,
                       review_value=p_review_value
	WHERE id=p_product_id;

    CALL add_audit(p_user,'update_product_review',CONCAT('success: code=0 username=',p_user,' id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'update_product_review',CONCAT('error: code=-3 username=',p_user,' id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_product_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_product_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER,
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_parent_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_product_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language
  FROM product_type
  WHERE id=p_type_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE product_type SET parent_id=v_parent_id,
                            name=v_name,
                            description=v_description,
                            language=v_language
    WHERE id=p_type_id;
    
    CALL add_audit(p_user,'update_product_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'update_product_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_project_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_project_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_schema_name VARCHAR(64),
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_project_activity',CONCAT('error: code=-1 username=',p_user,' schema_name=',p_schema_name));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE project SET active=p_activity WHERE schema_name=p_schema_name;

    CALL add_audit(p_user,'update_project_activity',CONCAT('success: code=0 username=',p_user,' schema_name=',p_schema_name,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_project_activity',CONCAT('error: code=-3 username=',p_user,' schema_name=',p_schema_name));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_purchase` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_purchase`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_purchase_id INTEGER,
  p_user_id INTEGER,
  p_invoice_code VARCHAR(32),
  p_invoice_date VARCHAR(20),
  p_total_price VARCHAR(16),
  p_total_tax VARCHAR(10),
  p_order_id INTEGER,
  p_order_date VARCHAR(20),
  p_order_info VARCHAR(128),
  p_delivery_id INTEGER,
  p_delivery_code VARCHAR(32),
  p_delivery_type_id INTEGER,
  p_delivery_date VARCHAR(20),
  p_delivery_price VARCHAR(16),
  p_payment_date VARCHAR(20),
  p_payment_info VARCHAR(128),
  p_payment_amount VARCHAR(10)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_invoice_code VARCHAR(32);
  DECLARE v_invoice_date VARCHAR(20);
  DECLARE v_total_price VARCHAR(16);
  DECLARE v_total_tax VARCHAR(10);
  DECLARE v_order_id INTEGER;
  DECLARE v_order_date VARCHAR(20);
  DECLARE v_order_info VARCHAR(128);
  DECLARE v_delivery_id INTEGER;
  DECLARE v_delivery_code VARCHAR(32);
  DECLARE v_delivery_type_id INTEGER;
  DECLARE v_delivery_date VARCHAR(20);
  DECLARE v_delivery_price VARCHAR(16);
  DECLARE v_payment_date VARCHAR(20);
  DECLARE v_payment_info VARCHAR(128);
  DECLARE v_payment_amount VARCHAR(10);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_purchase',CONCAT('error: code=-1 username=',p_user,' id=',p_purchase_id));
    RETURN -1;
  END IF;

  SELECT user_id,invoice_code,invoice_date,total_price,total_tax,
		 order_id,order_date,order_info,
		 delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,
		 payment_date,payment_info,payment_amount
  INTO v_user_id,v_invoice_code,v_invoice_date,v_total_price,v_total_tax,
       v_order_id,v_order_date,v_order_info,
       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,
       v_payment_date,v_payment_info,v_payment_amount
  FROM purchase
  WHERE id=p_purchase_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_user_id!=-1 THEN SET v_user_id=p_user_id; END IF;
    IF p_invoice_code!='' THEN SET v_invoice_code=p_invoice_code; END IF;
    IF p_invoice_date!='' THEN SET v_invoice_date=p_invoice_date; END IF;
    IF p_total_price!='' THEN SET v_total_price=p_total_price; END IF;
    IF p_total_tax!='' THEN SET v_total_tax=p_total_tax; END IF;
    IF p_order_id!=-1 THEN SET v_order_id=p_order_id; END IF;
    IF p_order_date!='' THEN SET v_order_date=p_order_date; END IF;
    IF p_order_info!='' THEN SET v_order_info=p_order_info; END IF;
    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; END IF;
    IF p_delivery_code!='' THEN SET v_delivery_code=p_delivery_code; END IF;
    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; END IF;
    IF p_delivery_date!='' THEN SET v_delivery_date=p_delivery_date; END IF;
    IF p_delivery_price!='' THEN SET v_delivery_price=p_delivery_price; END IF;
    IF p_payment_date!='' THEN SET v_payment_date=p_payment_date; END IF;
    IF p_payment_info!='' THEN SET v_payment_info=p_payment_info; END IF;
    IF p_payment_amount!='' THEN SET v_payment_amount=p_payment_amount; END IF;

    UPDATE purchase SET
           user_id=v_user_id,
           invoice_code=v_invoice_code,
           invoice_date=v_invoice_date,
           total_price=v_total_price,
           total_tax=v_total_tax,
           order_id=v_order_id,
           order_date=v_order_date,
           order_info=v_order_info,
           delivery_id=v_delivery_id,
           delivery_code=v_delivery_code,
           delivery_type_id=v_delivery_type_id,
           delivery_date=v_delivery_date,
           delivery_price=v_delivery_price,
           payment_date=v_payment_date,
           payment_info=v_payment_info,
           payment_amount=v_payment_amount
    WHERE id=p_purchase_id;
    
    CALL add_audit(p_user,'update_purchase',CONCAT('success: code=0 username=',p_user,' id=',p_purchase_id));

  ELSE
    CALL add_audit(p_user,'update_purchase',CONCAT('error: code=-3 username=',p_user,' id=',p_purchase_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_sensor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_sensor`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_user_id INTEGER,
  p_name VARCHAR(32),
  p_serial_number VARCHAR(64),
  p_device_name VARCHAR(64),
  p_phone VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_serial_number VARCHAR(64);
  DECLARE v_device_name VARCHAR(64);
  DECLARE v_phone VARCHAR(20);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_sensor',CONCAT('error: code=-1 username=',p_user,' id=',p_sensor_id));
    RETURN -1;
  END IF;

  SELECT user_id,name,serial_number,device_name,phone
  INTO v_user_id,v_name,v_serial_number,v_device_name,v_phone
  FROM sensor
  WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_user_id!=-1 AND v_user_type=1 THEN SET v_user_id=p_user_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_serial_number!='' THEN SET v_serial_number=p_serial_number; END IF;
    IF p_device_name!='' THEN SET v_device_name=p_device_name; END IF;
    IF p_phone!='' THEN SET v_phone=p_phone; END IF;

    UPDATE sensor SET user_id=v_user_id,
                      name=v_name,
                      serial_number=v_serial_number,
                      device_name=v_device_name,
                      phone=v_phone
    WHERE id=p_sensor_id;
    
    CALL add_audit(p_user,'update_sensor',CONCAT('success: code=0 username=',p_user,' id=',p_sensor_id));

  ELSE
    CALL add_audit(p_user,'update_sensor',CONCAT('error: code=-3 username=',p_user,' id=',p_sensor_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_sensor_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_sensor_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_sensor_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_sensor_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_sensor_id));
    RETURN -1;
  END IF;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=p_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    UPDATE sensor SET active=p_activity WHERE id=p_sensor_id;
    
    CALL add_audit(p_user,'update_sensor_activity',CONCAT('success: code=0 username=',p_user,' id=',p_sensor_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_sensor_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_sensor_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_sensor_group` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_sensor_group`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_group_id INTEGER,
  p_sensor_id INTEGER,
  p_name VARCHAR(32),
  p_start_date VARCHAR(20),
  p_finish_date VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_start_date VARCHAR(20);
  DECLARE v_finish_date VARCHAR(20);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id,name,start_date,finish_date
  INTO v_sensor_id,v_name,v_start_date,v_finish_date
  FROM sensor_group
  WHERE id=p_group_id;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_start_date!='' THEN SET v_start_date=p_start_date; END IF;
    IF p_finish_date!='' THEN SET v_finish_date=p_finish_date; END IF;

    UPDATE sensor_group SET sensor_id=v_sensor_id,
					         name=v_name,
                             start_date=v_start_date,
                             finish_date=v_finish_date
    WHERE id=p_group_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_sensor_place` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_sensor_place`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_place_id INTEGER,
  p_sensor_id INTEGER,
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  DECLARE v_latitude VARCHAR(20);
  DECLARE v_longitude VARCHAR(20);
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_language VARCHAR(32);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id,latitude,longitude,name,description,language
  INTO v_sensor_id,v_latitude,v_longitude,v_name,v_description,v_language
  FROM sensor_place
  WHERE id=p_place_id;

  SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_sensor_id!=-1 AND v_user_type=1 THEN SET v_sensor_id=p_sensor_id; END IF;
    IF p_latitude!='' THEN SET v_latitude=p_latitude; END IF;
    IF p_longitude!='' THEN SET v_longitude=p_longitude; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE sensor_place SET sensor_id=v_sensor_id,
                            latitude=v_latitude,
                            longitude=v_longitude,
                            name=v_name,
                            description=v_description,
                            language=v_language
    WHERE id=p_place_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_sensor_place_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_sensor_place_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_place_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id FROM sensor_place WHERE id=p_place_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE sensor_place SET picture=p_picture
      WHERE id=p_place_id;
    END IF;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_settings` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_settings`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_code VARCHAR(32),
  p_name VARCHAR(64),
  p_value VARCHAR(64)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_settings',CONCAT('error: code=-1 username=',p_user,' settings_code=',p_code));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE settings SET name=p_name,
                        value=p_value
    WHERE code=p_code;

    CALL add_audit(p_user,'update_settings',CONCAT('success: code=0 username=',p_user,' settings_code=',p_code,' value=',p_value));

  ELSE
    CALL add_audit(p_user,'update_settings',CONCAT('error: code=-3 username=',p_user,' settings_code=',p_code));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_stock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_stock`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_product_id INTEGER,
  p_store_id INTEGER,
  p_count INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_count INTEGER;

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_stock',CONCAT('error: code=-1 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));
    RETURN -1;
  END IF;

  SELECT count INTO v_count
  FROM stock
  WHERE product_id=p_product_id AND store_id=p_store_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_count!=-1 THEN SET v_count=p_count; END IF;

    UPDATE stock SET count=v_count
    WHERE product_id=p_product_id AND store_id=p_store_id;
    
    CALL add_audit(p_user,'update_stock',CONCAT('success: code=0 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));

  ELSE
    CALL add_audit(p_user,'update_stock',CONCAT('error: code=-3 username=',p_user,' product_id=',p_product_id,' store_id=',p_store_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_stock_invoice` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_stock_invoice`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_stock_invoice_id INTEGER,
  p_invoice_code VARCHAR(32),
  p_invoice_date VARCHAR(20),
  p_total_price VARCHAR(16),
  p_total_tax VARCHAR(10),
  p_supplier VARCHAR(32),
  p_phone VARCHAR(20),
  p_delivery_id INTEGER,
  p_delivery_code VARCHAR(32),
  p_delivery_type_id INTEGER,
  p_delivery_date VARCHAR(20),
  p_delivery_price VARCHAR(16),
  p_payment_date VARCHAR(20),
  p_payment_info VARCHAR(32),
  p_payment_amount VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_invoice_code VARCHAR(32);
  DECLARE v_invoice_date VARCHAR(20);
  DECLARE v_total_price VARCHAR(16);
  DECLARE v_total_tax VARCHAR(10);
  DECLARE v_supplier VARCHAR(32);
  DECLARE v_phone VARCHAR(20);
  DECLARE v_delivery_id INTEGER;
  DECLARE v_delivery_code VARCHAR(32);
  DECLARE v_delivery_type_id INTEGER;
  DECLARE v_delivery_date VARCHAR(20);
  DECLARE v_delivery_price VARCHAR(16);
  DECLARE v_payment_date VARCHAR(20);
  DECLARE v_payment_info VARCHAR(32);
  DECLARE v_payment_amount VARCHAR(16);
  DECLARE v_reserved_date VARCHAR(20);
  DECLARE v_reserved_hours VARCHAR(6);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_stock_invoice',CONCAT('error: code=-1 username=',p_user,' id=',p_stock_invoice_id));
    RETURN -1;
  END IF;

  SELECT invoice_code,invoice_date,total_price,total_tax,supplier,phone,
         delivery_id,delivery_code,delivery_type_id,delivery_date,delivery_price,
         payment_date,payment_info,payment_amount
  INTO v_invoice_code,v_invoice_date,v_total_price,v_total_tax,v_supplier,v_phone,
       v_delivery_id,v_delivery_code,v_delivery_type_id,v_delivery_date,v_delivery_price,
       v_payment_date,v_payment_info,v_payment_amount
  FROM stock_invoice
  WHERE id=p_stock_invoice_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_invoice_code!='' THEN SET v_invoice_code=p_invoice_code; END IF;
    IF p_invoice_date!='' THEN SET v_invoice_date=p_invoice_date; END IF;
    IF p_total_price!='' THEN SET v_total_price=p_total_price; END IF;
    IF p_total_tax!='' THEN SET v_total_tax=p_total_tax; END IF;
    IF p_supplier!='' THEN SET v_supplier=p_supplier; END IF;
    IF p_phone!='' THEN SET v_phone=p_phone; END IF;
    IF p_delivery_id!=-1 THEN SET v_delivery_id=p_delivery_id; ELSE SET v_delivery_id=NULL; END IF;
    IF p_delivery_code!='' THEN SET v_delivery_code=p_delivery_code; END IF;
    IF p_delivery_type_id!=-1 THEN SET v_delivery_type_id=p_delivery_type_id; ELSE SET v_delivery_type_id=NULL; END IF;
    IF p_delivery_date!='' THEN SET v_delivery_date=p_delivery_date; END IF;
    IF p_delivery_price!='' THEN SET v_delivery_price=p_delivery_price; END IF;
    IF p_payment_date!='' THEN SET v_payment_date=p_payment_date; END IF;
    IF p_payment_info!='' THEN SET v_payment_info=p_payment_info; END IF;
    IF p_payment_amount!='' THEN SET v_payment_amount=p_payment_amount; END IF;

    UPDATE stock_invoice SET
           invoice_code=v_invoice_code,
           invoice_date=v_invoice_date,
           total_price=v_total_price,
           total_tax=v_total_tax,
           supplier=v_supplier,
           phone=v_phone,
           delivery_id=v_delivery_id,
           delivery_code=v_delivery_code,
           delivery_type_id=v_delivery_type_id,
           delivery_date=v_delivery_date,
           delivery_price=v_delivery_price,
           payment_date=v_payment_date,
           payment_info=v_payment_info,
           payment_amount=v_payment_amount
    WHERE id=p_stock_invoice_id;
    
    CALL add_audit(p_user,'update_stock_invoice',CONCAT('success: code=0 username=',p_user,' id=',p_stock_invoice_id));

  ELSE
    CALL add_audit(p_user,'update_stock_invoice',CONCAT('error: code=-3 username=',p_user,' id=',p_stock_invoice_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_stock_invoice_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_stock_invoice_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_stock_invoice_id INTEGER,
  p_product_id INTEGER,
  p_tax_id INTEGER,
  p_count INTEGER,
  p_price VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_tax_id INTEGER;
  DECLARE v_count INTEGER;
  DECLARE v_price VARCHAR(16);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_stock_invoice_part',CONCAT('error: code=-1 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));
    RETURN -1;
  END IF;

  SELECT tax_id,count,price INTO v_tax_id,v_count,v_price
  FROM stock_invoice_part
  WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_tax_id!=-1 THEN SET v_tax_id=p_tax_id; ELSE SET v_tax_id=NULL; END IF;
    IF p_count!=-1 THEN SET v_count=p_count; END IF;
    IF p_price!='' THEN SET v_price=p_price; END IF;

    UPDATE stock_invoice_part SET tax_id=v_tax_id,
                                  count=v_count,
                                  price=v_price
    WHERE stock_invoice_id=p_stock_invoice_id AND product_id=p_product_id;

    -- UPDATE STOCK_INVOICE IN total_price,total_tax
    -- UPDATE STOCK IN count
    
    CALL add_audit(p_user,'update_stock_invoice_part',CONCAT('success: code=0 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));

  ELSE
    CALL add_audit(p_user,'update_stock_invoice_part',CONCAT('error: code=-3 username=',p_user,' stock_invoice_id=',p_stock_invoice_id,' product_id=',p_product_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_store` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_store`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_store_id INTEGER,
  p_name VARCHAR(128),
  p_description VARCHAR(128)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(128);
  DECLARE v_description VARCHAR(128);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_store',CONCAT('error: code=-1 username=',p_user,' id=',p_store_id));
    RETURN -1;
  END IF;

  SELECT name,description INTO v_name,v_description
  FROM store
  WHERE id=p_store_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;

    UPDATE store SET name=v_name,
                     description=v_description
    WHERE id=p_store_id;
    
    CALL add_audit(p_user,'update_store',CONCAT('success: code=0 username=',p_user,' id=',p_store_id));

  ELSE
    CALL add_audit(p_user,'update_store',CONCAT('error: code=-3 username=',p_user,' id=',p_store_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_store_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_store_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_store_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_store_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_store_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE store SET active=p_activity WHERE id=p_store_id;
    
    CALL add_audit(p_user,'update_store_activity',CONCAT('success: code=0 username=',p_user,' id=',p_store_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_store_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_store_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_store_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_store_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER,
  p_store_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_latitude VARCHAR(20),
  p_longitude VARCHAR(20),
  p_email VARCHAR(64),
  p_phone1 VARCHAR(20),
  p_phone2 VARCHAR(20),
  p_address VARCHAR(128),
  p_city VARCHAR(64),
  p_postcode VARCHAR(12),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_store_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_latitude VARCHAR(20);
  DECLARE v_longitude VARCHAR(20);
  DECLARE v_email VARCHAR(64);
  DECLARE v_phone1 VARCHAR(20);
  DECLARE v_phone2 VARCHAR(20);
  DECLARE v_address VARCHAR(128);
  DECLARE v_city VARCHAR(64);
  DECLARE v_postcode VARCHAR(12);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_store_part',CONCAT('error: code=-1 username=',p_user,' id=',p_part_id));
    RETURN -1;
  END IF;

  SELECT store_id,name,description,latitude,longitude,email,phone1,phone2,address,city,postcode,language
  INTO v_store_id,v_name,v_description,v_latitude,v_longitude,v_email,v_phone1,v_phone2,v_address,v_city,v_postcode,v_language
  FROM store_part
  WHERE id=p_part_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_store_id!=-1 THEN SET v_store_id=p_store_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_latitude!='' THEN SET v_latitude=p_latitude; END IF;
    IF p_longitude!='' THEN SET v_longitude=p_longitude; END IF;
    IF p_email!='' THEN SET v_email=p_email; END IF;
    IF p_phone1!='' THEN SET v_phone1=p_phone1; END IF;
    IF p_phone2!='' THEN SET v_phone2=p_phone2; END IF;
    IF p_address!='' THEN SET v_address=p_address; END IF;
    IF p_city!='' THEN SET v_city=p_city; END IF;
    IF p_postcode!='' THEN SET v_postcode=p_postcode; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE store_part SET store_id=v_store_id,
                          name=v_name,
                          description=v_description,
                          latitude=v_latitude,
                          longitude=v_longitude,
                          email=v_email,
                          phone1=v_phone1,
                          phone2=v_phone2,
                          address=v_address,
                          city=v_city,
                          postcode=v_postcode,
                          language=v_language
    WHERE id=p_part_id;
    
    CALL add_audit(p_user,'update_store_part',CONCAT('success: code=0 username=',p_user,' id=',p_part_id));

  ELSE
    CALL add_audit(p_user,'update_store_part',CONCAT('error: code=-3 username=',p_user,' id=',p_part_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_store_part_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_store_part_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_store_part_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_part_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE store_part SET picture=p_picture WHERE id=p_part_id;
      CALL add_audit(p_user,'update_store_part_picture',CONCAT('success: code=0 username=',p_user,' id=',p_part_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_store_part_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_part_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_store_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_store_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_store_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_store_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_store_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE store SET picture=p_picture WHERE id=p_store_id;
      CALL add_audit(p_user,'update_store_picture',CONCAT('success: code=0 username=',p_user,' id=',p_store_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_store_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_store_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_tax` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_tax`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),  
  p_tax_id INTEGER,
  p_code VARCHAR(32),
  p_name VARCHAR(32),
  p_value VARCHAR(10),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_code VARCHAR(32);
  DECLARE v_name VARCHAR(32);
  DECLARE v_value VARCHAR(10);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_tax',CONCAT('error: code=-1 username=',p_user,' id=',p_tax_id));
    RETURN -1;
  END IF;

  SELECT code,name,value,language INTO v_code,v_name,v_value,v_language
  FROM tax
  WHERE id=p_tax_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_code!='' THEN SET v_code=p_code; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_value!='' THEN SET v_value=p_value; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE tax SET code=v_code,
                   name=v_name,
                   value=v_value,
                   language=v_language
    WHERE id=p_tax_id;
    
    CALL add_audit(p_user,'update_tax',CONCAT('success: code=0 username=',p_user,' id=',p_tax_id));

  ELSE
    CALL add_audit(p_user,'update_tax',CONCAT('error: code=-3 username=',p_user,' id=',p_tax_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_track_part` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_track_part`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER,
  p_track_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  DECLARE v_track_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_language VARCHAR(32);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT track_id,name,description,language
  INTO v_track_id,v_name,v_description,v_language
  FROM track_part
  WHERE id=p_part_id;

  SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_track_id!=-1 AND v_user_type=1 THEN SET v_track_id=p_track_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE track_part SET track_id=v_track_id,
                          name=v_name,
                          description=v_description,
                          language=v_language
    WHERE id=p_part_id;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_track_part_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_track_part_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_part_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;
  DECLARE v_track_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    RETURN -1;
  END IF;

  SELECT track_id INTO v_track_id FROM track_part WHERE id=p_part_id;

  IF v_track_id IS NOT NULL THEN
    SELECT sensor_id INTO v_sensor_id FROM track WHERE id=v_track_id;
    IF v_sensor_id IS NOT NULL THEN
      SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
    END IF;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=v_user_inner_id) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE track_part SET picture=p_picture
      WHERE id=p_part_id;
    END IF;

  ELSE
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_track_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_track_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER,
  p_name VARCHAR(32),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_name VARCHAR(32);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_track_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  SELECT name,language INTO v_name,v_language
  FROM track_type
  WHERE id=p_type_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE track_type SET name=v_name,
                          language=v_language
    WHERE id=p_type_id;
    
    CALL add_audit(p_user,'update_track_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'update_track_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_transport` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_transport`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_sensor_id INTEGER,
  p_name VARCHAR(128),
  p_color VARCHAR(16),
  p_license_plate VARCHAR(12)) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;
  DECLARE v_name VARCHAR(128);
  DECLARE v_color VARCHAR(16);
  DECLARE v_license_plate VARCHAR(12);

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_transport',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  SELECT sensor_id,name,color,license_plate INTO v_sensor_id,v_name,v_color,v_license_plate
  FROM transport
  WHERE id=p_transport_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN

    IF p_sensor_id!=-1 THEN SET v_sensor_id=p_sensor_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_color!='' THEN SET v_color=p_color; END IF;
    IF p_license_plate!='' THEN SET v_license_plate=p_license_plate; END IF;

    UPDATE transport SET sensor_id=v_sensor_id,
                         name=v_name,
                         color=v_color,
                         license_plate=v_license_plate
    WHERE id=p_transport_id;
    
    CALL add_audit(p_user,'update_transport',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id));

  ELSE
    CALL add_audit(p_user,'update_transport',CONCAT('error: code=-3 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_transport_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_transport_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_inner_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_user_id INTEGER;
  DECLARE v_sensor_id INTEGER;

  SELECT id,type INTO v_user_inner_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_transport_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  SELECT sensor_id INTO v_sensor_id
  FROM transport
  WHERE id=p_transport_id;

  IF v_sensor_id IS NOT NULL THEN
    SELECT user_id INTO v_user_id FROM sensor WHERE id=v_sensor_id;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_type=2 AND v_user_id=v_user_inner_id) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE transport SET picture=p_picture
      WHERE id=p_transport_id;
      CALL add_audit(p_user,'update_transport_picture',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id));
    END IF;

  ELSE
    CALL add_audit(p_user,'update_transport_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_transport_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_transport_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_transport_id INTEGER,
  p_review_count INTEGER,
  p_review_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_transport_review',CONCAT('error: code=-1 username=',p_user,' id=',p_transport_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE transport SET review_count=p_review_count,
                         review_value=p_review_value
	WHERE id=p_transport_id;

   CALL add_audit(p_user,'update_transport_review',CONCAT('success: code=0 username=',p_user,' id=',p_transport_id,' count=',p_review_count,' value=',p_review_value));

  ELSE
    CALL add_audit(p_user,'update_transport_review',CONCAT('error: code=-3 username=',p_user,' id=',p_transport_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_transport_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_transport_type`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_type_id INTEGER,
  p_parent_id INTEGER,
  p_name VARCHAR(32),
  p_description VARCHAR(128),
  p_language VARCHAR(32)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_parent_id INTEGER;
  DECLARE v_name VARCHAR(32);
  DECLARE v_description VARCHAR(128);
  DECLARE v_language VARCHAR(32);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_transport_type',CONCAT('error: code=-1 username=',p_user,' id=',p_type_id));
    RETURN -1;
  END IF;

  SELECT parent_id,name,description,language INTO v_parent_id,v_name,v_description,v_language
  FROM transport_type
  WHERE id=p_type_id;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_parent_id!=-1 THEN SET v_parent_id=p_parent_id; END IF;
    IF p_name!='' THEN SET v_name=p_name; END IF;
    IF p_description!='' THEN SET v_description=p_description; END IF;
    IF p_language!='' THEN SET v_language=p_language; END IF;

    UPDATE transport_type SET parent_id=v_parent_id,
                              name=v_name,
                              description=v_description,
                              language=v_language
    WHERE id=p_type_id;
    
    CALL add_audit(p_user,'update_transport_type',CONCAT('success: code=0 username=',p_user,' id=',p_type_id));

  ELSE
    CALL add_audit(p_user,'update_transport_type',CONCAT('error: code=-3 username=',p_user,' id=',p_type_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_type INTEGER,
  p_first_name VARCHAR(32),
  p_last_name VARCHAR(32),
  p_call_name VARCHAR(32),
  p_email VARCHAR(64),
  p_phone VARCHAR(20)) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  DECLARE v_type INTEGER;
  DECLARE v_first_name VARCHAR(32);
  DECLARE v_last_name VARCHAR(32);
  DECLARE v_call_name VARCHAR(32);
  DECLARE v_email VARCHAR(64);
  DECLARE v_phone VARCHAR(20);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  IF v_user_type=1 THEN
    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone
    FROM user
    WHERE id=p_user_id;
  ELSE
    SELECT id,type,first_name,last_name,call_name,email,phone INTO v_user_id,v_type,v_first_name,v_last_name,v_call_name,v_email,v_phone
    FROM user
    WHERE username=p_user AND password=p_pass;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=p_user_id) THEN

    IF p_type!=-1 AND v_user_type=1 THEN SET v_type=p_type; END IF;

    IF p_first_name!='' THEN SET v_first_name=p_first_name; END IF;
    IF p_last_name!='' THEN SET v_last_name=p_last_name; END IF;
    IF p_call_name!='' THEN SET v_call_name=p_call_name; END IF;
    IF p_email!='' THEN SET v_email=p_email; END IF;
    IF p_phone!='' THEN SET v_phone=p_phone; END IF;

    UPDATE user SET type=v_type,
                    first_name=v_first_name,
                    last_name=v_last_name,
                    call_name=v_call_name,
                    email=v_email,
                    phone=v_phone
    WHERE id=p_user_id;

    CALL add_audit(p_user,'update_user',CONCAT('success: code=0 username=',p_user,' id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'update_user',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_activity` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_activity`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_activity TINYINT(1)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_activity',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE user SET active=p_activity WHERE id=p_user_id;

    CALL add_audit(p_user,'update_user_activity',CONCAT('success: code=0 username=',p_user,' id=',p_user_id,' active=',p_activity));

  ELSE
    CALL add_audit(p_user,'update_user_activity',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_discount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_discount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_discount_code VARCHAR(8)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_discount',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_discount_code='' THEN SET p_discount_code=NULL; END IF;

    UPDATE user SET discount_code=p_discount_code WHERE id=p_user_id;

    CALL add_audit(p_user,'update_user_discount',CONCAT('success: code=0 username=',p_user,' id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'update_user_discount',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_password` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_password`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_password_for_update VARCHAR(16)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_password',CONCAT('error: code=-1 username=',p_user));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF (v_user='root@localhost' OR v_user='fa_admin@localhost' OR
      v_user='fa_client@localhost') AND p_password_for_update!='' THEN
    UPDATE user SET password=p_password_for_update
    WHERE username=p_user;
    CALL add_audit(p_user,'update_user_password',CONCAT('success: code=0 username=',p_user));
  ELSE
    CALL add_audit(p_user,'update_user_password',CONCAT('error: code=-3 username=',p_user));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_picture` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_picture`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_picture MEDIUMBLOB) RETURNS int(11)
BEGIN
  DECLARE v_user_id INTEGER;
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT id,type INTO v_user_id,v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_picture',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF p_user_id=-1 THEN SET p_user_id=v_user_id; END IF;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) OR
     (v_user='fa_client@localhost' AND v_user_id=p_user_id) THEN

    IF p_picture IS NOT NULL THEN
      UPDATE user SET picture=p_picture
      WHERE id=p_user_id;

      CALL add_audit(p_user,'update_user_picture',CONCAT('success: code=0 username=',p_user,' id=',p_user_id));

    END IF;

  ELSE
    CALL add_audit(p_user,'update_user_picture',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_prepaid_amount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_prepaid_amount`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_user_id INTEGER,
  p_prepaid_amount VARCHAR(8)) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_prepaid_amount',CONCAT('error: code=-1 username=',p_user,' id=',p_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    IF p_prepaid_amount='' THEN SET p_prepaid_amount=NULL; END IF;

    UPDATE user SET prepaid_amount=p_prepaid_amount WHERE id=p_user_id;

    CALL add_audit(p_user,'update_user_prepaid_amount',CONCAT('success: code=0 username=',p_user,' id=',p_user_id));

  ELSE
    CALL add_audit(p_user,'update_user_prepaid_amount',CONCAT('error: code=-3 username=',p_user,' id=',p_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `update_user_review` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` FUNCTION `update_user_review`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),
  p_review_user_id INTEGER,
  p_review_count INTEGER,
  p_review_value INTEGER) RETURNS int(11)
BEGIN
  DECLARE v_user_type INTEGER;
  DECLARE v_user VARCHAR(64);

  SELECT type INTO v_user_type
  FROM user
  WHERE username=p_user AND password=p_pass;

  IF v_user_type IS NULL THEN
    CALL add_audit(p_user,'update_user_review',CONCAT('error: code=-1 username=',p_user,' id=',p_review_user_id));
    RETURN -1;
  END IF;

  #SELECT SUBSTRING_INDEX(USER(),"@",1);
  SELECT user() INTO v_user;

  IF v_user='root@localhost' OR v_user='fa_admin@localhost' OR
     (v_user='fa_client@localhost' AND v_user_type=1) THEN

    UPDATE user SET review_count=p_review_count,
                    review_value=p_review_value
	WHERE id=p_review_user_id;

    CALL add_audit(p_user,'update_user_review',CONCAT('success: code=0 username=',p_user,' id=',p_review_user_id));

  ELSE
    CALL add_audit(p_user,'update_user_review',CONCAT('error: code=-3 username=',p_user,' id=',p_review_user_id));
    RETURN -3;
  END IF;

  RETURN 0;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `add_audit` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `add_audit`(
  p_username VARCHAR(64),
  p_name VARCHAR(48),
  p_description VARCHAR(128))
BEGIN
  DECLARE v_audit BOOLEAN;

  SELECT audit FROM preferences WHERE code='fA' INTO v_audit;

  IF v_audit THEN
    INSERT INTO audit (username,name,description) VALUES (p_username,p_name,p_description);
  END IF;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `update_audit_message` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `update_audit_message`(
  p_user VARCHAR(64),
  p_pass VARCHAR(16),  
  p_audit_id INTEGER,
  p_message VARCHAR(256))
BEGIN
  UPDATE audit SET message=p_message WHERE id=p_audit_id;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `update_user_prepaid_amount_by_fee_value` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `update_user_prepaid_amount_by_fee_value`(
  p_user VARCHAR(64),
  p_user_id INTEGER,
  p_is_increase BOOLEAN,
  v_user_fee_value DECIMAL(6,2),
  v_user_fee_percent DECIMAL(6,2),
  v_total_price DECIMAL(6,2),
  p_keyword VARCHAR(8))
BEGIN
  IF p_keyword='E2E4F117' AND p_user_id IS NOT NULL AND (p_user_fee_value IS NOT NULL OR p_user_fee_percent IS NOT NULL) THEN

    IF p_user_fee_value IS NOT NULL AND (p_total_price IS NULL OR p_user_fee_percent IS NULL) THEN
	  IF p_is_increase THEN
		UPDATE user SET prepaid_amount=prepaid_amount+p_user_fee_value WHERE id=p_user_id;
		CALL add_audit(p_user,'update_user_prepaid_amount_by_fee_value',CONCAT('success: code=0 username=',p_user,' user_id=',p_user_id,' +',p_user_fee_value));
	  ELSE
		UPDATE user SET prepaid_amount=prepaid_amount-p_user_fee_value WHERE id=p_user_id;
		CALL add_audit(p_user,'update_user_prepaid_amount_by_fee_value',CONCAT('success: code=0 username=',p_user,' user_id=',p_user_id,' -',p_user_fee_value));
	  END IF;
	END IF;

	IF v_user_fee_percent IS NOT NULL AND p_total_price IS NOT NULL THEN
	  IF p_is_increase THEN
		UPDATE user SET prepaid_amount=prepaid_amount+(p_total_price*p_user_fee_percent)/100;
		CALL add_audit(p_user,'update_user_prepaid_amount_by_fee_value',CONCAT('success: code=0 username=',p_user,' user_id=',p_user_id,' +',p_user_fee_percent,'%'));
	  ELSE
        UPDATE user SET prepaid_amount=prepaid_amount-(p_total_price*p_user_fee_percent)/100;
		CALL add_audit(p_user,'update_user_prepaid_amount_by_fee_value',CONCAT('success: code=0 username=',p_user,' user_id=',p_user_id,' -',v_user_fee_percent,'%'));
	  END IF;
	END IF;
      
  END IF;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `update_user_prepaid_amount_by_order_AB` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `update_user_prepaid_amount_by_order_AB`(
  p_user VARCHAR(64),
  p_order_id INTEGER,
  p_transport_id INTEGER,
  p_is_increase BOOLEAN,
  p_keyword VARCHAR(8))
BEGIN
  DECLARE v_driver_id INTEGER;

  DECLARE v_driver_fee_value DECIMAL(6,2);
  DECLARE v_driver_fee_percent DECIMAL(6,2);
  DECLARE v_total_price DECIMAL(6,2);

  SELECT value INTO v_driver_fee_value FROM tax WHERE code='driver_fee_value';
  SELECT value INTO v_driver_fee_percent FROM tax WHERE code='driver_fee_percent';

  IF p_keyword='E2E4F117' AND (v_driver_fee_value IS NOT NULL OR v_driver_fee_percent IS NOT NULL) THEN

    SELECT u.id INTO v_driver_id
    FROM transport t LEFT JOIN sensor s ON s.id=t.sensor_id LEFT JOIN user u ON u.id=s.user_id
    WHERE t.id=p_transport_id;

	IF v_driver_id IS NOT NULL THEN

      SELECT total_price INTO v_total_price FROM order_AB WHERE id=p_order_id;

	  IF v_driver_fee_value IS NOT NULL AND (v_total_price IS NULL OR v_driver_fee_percent IS NULL) THEN
        IF p_is_increase THEN
          UPDATE user SET prepaid_amount=prepaid_amount+v_driver_fee_value WHERE id=v_driver_id;
          CALL add_audit(p_user,'update_user_prepaid_amount_by_order_AB',CONCAT('success: code=0 username=',p_user,' user_id=',v_driver_id,' order_id=',p_order_id,' +',v_driver_fee_value));
	    ELSE
          UPDATE user SET prepaid_amount=prepaid_amount-v_driver_fee_value WHERE id=v_driver_id;
          CALL add_audit(p_user,'update_user_prepaid_amount_by_order_AB',CONCAT('success: code=0 username=',p_user,' user_id=',v_driver_id,' order_id=',p_order_id,' -',v_driver_fee_value));
        END IF;
      END IF;

      IF v_driver_fee_percent IS NOT NULL AND v_total_price IS NOT NULL THEN
		IF p_is_increase THEN
		  UPDATE user SET prepaid_amount=prepaid_amount+(v_total_price*v_driver_fee_percent)/100;
		  CALL add_audit(p_user,'update_user_prepaid_amount_by_order_AB',CONCAT('success: code=0 username=',p_user,' user_id=',v_driver_id,' order_id=',p_order_id,' +',v_driver_fee_percent,'%'));
		ELSE
		  UPDATE user SET prepaid_amount=prepaid_amount-(v_total_price*v_driver_fee_percent)/100;
		  CALL add_audit(p_user,'update_user_prepaid_amount_by_order_AB',CONCAT('success: code=0 username=',p_user,' user_id=',v_driver_id,' order_id=',p_order_id,' -',v_driver_fee_percent,'%'));
		END IF;
      END IF;

    END IF;
  END IF;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-01-18 13:12:13
